<svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" data-diagram-type="CLASS" height="5797px"
     preserveAspectRatio="none" style="width:8327px;height:5797px;background:#FFFFFF;" version="1.1"
     viewBox="0 0 8327 5797" width="8327px" zoomAndPan="magnify"><defs/><g><!--cluster common--><g class="cluster" data-entity="common" data-source-line="4" data-uid="ent0002" id="cluster_common"><path d="M3169.5,3549.652 L3231.6238,3549.652 A3.75,3.75 0 0 1 3234.1238,3552.152 L3241.1238,3574.7199 L5839.5,3574.7199 A2.5,2.5 0 0 1 5842,3577.2199 L5842,5787.572 A2.5,2.5 0 0 1 5839.5,5790.072 L3169.5,5790.072 A2.5,2.5 0 0 1 3167,5787.572 L3167,3552.152 A2.5,2.5 0 0 1 3169.5,3549.652" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="3167" x2="3241.1238" y1="3574.7199" y2="3574.7199"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="61.1238" x="3171" y="3566.6179">common</text></g><!--cluster server--><g class="cluster" data-entity="server" data-source-line="331" data-uid="ent0087" id="cluster_server"><path d="M5868.5,2618.602 L5913.7538,2618.602 A3.75,3.75 0 0 1 5916.2538,2621.102 L5923.2538,2643.6699 L8317.5,2643.6699 A2.5,2.5 0 0 1 8320,2646.1699 L8320,5044.082 A2.5,2.5 0 0 1 8317.5,5046.582 L5868.5,5046.582 A2.5,2.5 0 0 1 5866,5044.082 L5866,2621.102 A2.5,2.5 0 0 1 5868.5,2618.602" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="5866" x2="5923.2538" y1="2643.6699" y2="2643.6699"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="44.2538" x="5870" y="2635.5679">server</text></g><!--cluster client--><g class="cluster" data-entity="client" data-source-line="550" data-uid="ent0139" id="cluster_client"><path d="M8.5,6.602 L48.6158,6.602 A3.75,3.75 0 0 1 51.1158,9.102 L58.1158,31.6699 L3140.5,31.6699 A2.5,2.5 0 0 1 3143,34.1699 L3143,4284.642 A2.5,2.5 0 0 1 3140.5,4287.142 L8.5,4287.142 A2.5,2.5 0 0 1 6,4284.642 L6,9.102 A2.5,2.5 0 0 1 8.5,6.602" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="58.1158" y1="31.6699" y2="31.6699"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="39.1158" x="10" y="23.5679">client</text></g><!--class Packet--><g class="entity" data-entity="Packet" data-source-line="7" data-uid="ent0003" id="entity_Packet"><rect fill="#F1F1F1" height="257.7471" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="290.389" x="3676.81" y="4099.202"/><ellipse cx="3796.0196" cy="4115.202" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3795.4883,4122.1239 Q3793.7383,4122.1239 3792.5977,4121.3895 Q3791.4727,4120.6395 3790.9102,4119.2957 Q3790.3633,4117.9364 3790.3633,4116.1395 Q3790.3633,4114.1082 3791.0196,4112.6551 Q3791.6758,4111.202 3792.9571,4110.4207 Q3794.2383,4109.6395 3796.1133,4109.6395 Q3797.004,4109.6395 3797.6758,4109.827 Q3798.3477,4109.9989 3799.0352,4110.3426 L3798.2227,4112.3582 Q3797.5977,4112.0457 3797.0508,4111.9207 Q3796.5196,4111.7957 3796.0352,4111.7957 Q3794.8633,4111.7957 3794.1602,4112.327 Q3793.4571,4112.8582 3793.1602,4113.8114 Q3792.8633,4114.7645 3792.8633,4116.0301 Q3792.8633,4118.0457 3793.5821,4119.0145 Q3794.3008,4119.9676 3795.8946,4119.9676 Q3796.4883,4119.9676 3797.1133,4119.8114 Q3797.7383,4119.6551 3798.5665,4119.2801 L3798.5665,4121.4989 Q3797.8321,4121.8114 3797.0352,4121.9676 Q3796.254,4122.1239 3795.4883,4122.1239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.4698" x="3816.5196" y="4120.634">Packet</text><line style="stroke:#181818;stroke-width:0.5;" x1="3677.81" x2="3966.199" y1="4131.202" y2="4131.202"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3684.81" y="4143.2359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192.9752" x="3696.81" y="4150.1679">buffer: ByteBuffer {readOnly}</text><line style="stroke:#181818;stroke-width:1;" x1="3677.81" x2="3966.199" y1="4158.2699" y2="4158.2699"/><ellipse cx="3687.81" cy="4173.3039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.2677" x="3696.81" y="4177.2358">from(): int</text><ellipse cx="3687.81" cy="4192.3718" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6338" x="3696.81" y="4196.3038">to(): int</text><ellipse cx="3687.81" cy="4211.4397" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.0336" x="3696.81" y="4215.3717">payloadSize(): int</text><ellipse cx="3687.81" cy="4230.5076" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.7752" x="3696.81" y="4234.4396">messageType(): MessageType</text><ellipse cx="3687.81" cy="4249.5755" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.6134" x="3696.81" y="4253.5075">getPayload(): ByteBuffer</text><ellipse cx="3687.81" cy="4268.6434" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229.4031" x="3696.81" y="4272.5754">getModifiablePayload(): ByteBuffer</text><ellipse cx="3687.81" cy="4287.7114" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.8553" x="3696.81" y="4291.6433">asByteBuffer(): ByteBuffer</text><ellipse cx="3687.81" cy="4306.7793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.9575" x="3696.81" y="4310.7113">asByteArray(): byte[]</text><ellipse cx="3687.81" cy="4325.8472" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249.6751" x="3696.81" y="4329.7792">writeTo(dos: DataOutputStream): void</text><ellipse cx="3687.81" cy="4344.9151" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="264.389" x="3696.81" y="4348.8471">readFrom(dis: DataInputStream): Packet</text></g><g class="entity" data-entity="GMN4" data-source-line="22" data-uid="ent0005" id="entity_GMN4"><path d="M3182.99,4523.112 L3182.99,4568.524 L3513.0004,4568.524 L3513.0004,4533.112 L3503.0004,4523.112 L3182.99,4523.112" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3503.0004,4523.112 L3503.0004,4533.112 L3513.0004,4533.112 L3503.0004,4523.112" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="142.3371" x="3188.99" y="4542.009">Structure de l'en-t&#234;te:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="309.0104" x="3188.99" y="4559.715">LENGTH(4) | TYPE(4) | FROM(4) | TO(4) | PAYLOAD</text></g><!--class PacketBuilder--><g class="entity" data-entity="PacketBuilder" data-source-line="26" data-uid="ent0007" id="entity_PacketBuilder"><rect fill="#F1F1F1" height="276.815" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="367.8648" x="3638.07" y="3762.382"/><ellipse cx="3772.3856" cy="3778.382" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3771.8543,3785.3039 Q3770.1043,3785.3039 3768.9637,3784.5695 Q3767.8387,3783.8195 3767.2762,3782.4757 Q3766.7293,3781.1164 3766.7293,3779.3195 Q3766.7293,3777.2882 3767.3856,3775.8351 Q3768.0418,3774.382 3769.3231,3773.6007 Q3770.6043,3772.8195 3772.4793,3772.8195 Q3773.3699,3772.8195 3774.0418,3773.007 Q3774.7137,3773.1789 3775.4012,3773.5226 L3774.5887,3775.5382 Q3773.9637,3775.2257 3773.4168,3775.1007 Q3772.8856,3774.9757 3772.4012,3774.9757 Q3771.2293,3774.9757 3770.5262,3775.507 Q3769.8231,3776.0382 3769.5262,3776.9914 Q3769.2293,3777.9445 3769.2293,3779.2101 Q3769.2293,3781.2257 3769.9481,3782.1945 Q3770.6668,3783.1476 3772.2606,3783.1476 Q3772.8543,3783.1476 3773.4793,3782.9914 Q3774.1043,3782.8351 3774.9324,3782.4601 L3774.9324,3784.6789 Q3774.1981,3784.9914 3773.4012,3785.1476 Q3772.6199,3785.3039 3771.8543,3785.3039 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.7336" x="3792.8856" y="3783.814">PacketBuilder</text><line style="stroke:#181818;stroke-width:0.5;" x1="3639.07" x2="4004.9348" y1="3794.382" y2="3794.382"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3646.07" y="3806.4159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.7216" x="3658.07" y="3813.3479">buf: ByteBuffer</text><line style="stroke:#181818;stroke-width:1;" x1="3639.07" x2="4004.9348" y1="3821.4499" y2="3821.4499"/><ellipse cx="3649.07" cy="3836.4839" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201.7672" x="3658.07" y="3840.4158">PacketBuilder(payloadSize: int)</text><ellipse cx="3649.07" cy="3855.5518" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.4931" x="3658.07" y="3859.4838">reset(payloadSize: int): PacketBuilder</text><ellipse cx="3649.07" cy="3874.6197" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217.6572" x="3658.07" y="3878.5517">setFrom(from: int): PacketBuilder</text><ellipse cx="3649.07" cy="3893.6876" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.6693" x="3658.07" y="3897.6196">setTo(to: int): PacketBuilder</text><ellipse cx="3649.07" cy="3912.7555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="341.8648" x="3658.07" y="3916.6875">setMessageType(type: MessageType): PacketBuilder</text><ellipse cx="3649.07" cy="3931.8234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="275.645" x="3658.07" y="3935.7554">setPayload(payload: byte[]): PacketBuilder</text><ellipse cx="3649.07" cy="3950.8914" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247.855" x="3658.07" y="3954.8233">fillFrom(bf: ByteBuffer): PacketBuilder</text><ellipse cx="3649.07" cy="3969.9593" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.6134" x="3658.07" y="3973.8913">getPayload(): ByteBuffer</text><ellipse cx="3649.07" cy="3989.0272" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8815" x="3658.07" y="3992.9592">isReady(): boolean</text><ellipse cx="3649.07" cy="4008.0951" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.7594" x="3658.07" y="4012.0271">isCompleted(): boolean</text><ellipse cx="3649.07" cy="4027.163" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.3576" x="3658.07" y="4031.095">build(): Packet</text></g><g class="entity" data-entity="GMN8" data-source-line="42" data-uid="ent0009" id="entity_GMN8"><path d="M3685.65,3598.472 L3685.65,3643.884 A0,0 0 0 0 3685.65,3643.884 L3841.79,3643.884 L3845.79,3762.062 L3849.79,3643.884 L4042.3493,3643.884 A0,0 0 0 0 4042.3493,3643.884 L4042.3493,3608.472 L4032.3493,3598.472 L3685.65,3598.472 A0,0 0 0 0 3685.65,3598.472" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4032.3493,3598.472 L4032.3493,3608.472 L4042.3493,3608.472 L4032.3493,3598.472" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="102.8431" x="3691.65" y="3617.369">Pattern: Builder</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335.6993" x="3691.65" y="3635.075">PacketBuilder est une classe interne statique de Packet</text></g><!--class PacketProcessor--><g class="entity" data-entity="PacketProcessor" data-source-line="49" data-uid="ent0012" id="entity_PacketProcessor"><rect fill="#F1F1F1" height="67.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="300.049" x="3182.98" y="3587.652"/><ellipse cx="3278.2217" cy="3603.652" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3274.2529,3610.152 L3274.2529,3608.4489 L3276.6123,3608.1832 L3276.6123,3599.9801 L3274.2529,3599.7145 L3274.2529,3598.0114 L3281.3936,3598.0114 L3281.3936,3599.7145 L3278.9717,3599.9801 L3278.9717,3608.1832 L3281.3936,3608.4489 L3281.3936,3610.152 L3274.2529,3610.152 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="101.0656" x="3298.7217" y="3609.084">PacketProcessor</text><line style="stroke:#181818;stroke-width:0.5;" x1="3183.98" x2="3482.029" y1="3619.652" y2="3619.652"/><line style="stroke:#181818;stroke-width:0.5;" x1="3183.98" x2="3482.029" y1="3627.652" y2="3627.652"/><ellipse cx="3193.98" cy="3642.6859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274.049" x="3202.98" y="3646.6179">process(message: ProtocolMessage): void</text></g><g class="entity" data-entity="GMN13" data-source-line="53" data-uid="ent0014" id="entity_GMN13"><path d="M3517.68,3607.332 L3517.68,3617.072 L3483.35,3621.072 L3517.68,3625.072 L3517.68,3635.038 A0,0 0 0 0 3517.68,3635.038 L3650.3241,3635.038 A0,0 0 0 0 3650.3241,3635.038 L3650.3241,3617.332 L3640.3241,3607.332 L3517.68,3607.332 A0,0 0 0 0 3517.68,3607.332" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3640.3241,3607.332 L3640.3241,3617.332 L3650.3241,3617.332 L3640.3241,3607.332" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111.6441" x="3523.68" y="3626.229">Pattern: Strategy</text></g><!--class MessageType--><g class="entity" data-entity="MessageType" data-source-line="57" data-uid="ent0016" id="entity_MessageType"><rect fill="#F1F1F1" height="429.3583" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="237.6372" x="5411.18" y="4734.692"/><ellipse cx="5480.8508" cy="4750.692" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5477.2101,4757.192 L5477.2101,4745.0514 L5484.8664,4745.0514 L5484.8664,4747.1764 L5479.5851,4747.1764 L5479.5851,4749.8326 L5484.6008,4749.8326 L5484.6008,4751.9576 L5479.5851,4751.9576 L5479.5851,4755.067 L5484.8664,4755.067 L5484.8664,4757.192 L5477.2101,4757.192 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.7957" x="5501.3508" y="4756.124">MessageType</text><line style="stroke:#181818;stroke-width:0.5;" x1="5412.18" x2="5647.8172" y1="4766.692" y2="4766.692"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.5559" x="5417.18" y="4785.6579">TEXT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.3938" x="5417.18" y="4804.7258">MEDIA</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.4816" x="5417.18" y="4823.7938">CREATE_USER</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.6076" x="5417.18" y="4842.8617">CREATE_GROUP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.9816" x="5417.18" y="4861.9296">UPDATE_PSEUDO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.3856" x="5417.18" y="4880.9975">ADD_CONTACT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.1274" x="5417.18" y="4900.0654">ADD_GROUP_MEMBER</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.0493" x="5417.18" y="4919.1333">REMOVE_GROUP_MEMBER</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.4754" x="5417.18" y="4938.2013">UPDATE_GROUP_NAME</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.4456" x="5417.18" y="4957.2692">DELETE_GROUP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.0036" x="5417.18" y="4976.3371">LEAVE_GROUP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.3815" x="5417.18" y="4995.405">MESSAGE_REACTION</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.0136" x="5417.18" y="5014.4729">NOTIFICATION</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.6598" x="5417.18" y="5033.5408">EMPTY</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.8418" x="5417.18" y="5052.6088">ERROR</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.9978" x="5417.18" y="5071.6767">NONE</text><line style="stroke:#181818;stroke-width:1;" x1="5412.18" x2="5647.8172" y1="5079.7787" y2="5079.7787"/><ellipse cx="5422.18" cy="5094.8126" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="184.5193" x="5431.18" y="5098.7446">fromInt(i: int): MessageType</text><ellipse cx="5422.18" cy="5113.8805" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="211.6372" x="5431.18" y="5117.8125">fromByte(b: byte): MessageType</text><ellipse cx="5422.18" cy="5132.9484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.2057" x="5431.18" y="5136.8804">toByte(): byte</text><ellipse cx="5422.18" cy="5152.0164" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.1076" x="5431.18" y="5155.9483">toString(): String</text></g><!--class ProtocolMessage--><g class="entity" data-entity="ProtocolMessage" data-source-line="82" data-uid="ent0017" id="entity_ProtocolMessage"><rect fill="#F1F1F1" height="257.7471" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="304.9349" x="4746.53" y="4416.952"/><ellipse cx="4841.9187" cy="4432.952" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4837.0905,4438.702 L4840.4343,4426.5145 L4843.5749,4426.5145 L4846.9499,4438.702 L4844.4812,4438.702 L4843.7468,4435.6864 L4840.2312,4435.6864 L4839.4812,4438.702 L4837.0905,4438.702 Z M4841.4968,4430.6551 L4840.7468,4433.6551 L4843.2624,4433.6551 L4842.5437,4430.6551 Q4842.403,4430.077 4842.278,4429.5301 Q4842.153,4428.9676 4842.0124,4428.3895 Q4841.903,4428.9676 4841.7624,4429.5301 Q4841.6218,4430.077 4841.4968,4430.6551 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="105.6576" x="4862.4187" y="4438.384">ProtocolMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="4747.53" x2="5050.4649" y1="4448.952" y2="4448.952"/><polygon fill="none" points="4757.53,4458.9859,4761.53,4462.9859,4757.53,4466.9859,4753.53,4462.9859" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.3753" x="4766.53" y="4467.9179">messageType: MessageType</text><polygon fill="none" points="4757.53,4478.0539,4761.53,4482.0539,4757.53,4486.0539,4753.53,4482.0539" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.8678" x="4766.53" y="4486.9858">from: int</text><polygon fill="none" points="4757.53,4497.1218,4761.53,4501.1218,4757.53,4505.1218,4753.53,4501.1218" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.2339" x="4766.53" y="4506.0538">to: int</text><line style="stroke:#181818;stroke-width:1;" x1="4747.53" x2="5050.4649" y1="4514.1557" y2="4514.1557"/><ellipse cx="4757.53" cy="4529.1897" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="109.4656" x="4766.53" y="4533.1217">toPacket(): Packet</text><ellipse cx="4757.53" cy="4548.2576" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="201.4173" x="4766.53" y="4552.1896">fromPacket(packet: Packet): void</text><ellipse cx="4757.53" cy="4567.3255" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216.9432" x="4766.53" y="4571.2575">getMessageType(): MessageType</text><ellipse cx="4757.53" cy="4586.3934" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.2777" x="4766.53" y="4590.3254">getFrom(): int</text><ellipse cx="4757.53" cy="4605.4614" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.9237" x="4766.53" y="4609.3933">getTo(): int</text><polygon fill="#FFFF44" points="4757.53,4619.5293,4761.53,4623.5293,4757.53,4627.5293,4753.53,4623.5293" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.7274" x="4766.53" y="4628.4613">setFrom(from: int): void</text><polygon fill="#FFFF44" points="4757.53,4638.5972,4761.53,4642.5972,4757.53,4646.5972,4753.53,4642.5972" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.7395" x="4766.53" y="4647.5292">setTo(to: int): void</text><polygon fill="#FFFF44" points="4757.53,4657.6651,4761.53,4661.6651,4757.53,4665.6651,4753.53,4661.6651" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="278.9349" x="4766.53" y="4666.5971">setMessageType(type: MessageType): void</text></g><!--class TextMessage--><g class="entity" data-entity="TextMessage" data-source-line="97" data-uid="ent0018" id="entity_TextMessage"><rect fill="#F1F1F1" height="314.9508" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="516.8801" x="3732.56" y="4791.902"/><ellipse cx="3943.4972" cy="4807.902" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3942.966,4814.8239 Q3941.216,4814.8239 3940.0754,4814.0895 Q3938.9504,4813.3395 3938.3879,4811.9957 Q3937.841,4810.6364 3937.841,4808.8395 Q3937.841,4806.8082 3938.4972,4805.3551 Q3939.1535,4803.902 3940.4347,4803.1207 Q3941.716,4802.3395 3943.591,4802.3395 Q3944.4816,4802.3395 3945.1535,4802.527 Q3945.8254,4802.6989 3946.5129,4803.0426 L3945.7004,4805.0582 Q3945.0754,4804.7457 3944.5285,4804.6207 Q3943.9972,4804.4957 3943.5129,4804.4957 Q3942.341,4804.4957 3941.6379,4805.027 Q3940.9347,4805.5582 3940.6379,4806.5114 Q3940.341,4807.4645 3940.341,4808.7301 Q3940.341,4810.7457 3941.0597,4811.7145 Q3941.7785,4812.6676 3943.3722,4812.6676 Q3943.966,4812.6676 3944.591,4812.5114 Q3945.216,4812.3551 3946.0441,4811.9801 L3946.0441,4814.1989 Q3945.3097,4814.5114 3944.5129,4814.6676 Q3943.7316,4814.8239 3942.966,4814.8239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.5057" x="3963.9972" y="4813.334">TextMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="3733.56" x2="4248.4401" y1="4823.902" y2="4823.902"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3740.56" y="4835.9359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.9016" x="3752.56" y="4842.8679">messageId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3740.56" y="4855.0039"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.2856" x="3752.56" y="4861.9358">content: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3740.56" y="4874.0718"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.8034" x="3752.56" y="4881.0038">replyToMessageId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3740.56" y="4893.1397"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.7016" x="3752.56" y="4900.0717">timestamp: long</text><line style="stroke:#181818;stroke-width:1;" x1="3733.56" x2="4248.4401" y1="4908.1736" y2="4908.1736"/><ellipse cx="3743.56" cy="4923.2076" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.9056" x="3752.56" y="4927.1396">TextMessage()</text><ellipse cx="3743.56" cy="4942.2755" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="490.8801" x="3752.56" y="4946.2075">generateNewMessageId(messageIdGenerator: MessageIdGenerator): void</text><ellipse cx="3743.56" cy="4961.3434" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.4695" x="3752.56" y="4965.2754">getMessageId(): String</text><ellipse cx="3743.56" cy="4980.4114" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.3735" x="3752.56" y="4984.3433">getContent(): String</text><ellipse cx="3743.56" cy="4999.4793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200.6892" x="3752.56" y="5003.4113">getReplyToMessageId(): String</text><ellipse cx="3743.56" cy="5018.5472" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.1632" x="3752.56" y="5022.4792">setContent(content: String): void</text><ellipse cx="3743.56" cy="5037.6151" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="296.6309" x="3752.56" y="5041.5471">setReplyToMessageId(replyToId: String): void</text><ellipse cx="3743.56" cy="5056.683" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.3915" x="3752.56" y="5060.615">getTimestamp(): long</text><ellipse cx="3743.56" cy="5075.7509" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="3752.56" y="5079.6829">toPacket(): Packet</text><ellipse cx="3743.56" cy="5094.8189" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.6952" x="3752.56" y="5098.7508">fromPacket(packet: Packet): void</text></g><g class="entity" data-entity="GMN20" data-source-line="115" data-uid="ent0021" id="entity_GMN20"><path d="M3822.52,5292.082 L3822.52,5337.494 A0,0 0 0 0 3822.52,5337.494 L4159.4853,5337.494 A0,0 0 0 0 4159.4853,5337.494 L4159.4853,5302.082 L4149.4853,5292.082 L3995,5292.082 L3991,5107.262 L3987,5292.082 L3822.52,5292.082 A0,0 0 0 0 3822.52,5292.082" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4149.4853,5292.082 L4149.4853,5302.082 L4159.4853,5302.082 L4149.4853,5292.082" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105.6381" x="3828.52" y="5310.979">Format payload:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315.9653" x="3828.52" y="5328.685">messageId|timestamp|replyToId(nullable)|content</text></g><!--class MediaMessage--><g class="entity" data-entity="MediaMessage" data-source-line="119" data-uid="ent0023" id="entity_MediaMessage"><rect fill="#F1F1F1" height="276.815" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239.6952" x="5136.15" y="4810.962"/><ellipse cx="5202.2298" cy="4826.962" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5201.6985,4833.8839 Q5199.9485,4833.8839 5198.8079,4833.1495 Q5197.6829,4832.3995 5197.1204,4831.0557 Q5196.5735,4829.6964 5196.5735,4827.8995 Q5196.5735,4825.8682 5197.2298,4824.4151 Q5197.886,4822.962 5199.1673,4822.1807 Q5200.4485,4821.3995 5202.3235,4821.3995 Q5203.2141,4821.3995 5203.886,4821.587 Q5204.5579,4821.7589 5205.2454,4822.1026 L5204.4329,4824.1182 Q5203.8079,4823.8057 5203.261,4823.6807 Q5202.7298,4823.5557 5202.2454,4823.5557 Q5201.0735,4823.5557 5200.3704,4824.087 Q5199.6673,4824.6182 5199.3704,4825.5714 Q5199.0735,4826.5245 5199.0735,4827.7901 Q5199.0735,4829.8057 5199.7923,4830.7745 Q5200.511,4831.7276 5202.1048,4831.7276 Q5202.6985,4831.7276 5203.3235,4831.5714 Q5203.9485,4831.4151 5204.7766,4831.0401 L5204.7766,4833.2589 Q5204.0423,4833.5714 5203.2454,4833.7276 Q5202.4641,4833.8839 5201.6985,4833.8839 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.0356" x="5222.7298" y="4832.394">MediaMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="5137.15" x2="5374.8452" y1="4842.962" y2="4842.962"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5144.15" y="4854.9959"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.9016" x="5156.15" y="4861.9279">messageId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5144.15" y="4874.0639"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.2795" x="5156.15" y="4880.9958">mediaType: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5144.15" y="4893.1318"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.2056" x="5156.15" y="4900.0638">mediaId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5144.15" y="4912.1997"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.0735" x="5156.15" y="4919.1317">thumbnailData: byte[]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5144.15" y="4931.2676"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.4376" x="5156.15" y="4938.1996">replyToId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5144.15" y="4950.3355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.7016" x="5156.15" y="4957.2675">timestamp: long</text><line style="stroke:#181818;stroke-width:1;" x1="5137.15" x2="5374.8452" y1="4965.3695" y2="4965.3695"/><ellipse cx="5147.15" cy="4980.4034" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.4356" x="5156.15" y="4984.3354">MediaMessage()</text><ellipse cx="5147.15" cy="4999.4714" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.4695" x="5156.15" y="5003.4033">getMessageId(): String</text><ellipse cx="5147.15" cy="5018.5393" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7735" x="5156.15" y="5022.4713">getMediaId(): String</text><ellipse cx="5147.15" cy="5037.6072" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.7633" x="5156.15" y="5041.5392">getThumbnailData(): byte[]</text><ellipse cx="5147.15" cy="5056.6751" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="5156.15" y="5060.6071">toPacket(): Packet</text><ellipse cx="5147.15" cy="5075.743" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.6952" x="5156.15" y="5079.675">fromPacket(packet: Packet): void</text></g><!--class ManagementMessage--><g class="entity" data-entity="ManagementMessage" data-source-line="135" data-uid="ent0025" id="entity_ManagementMessage"><rect fill="#F1F1F1" height="200.5433" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="418.5724" x="4284.71" y="4849.102"/><ellipse cx="4416.4355" cy="4865.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4415.9042,4872.0239 Q4414.1542,4872.0239 4413.0136,4871.2895 Q4411.8886,4870.5395 4411.3261,4869.1957 Q4410.7792,4867.8364 4410.7792,4866.0395 Q4410.7792,4864.0082 4411.4355,4862.5551 Q4412.0917,4861.102 4413.373,4860.3207 Q4414.6542,4859.5395 4416.5292,4859.5395 Q4417.4199,4859.5395 4418.0917,4859.727 Q4418.7636,4859.8989 4419.4511,4860.2426 L4418.6386,4862.2582 Q4418.0136,4861.9457 4417.4667,4861.8207 Q4416.9355,4861.6957 4416.4511,4861.6957 Q4415.2792,4861.6957 4414.5761,4862.227 Q4413.873,4862.7582 4413.5761,4863.7114 Q4413.2792,4864.6645 4413.2792,4865.9301 Q4413.2792,4867.9457 4413.998,4868.9145 Q4414.7167,4869.8676 4416.3105,4869.8676 Q4416.9042,4869.8676 4417.5292,4869.7114 Q4418.1542,4869.5551 4418.9824,4869.1801 L4418.9824,4871.3989 Q4418.248,4871.7114 4417.4511,4871.8676 Q4416.6699,4872.0239 4415.9042,4872.0239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.6214" x="4436.9355" y="4870.534">ManagementMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="4285.71" x2="4702.2824" y1="4881.102" y2="4881.102"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="4292.71" y="4893.1359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192.0793" x="4304.71" y="4900.0679">params: Map&lt;String, Object&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="4285.71" x2="4702.2824" y1="4908.1699" y2="4908.1699"/><ellipse cx="4295.71" cy="4923.2039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.0214" x="4304.71" y="4927.1358">ManagementMessage()</text><ellipse cx="4295.71" cy="4942.2718" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192.5273" x="4304.71" y="4946.2038">getParam(key: String): Object</text><ellipse cx="4295.71" cy="4961.3397" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="308.2228" x="4304.71" y="4965.2717">getParamAsType(key: String, clazz: Class&lt;T&gt;): T</text><ellipse cx="4295.71" cy="4980.4076" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="392.5724" x="4304.71" y="4984.3396">addParam(key: String, value: Object): ManagementMessage</text><ellipse cx="4295.71" cy="4999.4755" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="325.0088" x="4304.71" y="5003.4075">removeParam(key: String): ManagementMessage</text><ellipse cx="4295.71" cy="5018.5434" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="4304.71" y="5022.4754">toPacket(): Packet</text><ellipse cx="4295.71" cy="5037.6114" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.6952" x="4304.71" y="5041.5433">fromPacket(packet: Packet): void</text></g><g class="entity" data-entity="GMN27" data-source-line="147" data-uid="ent0028" id="entity_GMN27"><path d="M4398.96,5292.082 L4398.96,5337.494 A0,0 0 0 0 4398.96,5337.494 L4589.0381,5337.494 A0,0 0 0 0 4589.0381,5337.494 L4589.0381,5302.082 L4579.0381,5292.082 L4498,5292.082 L4494,5049.712 L4490,5292.082 L4398.96,5292.082 A0,0 0 0 0 4398.96,5292.082" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4579.0381,5292.082 L4579.0381,5302.082 L4589.0381,5302.082 L4579.0381,5292.082" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105.6381" x="4404.96" y="5310.979">Format payload:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.0781" x="4404.96" y="5328.685">key1=value1;key2=value2;...</text></g><!--class ReactionMessage--><g class="entity" data-entity="ReactionMessage" data-source-line="151" data-uid="ent0030" id="entity_ReactionMessage"><rect fill="#F1F1F1" height="219.6113" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239.6952" x="3183.15" y="4839.572"/><ellipse cx="3241.0818" cy="4855.572" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3240.5506,4862.4939 Q3238.8006,4862.4939 3237.6599,4861.7595 Q3236.5349,4861.0095 3235.9724,4859.6657 Q3235.4256,4858.3064 3235.4256,4856.5095 Q3235.4256,4854.4782 3236.0818,4853.0251 Q3236.7381,4851.572 3238.0193,4850.7907 Q3239.3006,4850.0095 3241.1756,4850.0095 Q3242.0662,4850.0095 3242.7381,4850.197 Q3243.4099,4850.3689 3244.0974,4850.7126 L3243.2849,4852.7282 Q3242.6599,4852.4157 3242.1131,4852.2907 Q3241.5818,4852.1657 3241.0974,4852.1657 Q3239.9256,4852.1657 3239.2224,4852.697 Q3238.5193,4853.2282 3238.2224,4854.1814 Q3237.9256,4855.1345 3237.9256,4856.4001 Q3237.9256,4858.4157 3238.6443,4859.3845 Q3239.3631,4860.3376 3240.9568,4860.3376 Q3241.5506,4860.3376 3242.1756,4860.1814 Q3242.8006,4860.0251 3243.6287,4859.6501 L3243.6287,4861.8689 Q3242.8943,4862.1814 3242.0974,4862.3376 Q3241.3162,4862.4939 3240.5506,4862.4939 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.3316" x="3261.5818" y="4861.004">ReactionMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="3184.15" x2="3421.8452" y1="4871.572" y2="4871.572"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3191.15" y="4883.6059"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.7594" x="3203.15" y="4890.5379">targetMessageId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3191.15" y="4902.6739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.4677" x="3203.15" y="4909.6058">emoji: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3191.15" y="4921.7418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.4396" x="3203.15" y="4928.6738">isAdd: boolean</text><line style="stroke:#181818;stroke-width:1;" x1="3184.15" x2="3421.8452" y1="4936.7757" y2="4936.7757"/><ellipse cx="3194.15" cy="4951.8097" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.7315" x="3203.15" y="4955.7417">ReactionMessage()</text><ellipse cx="3194.15" cy="4970.8776" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191.4493" x="3203.15" y="4974.8096">getTargetMessageId(): String</text><ellipse cx="3194.15" cy="4989.9455" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.3156" x="3203.15" y="4993.8775">getEmoji(): String</text><ellipse cx="3194.15" cy="5009.0134" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.8396" x="3203.15" y="5012.9454">isAdd(): boolean</text><ellipse cx="3194.15" cy="5028.0814" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="3203.15" y="5032.0133">toPacket(): Packet</text><ellipse cx="3194.15" cy="5047.1493" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.6952" x="3203.15" y="5051.0813">fromPacket(packet: Packet): void</text></g><!--class NotificationMessage--><g class="entity" data-entity="NotificationMessage" data-source-line="164" data-uid="ent0032" id="entity_NotificationMessage"><rect fill="#F1F1F1" height="143.3396" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239.6952" x="3458.15" y="4877.702"/><ellipse cx="3506.2818" cy="4893.702" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3505.7506,4900.6239 Q3504.0006,4900.6239 3502.86,4899.8895 Q3501.735,4899.1395 3501.1725,4897.7957 Q3500.6256,4896.4364 3500.6256,4894.6395 Q3500.6256,4892.6082 3501.2818,4891.1551 Q3501.9381,4889.702 3503.2193,4888.9207 Q3504.5006,4888.1395 3506.3756,4888.1395 Q3507.2662,4888.1395 3507.9381,4888.327 Q3508.61,4888.4989 3509.2975,4888.8426 L3508.485,4890.8582 Q3507.86,4890.5457 3507.3131,4890.4207 Q3506.7818,4890.2957 3506.2975,4890.2957 Q3505.1256,4890.2957 3504.4225,4890.827 Q3503.7193,4891.3582 3503.4225,4892.3114 Q3503.1256,4893.2645 3503.1256,4894.5301 Q3503.1256,4896.5457 3503.8443,4897.5145 Q3504.5631,4898.4676 3506.1568,4898.4676 Q3506.7506,4898.4676 3507.3756,4898.3114 Q3508.0006,4898.1551 3508.8287,4897.7801 L3508.8287,4899.9989 Q3508.0943,4900.3114 3507.2975,4900.4676 Q3506.5162,4900.6239 3505.7506,4900.6239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.9315" x="3526.7818" y="4899.134">NotificationMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="3459.15" x2="3696.8452" y1="4909.702" y2="4909.702"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3466.15" y="4921.7359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.7954" x="3478.15" y="4928.6679">notificationType: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3466.15" y="4940.8039"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.1597" x="3478.15" y="4947.7358">data: String</text><line style="stroke:#181818;stroke-width:1;" x1="3459.15" x2="3696.8452" y1="4955.8378" y2="4955.8378"/><ellipse cx="3469.15" cy="4970.8718" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.3315" x="3478.15" y="4974.8038">NotificationMessage()</text><ellipse cx="3469.15" cy="4989.9397" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="3478.15" y="4993.8717">toPacket(): Packet</text><ellipse cx="3469.15" cy="5009.0076" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.6952" x="3478.15" y="5012.9396">fromPacket(packet: Packet): void</text></g><!--class MessageProvider--><g class="entity" data-entity="MessageProvider" data-source-line="174" data-uid="ent0034" id="entity_MessageProvider"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252.6871" x="4123.66" y="4185.002"/><ellipse cx="4192.7008" cy="4201.002" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4188.732,4207.502 L4188.732,4205.7989 L4191.0914,4205.5332 L4191.0914,4197.3301 L4188.732,4197.0645 L4188.732,4195.3614 L4195.8726,4195.3614 L4195.8726,4197.0645 L4193.4508,4197.3301 L4193.4508,4205.5332 L4195.8726,4205.7989 L4195.8726,4207.502 L4188.732,4207.502 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106.1056" x="4213.2008" y="4206.434">MessageProvider</text><line style="stroke:#181818;stroke-width:0.5;" x1="4124.66" x2="4375.3471" y1="4217.002" y2="4217.002"/><line style="stroke:#181818;stroke-width:0.5;" x1="4124.66" x2="4375.3471" y1="4225.002" y2="4225.002"/><ellipse cx="4134.66" cy="4240.0359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.5774" x="4143.66" y="4243.9679">getType(): MessageType</text><ellipse cx="4134.66" cy="4259.1039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.6871" x="4143.66" y="4263.0358">createInstance(): ProtocolMessage</text></g><g class="entity" data-entity="GMN35" data-source-line="179" data-uid="ent0036" id="entity_GMN35"><path d="M4411.1,4134.542 L4411.1,4210.072 L4376.72,4214.072 L4411.1,4218.072 L4411.1,4321.6021 A0,0 0 0 0 4411.1,4321.6021 L4862.8943,4321.6021 A0,0 0 0 0 4862.8943,4321.6021 L4862.8943,4144.542 L4852.8943,4134.542 L4411.1,4134.542 A0,0 0 0 0 4411.1,4134.542" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4852.8943,4134.542 L4852.8943,4144.542 L4862.8943,4144.542 L4852.8943,4134.542" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="295.5552" x="4417.1" y="4153.439">Pattern: Service Provider (Java ServiceLoader)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3.38" x="4417.1" y="4171.145">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="360.6203" x="4417.1" y="4188.851">Permet la d&#233;couverte automatique des types de messages.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336.2063" x="4417.1" y="4206.557">Pour chaque nouvelle sous-classe de ProtocolMessage:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="430.7943" x="4417.1" y="4224.2631">1. Cr&#233;er une classe XxxMessageProvider implements MessageProvider</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.9683" x="4417.1" y="4241.9691">2. Ajouter le nom complet de la classe dans:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312.8972" x="4427.24" y="4259.6751">META-INF/services/fr.uga.im2ag...MessageProvider</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3.38" x="4417.1" y="4277.3811">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="383.6562" x="4417.1" y="4295.0871">MessageFactory chargera automatiquement tous les providers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.3691" x="4417.1" y="4312.7931">au d&#233;marrage via ServiceLoader.</text></g><!--class TextMessageProvider--><g class="entity" data-entity="TextMessageProvider" data-source-line="191" data-uid="ent0038" id="entity_TextMessageProvider"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252.6871" x="4123.66" y="4502.752"/><ellipse cx="4174.6338" cy="4518.752" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4174.1026,4525.6739 Q4172.3526,4525.6739 4171.212,4524.9395 Q4170.087,4524.1895 4169.5245,4522.8457 Q4168.9776,4521.4864 4168.9776,4519.6895 Q4168.9776,4517.6582 4169.6338,4516.2051 Q4170.2901,4514.752 4171.5713,4513.9707 Q4172.8526,4513.1895 4174.7276,4513.1895 Q4175.6182,4513.1895 4176.2901,4513.377 Q4176.962,4513.5489 4177.6495,4513.8926 L4176.837,4515.9082 Q4176.212,4515.5957 4175.6651,4515.4707 Q4175.1338,4515.3457 4174.6495,4515.3457 Q4173.4776,4515.3457 4172.7745,4515.877 Q4172.0713,4516.4082 4171.7745,4517.3614 Q4171.4776,4518.3145 4171.4776,4519.5801 Q4171.4776,4521.5957 4172.1963,4522.5645 Q4172.9151,4523.5176 4174.5088,4523.5176 Q4175.1026,4523.5176 4175.7276,4523.3614 Q4176.3526,4523.2051 4177.1807,4522.8301 L4177.1807,4525.0489 Q4176.4463,4525.3614 4175.6495,4525.5176 Q4174.8682,4525.6739 4174.1026,4525.6739 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.2395" x="4195.1338" y="4524.184">TextMessageProvider</text><line style="stroke:#181818;stroke-width:0.5;" x1="4124.66" x2="4375.3471" y1="4534.752" y2="4534.752"/><line style="stroke:#181818;stroke-width:1;" x1="4124.66" x2="4375.3471" y1="4542.752" y2="4542.752"/><ellipse cx="4134.66" cy="4557.7859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.5774" x="4143.66" y="4561.7179">getType(): MessageType</text><ellipse cx="4134.66" cy="4576.8539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.6871" x="4143.66" y="4580.7858">createInstance(): ProtocolMessage</text></g><!--class ManagementMessageProvider--><g class="entity" data-entity="ManagementMessageProvider" data-source-line="197" data-uid="ent0040" id="entity_ManagementMessageProvider"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252.6871" x="4411.66" y="4502.752"/><ellipse cx="4434.9094" cy="4518.752" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4434.3781,4525.6739 Q4432.6281,4525.6739 4431.4875,4524.9395 Q4430.3625,4524.1895 4429.8,4522.8457 Q4429.2531,4521.4864 4429.2531,4519.6895 Q4429.2531,4517.6582 4429.9094,4516.2051 Q4430.5656,4514.752 4431.8469,4513.9707 Q4433.1281,4513.1895 4435.0031,4513.1895 Q4435.8937,4513.1895 4436.5656,4513.377 Q4437.2375,4513.5489 4437.925,4513.8926 L4437.1125,4515.9082 Q4436.4875,4515.5957 4435.9406,4515.4707 Q4435.4094,4515.3457 4434.925,4515.3457 Q4433.7531,4515.3457 4433.05,4515.877 Q4432.3469,4516.4082 4432.05,4517.3614 Q4431.7531,4518.3145 4431.7531,4519.5801 Q4431.7531,4521.5957 4432.4719,4522.5645 Q4433.1906,4523.5176 4434.7844,4523.5176 Q4435.3781,4523.5176 4436.0031,4523.3614 Q4436.6281,4523.2051 4437.4562,4522.8301 L4437.4562,4525.0489 Q4436.7219,4525.3614 4435.925,4525.5176 Q4435.1437,4525.6739 4434.3781,4525.6739 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202.3552" x="4450.7426" y="4524.184">ManagementMessageProvider</text><line style="stroke:#181818;stroke-width:0.5;" x1="4412.66" x2="4663.3471" y1="4534.752" y2="4534.752"/><line style="stroke:#181818;stroke-width:1;" x1="4412.66" x2="4663.3471" y1="4542.752" y2="4542.752"/><ellipse cx="4422.66" cy="4557.7859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.5774" x="4431.66" y="4561.7179">getType(): MessageType</text><ellipse cx="4422.66" cy="4576.8539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.6871" x="4431.66" y="4580.7858">createInstance(): ProtocolMessage</text></g><!--class MediaMessageProvider--><g class="entity" data-entity="MediaMessageProvider" data-source-line="203" data-uid="ent0042" id="entity_MediaMessageProvider"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252.6871" x="5107.66" y="4502.752"/><ellipse cx="5152.3689" cy="4518.752" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5151.8376,4525.6739 Q5150.0876,4525.6739 5148.947,4524.9395 Q5147.822,4524.1895 5147.2595,4522.8457 Q5146.7126,4521.4864 5146.7126,4519.6895 Q5146.7126,4517.6582 5147.3689,4516.2051 Q5148.0251,4514.752 5149.3064,4513.9707 Q5150.5876,4513.1895 5152.4626,4513.1895 Q5153.3532,4513.1895 5154.0251,4513.377 Q5154.697,4513.5489 5155.3845,4513.8926 L5154.572,4515.9082 Q5153.947,4515.5957 5153.4001,4515.4707 Q5152.8689,4515.3457 5152.3845,4515.3457 Q5151.2126,4515.3457 5150.5095,4515.877 Q5149.8064,4516.4082 5149.5095,4517.3614 Q5149.2126,4518.3145 5149.2126,4519.5801 Q5149.2126,4521.5957 5149.9314,4522.5645 Q5150.6501,4523.5176 5152.2439,4523.5176 Q5152.8376,4523.5176 5153.4626,4523.3614 Q5154.0876,4523.2051 5154.9157,4522.8301 L5154.9157,4525.0489 Q5154.1814,4525.3614 5153.3845,4525.5176 Q5152.6032,4525.6739 5151.8376,4525.6739 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.7694" x="5172.8689" y="4524.184">MediaMessageProvider</text><line style="stroke:#181818;stroke-width:0.5;" x1="5108.66" x2="5359.3471" y1="4534.752" y2="4534.752"/><line style="stroke:#181818;stroke-width:1;" x1="5108.66" x2="5359.3471" y1="4542.752" y2="4542.752"/><ellipse cx="5118.66" cy="4557.7859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.5774" x="5127.66" y="4561.7179">getType(): MessageType</text><ellipse cx="5118.66" cy="4576.8539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.6871" x="5127.66" y="4580.7858">createInstance(): ProtocolMessage</text></g><!--class ReactionMessageProvider--><g class="entity" data-entity="ReactionMessageProvider" data-source-line="209" data-uid="ent0044" id="entity_ReactionMessageProvider"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252.6871" x="3547.66" y="4502.752"/><ellipse cx="3584.9898" cy="4518.752" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3584.4586,4525.6739 Q3582.7086,4525.6739 3581.5679,4524.9395 Q3580.4429,4524.1895 3579.8804,4522.8457 Q3579.3336,4521.4864 3579.3336,4519.6895 Q3579.3336,4517.6582 3579.9898,4516.2051 Q3580.6461,4514.752 3581.9273,4513.9707 Q3583.2086,4513.1895 3585.0836,4513.1895 Q3585.9742,4513.1895 3586.6461,4513.377 Q3587.3179,4513.5489 3588.0054,4513.8926 L3587.1929,4515.9082 Q3586.5679,4515.5957 3586.0211,4515.4707 Q3585.4898,4515.3457 3585.0054,4515.3457 Q3583.8336,4515.3457 3583.1304,4515.877 Q3582.4273,4516.4082 3582.1304,4517.3614 Q3581.8336,4518.3145 3581.8336,4519.5801 Q3581.8336,4521.5957 3582.5523,4522.5645 Q3583.2711,4523.5176 3584.8648,4523.5176 Q3585.4586,4523.5176 3586.0836,4523.3614 Q3586.7086,4523.2051 3587.5367,4522.8301 L3587.5367,4525.0489 Q3586.8023,4525.3614 3586.0054,4525.5176 Q3585.2242,4525.6739 3584.4586,4525.6739 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.0654" x="3603.952" y="4524.184">ReactionMessageProvider</text><line style="stroke:#181818;stroke-width:0.5;" x1="3548.66" x2="3799.3471" y1="4534.752" y2="4534.752"/><line style="stroke:#181818;stroke-width:1;" x1="3548.66" x2="3799.3471" y1="4542.752" y2="4542.752"/><ellipse cx="3558.66" cy="4557.7859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.5774" x="3567.66" y="4561.7179">getType(): MessageType</text><ellipse cx="3558.66" cy="4576.8539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.6871" x="3567.66" y="4580.7858">createInstance(): ProtocolMessage</text></g><!--class NotificationMessageProvider--><g class="entity" data-entity="NotificationMessageProvider" data-source-line="215" data-uid="ent0046" id="entity_NotificationMessageProvider"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252.6871" x="3835.66" y="4502.752"/><ellipse cx="3864.1698" cy="4518.752" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3863.6386,4525.6739 Q3861.8886,4525.6739 3860.748,4524.9395 Q3859.623,4524.1895 3859.0605,4522.8457 Q3858.5136,4521.4864 3858.5136,4519.6895 Q3858.5136,4517.6582 3859.1698,4516.2051 Q3859.8261,4514.752 3861.1073,4513.9707 Q3862.3886,4513.1895 3864.2636,4513.1895 Q3865.1542,4513.1895 3865.8261,4513.377 Q3866.498,4513.5489 3867.1855,4513.8926 L3866.373,4515.9082 Q3865.748,4515.5957 3865.2011,4515.4707 Q3864.6698,4515.3457 3864.1855,4515.3457 Q3863.0136,4515.3457 3862.3105,4515.877 Q3861.6073,4516.4082 3861.3105,4517.3614 Q3861.0136,4518.3145 3861.0136,4519.5801 Q3861.0136,4521.5957 3861.7323,4522.5645 Q3862.4511,4523.5176 3864.0448,4523.5176 Q3864.6386,4523.5176 3865.2636,4523.3614 Q3865.8886,4523.2051 3866.7167,4522.8301 L3866.7167,4525.0489 Q3865.9823,4525.3614 3865.1855,4525.5176 Q3864.4042,4525.6739 3863.6386,4525.6739 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.6653" x="3881.172" y="4524.184">NotificationMessageProvider</text><line style="stroke:#181818;stroke-width:0.5;" x1="3836.66" x2="4087.3471" y1="4534.752" y2="4534.752"/><line style="stroke:#181818;stroke-width:1;" x1="3836.66" x2="4087.3471" y1="4542.752" y2="4542.752"/><ellipse cx="3846.66" cy="4557.7859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.5774" x="3855.66" y="4561.7179">getType(): MessageType</text><ellipse cx="3846.66" cy="4576.8539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.6871" x="3855.66" y="4580.7858">createInstance(): ProtocolMessage</text></g><!--class MessageFactory--><g class="entity" data-entity="MessageFactory" data-source-line="228" data-uid="ent0053" id="entity_MessageFactory"><rect fill="#F1F1F1" height="105.2038" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="432.1805" x="4040.91" y="3848.192"/><ellipse cx="4199.4244" cy="3864.192" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4198.8932,3871.1139 Q4197.1432,3871.1139 4196.0025,3870.3795 Q4194.8775,3869.6295 4194.315,3868.2857 Q4193.7682,3866.9264 4193.7682,3865.1295 Q4193.7682,3863.0982 4194.4244,3861.6451 Q4195.0807,3860.192 4196.3619,3859.4107 Q4197.6432,3858.6295 4199.5182,3858.6295 Q4200.4088,3858.6295 4201.0807,3858.817 Q4201.7525,3858.9889 4202.44,3859.3326 L4201.6275,3861.3482 Q4201.0025,3861.0357 4200.4557,3860.9107 Q4199.9244,3860.7857 4199.44,3860.7857 Q4198.2682,3860.7857 4197.565,3861.317 Q4196.8619,3861.8482 4196.565,3862.8014 Q4196.2682,3863.7545 4196.2682,3865.0201 Q4196.2682,3867.0357 4196.9869,3868.0045 Q4197.7057,3868.9576 4199.2994,3868.9576 Q4199.8932,3868.9576 4200.5182,3868.8014 Q4201.1432,3868.6451 4201.9713,3868.2701 L4201.9713,3870.4889 Q4201.2369,3870.8014 4200.44,3870.9576 Q4199.6588,3871.1139 4198.8932,3871.1139 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.6516" x="4219.9244" y="3869.624">MessageFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="4041.91" x2="4472.0905" y1="3880.192" y2="3880.192"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="4048.91" y="3892.2259"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="384.2285" x="4060.91" y="3899.1579">registry: Map&lt;MessageType, Supplier&lt;ProtocolMessage&gt;&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="4041.91" x2="4472.0905" y1="3907.2599" y2="3907.2599"/><ellipse cx="4051.91" cy="3922.2939" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="299.3049" x="4060.91" y="3926.2258">fromPacket(packet: Packet): ProtocolMessage</text><ellipse cx="4051.91" cy="3941.3618" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="406.1805" x="4060.91" y="3945.2938">create(type: MessageType, from: int, to: int): ProtocolMessage</text></g><g class="entity" data-entity="GMN54" data-source-line="235" data-uid="ent0055" id="entity_GMN54"><path d="M4508.25,3886.942 L4508.25,3897.072 L4473.4,3901.072 L4508.25,3905.072 L4508.25,3914.648 A0,0 0 0 0 4508.25,3914.648 L4739.7591,3914.648 A0,0 0 0 0 4739.7591,3914.648 L4739.7591,3896.942 L4729.7591,3886.942 L4508.25,3886.942 A0,0 0 0 0 4508.25,3886.942" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4729.7591,3886.942 L4729.7591,3896.942 L4739.7591,3896.942 L4729.7591,3886.942" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="210.5091" x="4514.25" y="3905.839">Pattern: Factory + ServiceLoader</text></g><!--class MessageIdGenerator--><g class="entity" data-entity="MessageIdGenerator" data-source-line="241" data-uid="ent0058" id="entity_MessageIdGenerator"><rect fill="#F1F1F1" height="67.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="336.3788" x="4832.81" y="3587.652"/><ellipse cx="4931.8807" cy="3603.652" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4927.9119,3610.152 L4927.9119,3608.4489 L4930.2713,3608.1832 L4930.2713,3599.9801 L4927.9119,3599.7145 L4927.9119,3598.0114 L4935.0525,3598.0114 L4935.0525,3599.7145 L4932.6307,3599.9801 L4932.6307,3608.1832 L4935.0525,3608.4489 L4935.0525,3610.152 L4927.9119,3610.152 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="129.7375" x="4952.3807" y="3609.084">MessageIdGenerator</text><line style="stroke:#181818;stroke-width:0.5;" x1="4833.81" x2="5168.1888" y1="3619.652" y2="3619.652"/><line style="stroke:#181818;stroke-width:0.5;" x1="4833.81" x2="5168.1888" y1="3627.652" y2="3627.652"/><ellipse cx="4843.81" cy="3642.6859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310.3788" x="4852.81" y="3646.6179">generateId(userId: int, timestamp: long): String</text></g><!--class ShaIdGenerator--><g class="entity" data-entity="ShaIdGenerator" data-source-line="244" data-uid="ent0059" id="entity_ShaIdGenerator"><rect fill="#F1F1F1" height="143.3396" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="451.9625" x="4775.02" y="3829.122"/><ellipse cx="4944.1885" cy="3845.122" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4943.6572,3852.0439 Q4941.9072,3852.0439 4940.7666,3851.3095 Q4939.6416,3850.5595 4939.0791,3849.2157 Q4938.5322,3847.8564 4938.5322,3846.0595 Q4938.5322,3844.0282 4939.1885,3842.5751 Q4939.8447,3841.122 4941.126,3840.3407 Q4942.4072,3839.5595 4944.2822,3839.5595 Q4945.1728,3839.5595 4945.8447,3839.747 Q4946.5166,3839.9189 4947.2041,3840.2626 L4946.3916,3842.2782 Q4945.7666,3841.9657 4945.2197,3841.8407 Q4944.6885,3841.7157 4944.2041,3841.7157 Q4943.0322,3841.7157 4942.3291,3842.247 Q4941.626,3842.7782 4941.3291,3843.7314 Q4941.0322,3844.6845 4941.0322,3845.9501 Q4941.0322,3847.9657 4941.751,3848.9345 Q4942.4697,3849.8876 4944.0635,3849.8876 Q4944.6572,3849.8876 4945.2822,3849.7314 Q4945.9072,3849.5751 4946.7353,3849.2001 L4946.7353,3851.4189 Q4946.001,3851.7314 4945.2041,3851.8876 Q4944.4228,3852.0439 4943.6572,3852.0439 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.1256" x="4964.6885" y="3850.554">ShaIdGenerator</text><line style="stroke:#181818;stroke-width:0.5;" x1="4776.02" x2="5225.9825" y1="3861.122" y2="3861.122"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="4783.02" y="3873.1559"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.5775" x="4795.02" y="3880.0879">counter: AtomicLong</text><line style="stroke:#181818;stroke-width:1;" x1="4776.02" x2="5225.9825" y1="3888.1899" y2="3888.1899"/><ellipse cx="4786.02" cy="3903.2239" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.5256" x="4795.02" y="3907.1558">ShaIdGenerator()</text><ellipse cx="4786.02" cy="3922.2918" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234.0651" x="4795.02" y="3926.2238">ShaIdGenerator(startCounter: long)</text><ellipse cx="4786.02" cy="3941.3597" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310.3788" x="4795.02" y="3945.2917">generateId(userId: int, timestamp: long): String</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="4783.02" y="3957.4276"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="425.9625" x="4795.02" y="3964.3596">generateHash(userId: int, timestamp: long, counter: long): String</text></g><g class="entity" data-entity="GMN61" data-source-line="253" data-uid="ent0062" id="entity_GMN61"><path d="M5261.68,3886.942 L5261.68,3914.648 L5394.3241,3914.648 L5394.3241,3896.942 L5384.3241,3886.942 L5261.68,3886.942" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M5384.3241,3886.942 L5384.3241,3896.942 L5394.3241,3896.942 L5384.3241,3886.942" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111.6441" x="5267.68" y="3905.839">Pattern: Strategy</text></g><!--class CryptoStrategy--><g class="entity" data-entity="CryptoStrategy" data-source-line="257" data-uid="ent0064" id="entity_CryptoStrategy"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="204.2333" x="5269.88" y="5465.532"/><ellipse cx="5321.5048" cy="5481.532" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5317.5361,5488.032 L5317.5361,5486.3289 L5319.8955,5486.0632 L5319.8955,5477.8601 L5317.5361,5477.5945 L5317.5361,5475.8914 L5324.6767,5475.8914 L5324.6767,5477.5945 L5322.2548,5477.8601 L5322.2548,5486.0632 L5324.6767,5486.3289 L5324.6767,5488.032 L5317.5361,5488.032 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="92.4837" x="5342.0048" y="5486.964">CryptoStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="5270.88" x2="5473.1133" y1="5497.532" y2="5497.532"/><line style="stroke:#181818;stroke-width:0.5;" x1="5270.88" x2="5473.1133" y1="5505.532" y2="5505.532"/><ellipse cx="5280.88" cy="5520.5659" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.2333" x="5289.88" y="5524.4979">encrypt(data: byte[]): byte[]</text><ellipse cx="5280.88" cy="5539.6339" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.1913" x="5289.88" y="5543.5658">decrypt(data: byte[]): byte[]</text></g><g class="entity" data-entity="GMN65" data-source-line="262" data-uid="ent0066" id="entity_GMN65"><path d="M5305.68,5300.942 L5305.68,5328.648 A0,0 0 0 0 5305.68,5328.648 L5368,5328.648 L5372,5465.202 L5376,5328.648 L5438.3241,5328.648 A0,0 0 0 0 5438.3241,5328.648 L5438.3241,5310.942 L5428.3241,5300.942 L5305.68,5300.942 A0,0 0 0 0 5305.68,5300.942" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M5428.3241,5300.942 L5428.3241,5310.942 L5438.3241,5310.942 L5428.3241,5300.942" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111.6441" x="5311.68" y="5319.839">Pattern: Strategy</text></g><!--class AESCryptoStrategy--><g class="entity" data-entity="AESCryptoStrategy" data-source-line="265" data-uid="ent0068" id="entity_AESCryptoStrategy"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252.4351" x="5073.78" y="5630.732"/><ellipse cx="5134.0498" cy="5646.732" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5133.5185,5653.6539 Q5131.7685,5653.6539 5130.6279,5652.9195 Q5129.5029,5652.1695 5128.9404,5650.8257 Q5128.3935,5649.4664 5128.3935,5647.6695 Q5128.3935,5645.6382 5129.0498,5644.1851 Q5129.706,5642.732 5130.9873,5641.9507 Q5132.2685,5641.1695 5134.1435,5641.1695 Q5135.0342,5641.1695 5135.706,5641.357 Q5136.3779,5641.5289 5137.0654,5641.8726 L5136.2529,5643.8882 Q5135.6279,5643.5757 5135.081,5643.4507 Q5134.5498,5643.3257 5134.0654,5643.3257 Q5132.8935,5643.3257 5132.1904,5643.857 Q5131.4873,5644.3882 5131.1904,5645.3414 Q5130.8935,5646.2945 5130.8935,5647.5601 Q5130.8935,5649.5757 5131.6123,5650.5445 Q5132.331,5651.4976 5133.9248,5651.4976 Q5134.5185,5651.4976 5135.1435,5651.3414 Q5135.7685,5651.1851 5136.5967,5650.8101 L5136.5967,5653.0289 Q5135.8623,5653.3414 5135.0654,5653.4976 Q5134.2842,5653.6539 5133.5185,5653.6539 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.3956" x="5154.5498" y="5652.164">AESCryptoStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="5074.78" x2="5325.2151" y1="5662.732" y2="5662.732"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5081.78" y="5674.7659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.6396" x="5093.78" y="5681.6979">key: SecretKey</text><line style="stroke:#181818;stroke-width:1;" x1="5074.78" x2="5325.2151" y1="5689.7999" y2="5689.7999"/><ellipse cx="5084.78" cy="5704.8339" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.4351" x="5093.78" y="5708.7658">AESCryptoStrategy(key: SecretKey)</text><ellipse cx="5084.78" cy="5723.9018" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.2333" x="5093.78" y="5727.8338">encrypt(data: byte[]): byte[]</text><ellipse cx="5084.78" cy="5742.9697" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.1913" x="5093.78" y="5746.9017">decrypt(data: byte[]): byte[]</text></g><!--class E2ECryptoStrategy--><g class="entity" data-entity="E2ECryptoStrategy" data-source-line="273" data-uid="ent0070" id="entity_E2ECryptoStrategy"><rect fill="#F1F1F1" height="162.4075" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="366.8287" x="5361.59" y="5611.662"/><ellipse cx="5479.4766" cy="5627.662" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5478.9453,5634.5839 Q5477.1953,5634.5839 5476.0547,5633.8495 Q5474.9297,5633.0995 5474.3672,5631.7557 Q5473.8203,5630.3964 5473.8203,5628.5995 Q5473.8203,5626.5682 5474.4766,5625.1151 Q5475.1328,5623.662 5476.4141,5622.8807 Q5477.6953,5622.0995 5479.5703,5622.0995 Q5480.461,5622.0995 5481.1328,5622.287 Q5481.8047,5622.4589 5482.4922,5622.8026 L5481.6797,5624.8182 Q5481.0547,5624.5057 5480.5078,5624.3807 Q5479.9766,5624.2557 5479.4922,5624.2557 Q5478.3203,5624.2557 5477.6172,5624.787 Q5476.9141,5625.3182 5476.6172,5626.2714 Q5476.3203,5627.2245 5476.3203,5628.4901 Q5476.3203,5630.5057 5477.0391,5631.4745 Q5477.7578,5632.4276 5479.3516,5632.4276 Q5479.9453,5632.4276 5480.5703,5632.2714 Q5481.1953,5632.1151 5482.0235,5631.7401 L5482.0235,5633.9589 Q5481.2891,5634.2714 5480.4922,5634.4276 Q5479.711,5634.5839 5478.9453,5634.5839 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.5555" x="5499.9766" y="5633.094">E2ECryptoStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="5362.59" x2="5727.4187" y1="5643.662" y2="5643.662"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5369.59" y="5655.6959"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.4954" x="5381.59" y="5662.6279">privateKey: PrivateKey</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5369.59" y="5674.7639"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.1991" x="5381.59" y="5681.6958">publicKeys: Map&lt;Integer, PublicKey&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="5362.59" x2="5727.4187" y1="5689.7978" y2="5689.7978"/><ellipse cx="5372.59" cy="5704.8318" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="277.451" x="5381.59" y="5708.7638">E2ECryptoStrategy(privateKey: PrivateKey)</text><ellipse cx="5372.59" cy="5723.8997" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="340.8287" x="5381.59" y="5727.8317">addPublicKey(userId: int, publicKey: PublicKey): void</text><ellipse cx="5372.59" cy="5742.9676" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.2333" x="5381.59" y="5746.8996">encrypt(data: byte[]): byte[]</text><ellipse cx="5372.59" cy="5762.0355" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.1913" x="5381.59" y="5765.9675">decrypt(data: byte[]): byte[]</text></g><!--class ProtocolMessageDecorator--><g class="entity" data-entity="ProtocolMessageDecorator" data-source-line="283" data-uid="ent0072" id="entity_ProtocolMessageDecorator"><rect fill="#F1F1F1" height="181.4754" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="363.2728" x="4738.36" y="4858.632"/><ellipse cx="4831.8307" cy="4874.632" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4827.0026,4880.382 L4830.3463,4868.1945 L4833.4869,4868.1945 L4836.8619,4880.382 L4834.3932,4880.382 L4833.6588,4877.3664 L4830.1432,4877.3664 L4829.3932,4880.382 L4827.0026,4880.382 Z M4831.4088,4872.3351 L4830.6588,4875.3351 L4833.1744,4875.3351 L4832.4557,4872.3351 Q4832.3151,4871.757 4832.1901,4871.2101 Q4832.0651,4870.6476 4831.9244,4870.0695 Q4831.8151,4870.6476 4831.6744,4871.2101 Q4831.5338,4871.757 4831.4088,4872.3351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="167.8314" x="4852.3307" y="4880.064">ProtocolMessageDecorator</text><line style="stroke:#181818;stroke-width:0.5;" x1="4739.36" x2="5100.6328" y1="4890.632" y2="4890.632"/><polygon fill="none" points="4749.36,4900.6659,4753.36,4904.6659,4749.36,4908.6659,4745.36,4904.6659" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246.0631" x="4758.36" y="4909.5979">decoratedMessage: ProtocolMessage</text><line style="stroke:#181818;stroke-width:1;" x1="4739.36" x2="5100.6328" y1="4917.6999" y2="4917.6999"/><ellipse cx="4749.36" cy="4932.7339" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="337.2728" x="4758.36" y="4936.6658">ProtocolMessageDecorator(msg: ProtocolMessage)</text><ellipse cx="4749.36" cy="4951.8018" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="4758.36" y="4955.7338">toPacket(): Packet</text><ellipse cx="4749.36" cy="4970.8697" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.6952" x="4758.36" y="4974.8017">fromPacket(packet: Packet): void</text><ellipse cx="4749.36" cy="4989.9376" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216.9432" x="4758.36" y="4993.8696">getMessageType(): MessageType</text><ellipse cx="4749.36" cy="5009.0055" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.2777" x="4758.36" y="5012.9375">getFrom(): int</text><ellipse cx="4749.36" cy="5028.0734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.9237" x="4758.36" y="5032.0054">getTo(): int</text></g><g class="entity" data-entity="GMN74" data-source-line="294" data-uid="ent0075" id="entity_GMN74"><path d="M5683.76,4935.522 L5683.76,4963.228 L5826.2451,4963.228 L5826.2451,4945.522 L5816.2451,4935.522 L5683.76,4935.522" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M5816.2451,4935.522 L5816.2451,4945.522 L5826.2451,4945.522 L5816.2451,4935.522" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="121.4851" x="5689.76" y="4954.419">Pattern: Decorator</text></g><!--class EncryptedMessage--><g class="entity" data-entity="EncryptedMessage" data-source-line="297" data-uid="ent0077" id="entity_EncryptedMessage"><rect fill="#F1F1F1" height="181.4754" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="463.7644" x="4785.12" y="5224.052"/><ellipse cx="4950.4455" cy="5240.052" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4949.9142,5246.9739 Q4948.1642,5246.9739 4947.0236,5246.2395 Q4945.8986,5245.4895 4945.3361,5244.1457 Q4944.7892,5242.7864 4944.7892,5240.9895 Q4944.7892,5238.9582 4945.4455,5237.5051 Q4946.1017,5236.052 4947.383,5235.2707 Q4948.6642,5234.4895 4950.5392,5234.4895 Q4951.4298,5234.4895 4952.1017,5234.677 Q4952.7736,5234.8489 4953.4611,5235.1926 L4952.6486,5237.2082 Q4952.0236,5236.8957 4951.4767,5236.7707 Q4950.9455,5236.6457 4950.4611,5236.6457 Q4949.2892,5236.6457 4948.5861,5237.177 Q4947.883,5237.7082 4947.5861,5238.6614 Q4947.2892,5239.6145 4947.2892,5240.8801 Q4947.2892,5242.8957 4948.008,5243.8645 Q4948.7267,5244.8176 4950.3205,5244.8176 Q4950.9142,5244.8176 4951.5392,5244.6614 Q4952.1642,5244.5051 4952.9923,5244.1301 L4952.9923,5246.3489 Q4952.258,5246.6614 4951.4611,5246.8176 Q4950.6798,5246.9739 4949.9142,5246.9739 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.6135" x="4970.9455" y="5245.484">EncryptedMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="4786.12" x2="5247.8844" y1="5256.052" y2="5256.052"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="4793.12" y="5268.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203.2233" x="4805.12" y="5275.0179">cryptoStrategy: CryptoStrategy</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="4793.12" y="5287.1539"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.5215" x="4805.12" y="5294.0858">isEncrypted: boolean</text><line style="stroke:#181818;stroke-width:1;" x1="4786.12" x2="5247.8844" y1="5302.1878" y2="5302.1878"/><ellipse cx="4796.12" cy="5317.2218" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="437.7644" x="4805.12" y="5321.1538">EncryptedMessage(msg: ProtocolMessage, crypto: CryptoStrategy)</text><ellipse cx="4796.12" cy="5336.2897" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="4805.12" y="5340.2217">toPacket(): Packet</text><ellipse cx="4796.12" cy="5355.3576" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.6952" x="4805.12" y="5359.2896">fromPacket(packet: Packet): void</text><ellipse cx="4796.12" cy="5374.4255" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.0173" x="4805.12" y="5378.3575">decrypt(): ProtocolMessage</text><ellipse cx="4796.12" cy="5393.4934" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.9214" x="4805.12" y="5397.4254">isEncrypted(): boolean</text></g><!--class Repository--><g class="entity" data-entity="Repository" data-source-line="311" data-uid="ent0080" id="entity_Repository"><rect fill="#F1F1F1" height="162.4075" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="202.5953" x="5442.7" y="3819.592"/><ellipse cx="5502.0938" cy="3835.592" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5498.125,3842.092 L5498.125,3840.3889 L5500.4844,3840.1232 L5500.4844,3831.9201 L5498.125,3831.6545 L5498.125,3829.9514 L5505.2656,3829.9514 L5505.2656,3831.6545 L5502.8438,3831.9201 L5502.8438,3840.1232 L5505.2656,3840.3889 L5505.2656,3842.092 L5498.125,3842.092 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="65.2958" x="5522.5938" y="3841.024">Repository</text><rect fill="#FFFFFF" height="18.3441" style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" width="8.012" x="5640.2833" y="3816.592"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="6.012" x="5641.2833" y="3830.4201">T</text><line style="stroke:#181818;stroke-width:0.5;" x1="5443.7" x2="5644.2953" y1="3851.592" y2="3851.592"/><line style="stroke:#181818;stroke-width:0.5;" x1="5443.7" x2="5644.2953" y1="3859.592" y2="3859.592"/><ellipse cx="5453.7" cy="3874.6259" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.4976" x="5462.7" y="3878.5579">add(item: T): void</text><ellipse cx="5453.7" cy="3893.6939" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.0995" x="5462.7" y="3897.6258">update(item: T): void</text><ellipse cx="5453.7" cy="3912.7618" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.3875" x="5462.7" y="3916.6938">delete(item: T): void</text><ellipse cx="5453.7" cy="3931.8297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.5953" x="5462.7" y="3935.7617">deleteById(id: Object): void</text><ellipse cx="5453.7" cy="3950.8976" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.3014" x="5462.7" y="3954.8296">findById(id: Object): T</text><ellipse cx="5453.7" cy="3969.9655" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.1596" x="5462.7" y="3973.8975">findAll(): List&lt;T&gt;</text></g><g class="entity" data-entity="GMN81" data-source-line="320" data-uid="ent0082" id="entity_GMN81"><path d="M5470.38,3607.332 L5470.38,3635.038 A0,0 0 0 0 5470.38,3635.038 L5540,3635.038 L5544,3819.152 L5548,3635.038 L5617.6231,3635.038 A0,0 0 0 0 5617.6231,3635.038 L5617.6231,3617.332 L5607.6231,3607.332 L5470.38,3607.332 A0,0 0 0 0 5470.38,3607.332" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M5607.6231,3607.332 L5607.6231,3617.332 L5617.6231,3617.332 L5607.6231,3607.332" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126.2431" x="5476.38" y="3626.229">Pattern: Repository</text></g><!--class IdGenerator--><g class="entity" data-entity="IdGenerator" data-source-line="334" data-uid="ent0088" id="entity_IdGenerator"><rect fill="#F1F1F1" height="67.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.1056" x="6125.95" y="4512.292"/><ellipse cx="6151.8705" cy="4528.292" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6147.9018,4534.792 L6147.9018,4533.0889 L6150.2612,4532.8232 L6150.2612,4524.6201 L6147.9018,4524.3545 L6147.9018,4522.6514 L6155.0424,4522.6514 L6155.0424,4524.3545 L6152.6205,4524.6201 L6152.6205,4532.8232 L6155.0424,4533.0889 L6155.0424,4534.792 L6147.9018,4534.792 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="75.8377" x="6168.2973" y="4533.724">IdGenerator</text><line style="stroke:#181818;stroke-width:0.5;" x1="6126.95" x2="6257.0556" y1="4544.292" y2="4544.292"/><line style="stroke:#181818;stroke-width:0.5;" x1="6126.95" x2="6257.0556" y1="4552.292" y2="4552.292"/><ellipse cx="6136.95" cy="4567.3259" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.1056" x="6145.95" y="4571.2579">generateId(): int</text></g><g class="entity" data-entity="GMN89" data-source-line="338" data-uid="ent0090" id="entity_GMN89"><path d="M5958.68,4531.972 L5958.68,4559.678 A0,0 0 0 0 5958.68,4559.678 L6091.3241,4559.678 A0,0 0 0 0 6091.3241,4559.678 L6091.3241,4550.072 L6125.47,4546.072 L6091.3241,4542.072 L6091.3241,4541.972 L6081.3241,4531.972 L5958.68,4531.972 A0,0 0 0 0 5958.68,4531.972" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M6081.3241,4531.972 L6081.3241,4541.972 L6091.3241,4541.972 L6081.3241,4531.972" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111.6441" x="5964.68" y="4550.869">Pattern: Strategy</text></g><!--class SequentialIdGenerator--><g class="entity" data-entity="SequentialIdGenerator" data-source-line="341" data-uid="ent0092" id="entity_SequentialIdGenerator"><rect fill="#F1F1F1" height="105.2038" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="240.0172" x="6071.99" y="4896.772"/><ellipse cx="6112.8919" cy="4912.772" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6112.3606,4919.6939 Q6110.6106,4919.6939 6109.47,4918.9595 Q6108.345,4918.2095 6107.7825,4916.8657 Q6107.2356,4915.5064 6107.2356,4913.7095 Q6107.2356,4911.6782 6107.8919,4910.2251 Q6108.5481,4908.772 6109.8294,4907.9907 Q6111.1106,4907.2095 6112.9856,4907.2095 Q6113.8763,4907.2095 6114.5481,4907.397 Q6115.22,4907.5689 6115.9075,4907.9126 L6115.095,4909.9282 Q6114.47,4909.6157 6113.9231,4909.4907 Q6113.3919,4909.3657 6112.9075,4909.3657 Q6111.7356,4909.3657 6111.0325,4909.897 Q6110.3294,4910.4282 6110.0325,4911.3814 Q6109.7356,4912.3345 6109.7356,4913.6001 Q6109.7356,4915.6157 6110.4544,4916.5845 Q6111.1731,4917.5376 6112.7669,4917.5376 Q6113.3606,4917.5376 6113.9856,4917.3814 Q6114.6106,4917.2251 6115.4388,4916.8501 L6115.4388,4919.0689 Q6114.7044,4919.3814 6113.9075,4919.5376 Q6113.1263,4919.6939 6112.3606,4919.6939 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.4574" x="6132.6479" y="4918.204">SequentialIdGenerator</text><line style="stroke:#181818;stroke-width:0.5;" x1="6072.99" x2="6311.0072" y1="4928.772" y2="4928.772"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6079.99" y="4940.8059"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.1454" x="6091.99" y="4947.7379">counter: AtomicInteger</text><line style="stroke:#181818;stroke-width:1;" x1="6072.99" x2="6311.0072" y1="4955.8399" y2="4955.8399"/><ellipse cx="6082.99" cy="4970.8739" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214.0172" x="6091.99" y="4974.8058">SequentialIdGenerator(start: int)</text><ellipse cx="6082.99" cy="4989.9418" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.1056" x="6091.99" y="4993.8738">generateId(): int</text></g><!--class ConnectionState--><g class="entity" data-entity="ConnectionState" data-source-line="349" data-uid="ent0094" id="entity_ConnectionState"><rect fill="#F1F1F1" height="181.4754" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="254.5491" x="6239.73" y="3298.502"/><ellipse cx="6308.4698" cy="3314.502" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6307.9385,3321.4239 Q6306.1885,3321.4239 6305.0479,3320.6895 Q6303.9229,3319.9395 6303.3604,3318.5957 Q6302.8135,3317.2364 6302.8135,3315.4395 Q6302.8135,3313.4082 6303.4698,3311.9551 Q6304.126,3310.502 6305.4073,3309.7207 Q6306.6885,3308.9395 6308.5635,3308.9395 Q6309.4541,3308.9395 6310.126,3309.127 Q6310.7979,3309.2989 6311.4854,3309.6426 L6310.6729,3311.6582 Q6310.0479,3311.3457 6309.501,3311.2207 Q6308.9698,3311.0957 6308.4854,3311.0957 Q6307.3135,3311.0957 6306.6104,3311.627 Q6305.9073,3312.1582 6305.6104,3313.1114 Q6305.3135,3314.0645 6305.3135,3315.3301 Q6305.3135,3317.3457 6306.0323,3318.3145 Q6306.751,3319.2676 6308.3448,3319.2676 Q6308.9385,3319.2676 6309.5635,3319.1114 Q6310.1885,3318.9551 6311.0166,3318.5801 L6311.0166,3320.7989 Q6310.2823,3321.1114 6309.4854,3321.2676 Q6308.7041,3321.4239 6307.9385,3321.4239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.5696" x="6328.9698" y="3319.934">ConnectionState</text><line style="stroke:#181818;stroke-width:0.5;" x1="6240.73" x2="6493.2791" y1="3330.502" y2="3330.502"/><ellipse cx="6250.73" cy="3345.5359" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.7232" x="6259.73" y="3349.4679">channel: SocketChannel {final}</text><ellipse cx="6250.73" cy="3364.6039" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.6117" x="6259.73" y="3368.5358">clientId: int</text><ellipse cx="6250.73" cy="3383.6718" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.6053" x="6259.73" y="3387.6038">connectedAt: Instant {final}</text><ellipse cx="6250.73" cy="3402.7397" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191.6732" x="6259.73" y="3406.6717">readBuffer: ByteBuffer {final}</text><ellipse cx="6250.73" cy="3421.8076" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184.8273" x="6259.73" y="3425.7396">identified: boolean {volatile}</text><ellipse cx="6250.73" cy="3440.8755" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.1333" x="6259.73" y="3444.8075">currentPacket: PacketBuilder</text><line style="stroke:#181818;stroke-width:1;" x1="6240.73" x2="6493.2791" y1="3452.9095" y2="3452.9095"/><ellipse cx="6250.73" cy="3467.9434" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228.5491" x="6259.73" y="3471.8754">ConnectionState(c: SocketChannel)</text></g><g class="entity" data-entity="GMN95" data-source-line="360" data-uid="ent0096" id="entity_GMN95"><path d="M5882.29,3366.532 L5882.29,3411.944 A0,0 0 0 0 5882.29,3411.944 L6167.7102,3411.944 A0,0 0 0 0 6167.7102,3411.944 L6167.7102,3393.072 L6239.49,3389.072 L6167.7102,3385.072 L6167.7102,3376.532 L6157.7102,3366.532 L5882.29,3366.532 A0,0 0 0 0 5882.29,3366.532" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M6157.7102,3366.532 L6157.7102,3376.532 L6167.7102,3376.532 L6157.7102,3366.532" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264.4202" x="5888.29" y="3385.429">Classe interne statique de TchatsAppServer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244.5042" x="5888.29" y="3403.135">Repr&#233;sente l'&#233;tat d'une connexion client</text></g><!--class ServerContext--><g class="entity" data-entity="ServerContext" data-source-line="365" data-uid="ent0098" id="entity_ServerContext"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="270.859" x="6819.57" y="3857.722"/><ellipse cx="6903.9827" cy="3873.722" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6903.4514,3880.6439 Q6901.7014,3880.6439 6900.5608,3879.9095 Q6899.4358,3879.1595 6898.8733,3877.8157 Q6898.3264,3876.4564 6898.3264,3874.6595 Q6898.3264,3872.6282 6898.9827,3871.1751 Q6899.6389,3869.722 6900.9202,3868.9407 Q6902.2014,3868.1595 6904.0764,3868.1595 Q6904.9671,3868.1595 6905.6389,3868.347 Q6906.3108,3868.5189 6906.9983,3868.8626 L6906.1858,3870.8782 Q6905.5608,3870.5657 6905.0139,3870.4407 Q6904.4827,3870.3157 6903.9983,3870.3157 Q6902.8264,3870.3157 6902.1233,3870.847 Q6901.4202,3871.3782 6901.1233,3872.3314 Q6900.8264,3873.2845 6900.8264,3874.5501 Q6900.8264,3876.5657 6901.5452,3877.5345 Q6902.2639,3878.4876 6903.8577,3878.4876 Q6904.4514,3878.4876 6905.0764,3878.3314 Q6905.7014,3878.1751 6906.5296,3877.8001 L6906.5296,3880.0189 Q6905.7952,3880.3314 6904.9983,3880.4876 Q6904.2171,3880.6439 6903.4514,3880.6439 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.5336" x="6924.4827" y="3879.154">ServerContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="6820.57" x2="7089.429" y1="3889.722" y2="3889.722"/><line style="stroke:#181818;stroke-width:1;" x1="6820.57" x2="7089.429" y1="3897.722" y2="3897.722"/><ellipse cx="6830.57" cy="3912.7559" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244.859" x="6839.57" y="3916.6879">sendPacketToClient(pkt: Packet): void</text><ellipse cx="6830.57" cy="3931.8239" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.7794" x="6839.57" y="3935.7558">generateClientId(): int</text></g><g class="entity" data-entity="GMN99" data-source-line="371" data-uid="ent0100" id="entity_GMN99"><path d="M7125.32,3851.532 L7125.32,3897.072 L7090.56,3901.072 L7125.32,3905.072 L7125.32,3950.0621 A0,0 0 0 0 7125.32,3950.0621 L7470.6703,3950.0621 A0,0 0 0 0 7470.6703,3950.0621 L7470.6703,3861.532 L7460.6703,3851.532 L7125.32,3851.532 A0,0 0 0 0 7125.32,3851.532" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M7460.6703,3851.532 L7460.6703,3861.532 L7470.6703,3861.532 L7460.6703,3851.532" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.4192" x="7131.32" y="3870.429">Classe interne de TchatsAppServer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.2632" x="7131.32" y="3888.135">Fournit acc&#232;s aux fonctionnalit&#233;s serveur</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.5741" x="7131.32" y="3905.841">pour les handlers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3.38" x="7131.32" y="3923.547">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="41.236" x="7131.32" y="3941.2531">TODO:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279.7343" x="7175.936" y="3941.2531">Ajouter acc&#232;s aux d&#233;p&#244;ts utilisateurs/groupes</text></g><!--class TchatsAppServer--><g class="entity" data-entity="TchatsAppServer" data-source-line="379" data-uid="ent0102" id="entity_TchatsAppServer"><rect fill="#F1F1F1" height="581.9017" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="411.9785" x="6079.01" y="2656.602"/><ellipse cx="6225.2045" cy="2672.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6224.6732,2679.5239 Q6222.9232,2679.5239 6221.7826,2678.7895 Q6220.6576,2678.0395 6220.0951,2676.6957 Q6219.5482,2675.3364 6219.5482,2673.5395 Q6219.5482,2671.5082 6220.2045,2670.0551 Q6220.8607,2668.602 6222.142,2667.8207 Q6223.4232,2667.0395 6225.2982,2667.0395 Q6226.1889,2667.0395 6226.8607,2667.227 Q6227.5326,2667.3989 6228.2201,2667.7426 L6227.4076,2669.7582 Q6226.7826,2669.4457 6226.2357,2669.3207 Q6225.7045,2669.1957 6225.2201,2669.1957 Q6224.0482,2669.1957 6223.3451,2669.727 Q6222.642,2670.2582 6222.3451,2671.2114 Q6222.0482,2672.1645 6222.0482,2673.4301 Q6222.0482,2675.4457 6222.767,2676.4145 Q6223.4857,2677.3676 6225.0795,2677.3676 Q6225.6732,2677.3676 6226.2982,2677.2114 Q6226.9232,2677.0551 6227.7514,2676.6801 L6227.7514,2678.8989 Q6227.017,2679.2114 6226.2201,2679.3676 Q6225.4389,2679.5239 6224.6732,2679.5239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.0896" x="6245.7045" y="2678.034">TchatsAppServer</text><line style="stroke:#181818;stroke-width:0.5;" x1="6080.01" x2="6489.9885" y1="2688.602" y2="2688.602"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2700.6359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="125.7895" x="6099.01" y="2707.5679">MAX_MSG_SIZE: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2719.7039"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="135.3934" x="6099.01" y="2726.6358">BUFFER_LENGTH: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2738.7718"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.9994" x="6099.01" y="2745.7038">IDENTIFY_TIMEOUT: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2757.8397"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="385.9785" x="6099.01" y="2764.7717">activeConnections: Map&lt;SocketChannel, ConnectionState&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2776.9076"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="330.2167" x="6099.01" y="2783.8396">connectedClients: Map&lt;Integer, ConnectionState&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2795.9755"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="325.1767" x="6099.01" y="2802.9075">clientQueues: Map&lt;Integer, Queue&lt;ByteBuffer&gt;&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2815.0434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224.4752" x="6099.01" y="2821.9754">packetProcessor: PacketProcessor</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2834.1114"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.1254" x="6099.01" y="2841.0433">idGenerator: IdGenerator</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2853.1793"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.9754" x="6099.01" y="2860.1113">workers: ExecutorService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2872.2472"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244.719" x="6099.01" y="2879.1792">scheduler: ScheduledExecutorService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2891.3151"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.6436" x="6099.01" y="2898.2471">selector: Selector</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2910.383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.4134" x="6099.01" y="2917.315">started: boolean {volatile}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="2929.4509"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.4793" x="6099.01" y="2936.3829">serverContext: ServerContext</text><line style="stroke:#181818;stroke-width:1;" x1="6080.01" x2="6489.9885" y1="2944.4849" y2="2944.4849"/><ellipse cx="6090.01" cy="2959.5189" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303.9109" x="6099.01" y="2963.4508">TchatsAppServer(port: int, workerThreads: int)</text><ellipse cx="6090.01" cy="2978.5868" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.0457" x="6099.01" y="2982.5188">start(): void</text><ellipse cx="6090.01" cy="2997.6547" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.4357" x="6099.01" y="3001.5867">stop(): void</text><ellipse cx="6090.01" cy="3016.7226" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="304.8069" x="6099.01" y="3020.6546">setPacketProcessor(pp: PacketProcessor): void</text><ellipse cx="6090.01" cy="3035.7905" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295.3429" x="6099.01" y="3039.7225">setClientIdGenerator(gen: IdGenerator): void</text><ellipse cx="6090.01" cy="3054.8584" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.9313" x="6099.01" y="3058.7904">sendPacket(pkt: Packet): void</text><ellipse cx="6090.01" cy="3073.9264" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.1272" x="6099.01" y="3077.8583">removeClient(clientId: int): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="3089.9943"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.6532" x="6099.01" y="3096.9263">accept(key: SelectionKey): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="3109.0622"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.9413" x="6099.01" y="3115.9942">read(key: SelectionKey): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="3128.1301"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="372.8466" x="6099.01" y="3135.0621">readPacket(buf: ByteBuffer, state: ConnectionState): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="3147.198"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.1472" x="6099.01" y="3154.13">write(key: SelectionKey): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="3166.2659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="332.4147" x="6099.01" y="3173.1979">processMessage(message: ProtocolMessage): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="3185.3339"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249.451" x="6099.01" y="3192.2658">closeChannel(sc: SocketChannel): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="3204.4018"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.9051" x="6099.01" y="3211.3338">closeKey(key: SelectionKey): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6087.01" y="3223.4697"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328.8587" x="6099.01" y="3230.4017">wakeupSendQueue(channel: SocketChannel): void</text></g><!--class ServerPacketHandler--><g class="entity" data-entity="ServerPacketHandler" data-source-line="412" data-uid="ent0103" id="entity_ServerPacketHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="395.4305" x="6389.28" y="3857.722"/><ellipse cx="6518.0585" cy="3873.722" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6513.2304,3879.472 L6516.5741,3867.2845 L6519.7148,3867.2845 L6523.0898,3879.472 L6520.621,3879.472 L6519.8866,3876.4564 L6516.371,3876.4564 L6515.621,3879.472 L6513.2304,3879.472 Z M6517.6366,3871.4251 L6516.8866,3874.4251 L6519.4023,3874.4251 L6518.6835,3871.4251 Q6518.5429,3870.847 6518.4179,3870.3001 Q6518.2929,3869.7376 6518.1523,3869.1595 Q6518.0429,3869.7376 6517.9023,3870.3001 Q6517.7616,3870.847 6517.6366,3871.4251 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="129.3735" x="6538.5585" y="3879.154">ServerPacketHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="6390.28" x2="6783.7105" y1="3889.722" y2="3889.722"/><line style="stroke:#181818;stroke-width:1;" x1="6390.28" x2="6783.7105" y1="3897.722" y2="3897.722"/><ellipse cx="6400.28" cy="3912.7559" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="369.4305" x="6409.28" y="3916.6879">handle(msg: ProtocolMessage, context: ServerContext): void</text><ellipse cx="6400.28" cy="3931.8239" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="248.5971" x="6409.28" y="3935.7558">canHandle(type: MessageType): boolean</text></g><!--class TextMessageHandler--><g class="entity" data-entity="TextMessageHandler" data-source-line="418" data-uid="ent0104" id="entity_TextMessageHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="421.6525" x="6833.17" y="4185.002"/><ellipse cx="6970.1035" cy="4201.002" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6969.5723,4207.9239 Q6967.8223,4207.9239 6966.6817,4207.1895 Q6965.5567,4206.4395 6964.9942,4205.0957 Q6964.4473,4203.7364 6964.4473,4201.9395 Q6964.4473,4199.9082 6965.1035,4198.4551 Q6965.7598,4197.002 6967.041,4196.2207 Q6968.3223,4195.4395 6970.1973,4195.4395 Q6971.0879,4195.4395 6971.7598,4195.627 Q6972.4317,4195.7989 6973.1192,4196.1426 L6972.3067,4198.1582 Q6971.6817,4197.8457 6971.1348,4197.7207 Q6970.6035,4197.5957 6970.1192,4197.5957 Q6968.9473,4197.5957 6968.2442,4198.127 Q6967.541,4198.6582 6967.2442,4199.6114 Q6966.9473,4200.5645 6966.9473,4201.8301 Q6966.9473,4203.8457 6967.666,4204.8145 Q6968.3848,4205.7676 6969.9785,4205.7676 Q6970.5723,4205.7676 6971.1973,4205.6114 Q6971.8223,4205.4551 6972.6504,4205.0801 L6972.6504,4207.2989 Q6971.916,4207.6114 6971.1192,4207.7676 Q6970.3379,4207.9239 6969.5723,4207.9239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.2855" x="6990.6035" y="4206.434">TextMessageHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="6834.17" x2="7253.8225" y1="4217.002" y2="4217.002"/><line style="stroke:#181818;stroke-width:1;" x1="6834.17" x2="7253.8225" y1="4225.002" y2="4225.002"/><ellipse cx="6844.17" cy="4240.0359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="395.6525" x="6853.17" y="4243.9679">handle(msg: ProtocolMessage, context: ServerContext): void</text><ellipse cx="6844.17" cy="4259.1039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="6853.17" y="4263.0358">canHandle(type: MessageType): boolean</text></g><!--class MediaMessageHandler--><g class="entity" data-entity="MediaMessageHandler" data-source-line="424" data-uid="ent0106" id="entity_MediaMessageHandler"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="421.6525" x="6376.17" y="4165.942"/><ellipse cx="6506.8385" cy="4181.942" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6506.3073,4188.8639 Q6504.5573,4188.8639 6503.4167,4188.1295 Q6502.2917,4187.3795 6501.7292,4186.0357 Q6501.1823,4184.6764 6501.1823,4182.8795 Q6501.1823,4180.8482 6501.8385,4179.3951 Q6502.4948,4177.942 6503.776,4177.1607 Q6505.0573,4176.3795 6506.9323,4176.3795 Q6507.8229,4176.3795 6508.4948,4176.567 Q6509.1667,4176.7389 6509.8542,4177.0826 L6509.0417,4179.0982 Q6508.4167,4178.7857 6507.8698,4178.6607 Q6507.3385,4178.5357 6506.8542,4178.5357 Q6505.6823,4178.5357 6504.9792,4179.067 Q6504.276,4179.5982 6503.9792,4180.5514 Q6503.6823,4181.5045 6503.6823,4182.7701 Q6503.6823,4184.7857 6504.401,4185.7545 Q6505.1198,4186.7076 6506.7135,4186.7076 Q6507.3073,4186.7076 6507.9323,4186.5514 Q6508.5573,4186.3951 6509.3854,4186.0201 L6509.3854,4188.2389 Q6508.651,4188.5514 6507.8542,4188.7076 Q6507.0729,4188.8639 6506.3073,4188.8639 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.8154" x="6527.3385" y="4187.374">MediaMessageHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="6377.17" x2="6796.8225" y1="4197.942" y2="4197.942"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6384.17" y="4209.9759"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191.8273" x="6396.17" y="4216.9079">mediaStorage: MediaStorage</text><line style="stroke:#181818;stroke-width:1;" x1="6377.17" x2="6796.8225" y1="4225.0099" y2="4225.0099"/><ellipse cx="6387.17" cy="4240.0439" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310.0009" x="6396.17" y="4243.9758">MediaMessageHandler(storage: MediaStorage)</text><ellipse cx="6387.17" cy="4259.1118" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="395.6525" x="6396.17" y="4263.0438">handle(msg: ProtocolMessage, context: ServerContext): void</text><ellipse cx="6387.17" cy="4278.1797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="6396.17" y="4282.1117">canHandle(type: MessageType): boolean</text></g><!--class ReactionHandler--><g class="entity" data-entity="ReactionHandler" data-source-line="432" data-uid="ent0108" id="entity_ReactionHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="421.6525" x="5919.17" y="4185.002"/><ellipse cx="6070.8735" cy="4201.002" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6070.3422,4207.9239 Q6068.5922,4207.9239 6067.4516,4207.1895 Q6066.3266,4206.4395 6065.7641,4205.0957 Q6065.2172,4203.7364 6065.2172,4201.9395 Q6065.2172,4199.9082 6065.8735,4198.4551 Q6066.5297,4197.002 6067.811,4196.2207 Q6069.0922,4195.4395 6070.9672,4195.4395 Q6071.8579,4195.4395 6072.5297,4195.627 Q6073.2016,4195.7989 6073.8891,4196.1426 L6073.0766,4198.1582 Q6072.4516,4197.8457 6071.9047,4197.7207 Q6071.3735,4197.5957 6070.8891,4197.5957 Q6069.7172,4197.5957 6069.0141,4198.127 Q6068.311,4198.6582 6068.0141,4199.6114 Q6067.7172,4200.5645 6067.7172,4201.8301 Q6067.7172,4203.8457 6068.436,4204.8145 Q6069.1547,4205.7676 6070.7485,4205.7676 Q6071.3422,4205.7676 6071.9672,4205.6114 Q6072.5922,4205.4551 6073.4204,4205.0801 L6073.4204,4207.2989 Q6072.686,4207.6114 6071.8891,4207.7676 Q6071.1079,4207.9239 6070.3422,4207.9239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.7456" x="6091.3735" y="4206.434">ReactionHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="5920.17" x2="6339.8225" y1="4217.002" y2="4217.002"/><line style="stroke:#181818;stroke-width:1;" x1="5920.17" x2="6339.8225" y1="4225.002" y2="4225.002"/><ellipse cx="5930.17" cy="4240.0359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="395.6525" x="5939.17" y="4243.9679">handle(msg: ProtocolMessage, context: ServerContext): void</text><ellipse cx="5930.17" cy="4259.1039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="5939.17" y="4263.0358">canHandle(type: MessageType): boolean</text></g><!--class GroupManagementHandler--><g class="entity" data-entity="GroupManagementHandler" data-source-line="438" data-uid="ent0110" id="entity_GroupManagementHandler"><rect fill="#F1F1F1" height="200.5433" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="465.5564" x="7290.22" y="4127.802"/><ellipse cx="7427.3775" cy="4143.802" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M7426.8463,4150.7239 Q7425.0963,4150.7239 7423.9557,4149.9895 Q7422.8307,4149.2395 7422.2682,4147.8957 Q7421.7213,4146.5364 7421.7213,4144.7395 Q7421.7213,4142.7082 7422.3775,4141.2551 Q7423.0338,4139.802 7424.315,4139.0207 Q7425.5963,4138.2395 7427.4713,4138.2395 Q7428.3619,4138.2395 7429.0338,4138.427 Q7429.7057,4138.5989 7430.3932,4138.9426 L7429.5807,4140.9582 Q7428.9557,4140.6457 7428.4088,4140.5207 Q7427.8775,4140.3957 7427.3932,4140.3957 Q7426.2213,4140.3957 7425.5182,4140.927 Q7424.815,4141.4582 7424.5182,4142.4114 Q7424.2213,4143.3645 7424.2213,4144.6301 Q7424.2213,4146.6457 7424.94,4147.6145 Q7425.6588,4148.5676 7427.2525,4148.5676 Q7427.8463,4148.5676 7428.4713,4148.4114 Q7429.0963,4148.2551 7429.9244,4147.8801 L7429.9244,4150.0989 Q7429.19,4150.4114 7428.3932,4150.5676 Q7427.6119,4150.7239 7426.8463,4150.7239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.7413" x="7447.8775" y="4149.234">GroupManagementHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="7291.22" x2="7754.7764" y1="4159.802" y2="4159.802"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="7298.22" y="4171.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223.8172" x="7310.22" y="4178.7679">groups: Map&lt;Integer, GroupInfo&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="7298.22" y="4190.9039"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209.3832" x="7310.22" y="4197.8358">groupIdGenerator: IdGenerator</text><line style="stroke:#181818;stroke-width:1;" x1="7291.22" x2="7754.7764" y1="4205.9378" y2="4205.9378"/><ellipse cx="7301.22" cy="4220.9718" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="395.6525" x="7310.22" y="4224.9038">handle(msg: ProtocolMessage, context: ServerContext): void</text><ellipse cx="7301.22" cy="4240.0397" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="7310.22" y="4243.9717">canHandle(type: MessageType): boolean</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="7298.22" y="4256.1076"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287.5729" x="7310.22" y="4263.0396">createGroup(adminId: int, name: String): int</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="7298.22" y="4275.1755"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="414.3845" x="7310.22" y="4282.1075">addMember(groupId: int, memberId: int, requesterId: int): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="7298.22" y="4294.2434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="439.5564" x="7310.22" y="4301.1754">removeMember(groupId: int, memberId: int, requesterId: int): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="7298.22" y="4313.3114"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="314.1868" x="7310.22" y="4320.2433">deleteGroup(groupId: int, requesterId: int): void</text></g><!--class ServerPacketRouter--><g class="entity" data-entity="ServerPacketRouter" data-source-line="450" data-uid="ent0112" id="entity_ServerPacketRouter"><rect fill="#F1F1F1" height="162.4075" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="369.4747" x="6402.26" y="3539.982"/><ellipse cx="6517.6546" cy="3555.982" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6517.1233,3562.9039 Q6515.3733,3562.9039 6514.2327,3562.1695 Q6513.1077,3561.4195 6512.5452,3560.0757 Q6511.9983,3558.7164 6511.9983,3556.9195 Q6511.9983,3554.8882 6512.6546,3553.4351 Q6513.3108,3551.982 6514.5921,3551.2007 Q6515.8733,3550.4195 6517.7483,3550.4195 Q6518.639,3550.4195 6519.3108,3550.607 Q6519.9827,3550.7789 6520.6702,3551.1226 L6519.8577,3553.1382 Q6519.2327,3552.8257 6518.6858,3552.7007 Q6518.1546,3552.5757 6517.6702,3552.5757 Q6516.4983,3552.5757 6515.7952,3553.107 Q6515.0921,3553.6382 6514.7952,3554.5914 Q6514.4983,3555.5445 6514.4983,3556.8101 Q6514.4983,3558.8257 6515.2171,3559.7945 Q6515.9358,3560.7476 6517.5296,3560.7476 Q6518.1233,3560.7476 6518.7483,3560.5914 Q6519.3733,3560.4351 6520.2015,3560.0601 L6520.2015,3562.2789 Q6519.4671,3562.5914 6518.6702,3562.7476 Q6517.889,3562.9039 6517.1233,3562.9039 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.1855" x="6538.1546" y="3561.414">ServerPacketRouter</text><line style="stroke:#181818;stroke-width:0.5;" x1="6403.26" x2="6770.7347" y1="3571.982" y2="3571.982"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6410.26" y="3584.0159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.2831" x="6422.26" y="3590.9479">handlers: List&lt;ServerPacketHandler&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6410.26" y="3603.0839"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.4793" x="6422.26" y="3610.0158">serverContext: ServerContext</text><line style="stroke:#181818;stroke-width:1;" x1="6403.26" x2="6770.7347" y1="3618.1178" y2="3618.1178"/><ellipse cx="6413.26" cy="3633.1518" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="288.7629" x="6422.26" y="3637.0838">ServerPacketRouter(context: ServerContext)</text><ellipse cx="6413.26" cy="3652.2197" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="318.3028" x="6422.26" y="3656.1517">addHandler(handler: ServerPacketHandler): void</text><ellipse cx="6413.26" cy="3671.2876" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="343.4747" x="6422.26" y="3675.2196">removeHandler(handler: ServerPacketHandler): void</text><ellipse cx="6413.26" cy="3690.3555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274.049" x="6422.26" y="3694.2875">process(message: ProtocolMessage): void</text></g><!--class PacketProcessor--><g class="entity" data-entity="PacketProcessor" data-source-line="451" data-uid="ent0113" id="entity_PacketProcessor"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.0656" x="6529.47" y="3365.242"/><ellipse cx="6544.47" cy="3381.242" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6540.5013,3387.742 L6540.5013,3386.0389 L6542.8606,3385.7732 L6542.8606,3377.5701 L6540.5013,3377.3045 L6540.5013,3375.6014 L6547.6419,3375.6014 L6547.6419,3377.3045 L6545.22,3377.5701 L6545.22,3385.7732 L6547.6419,3386.0389 L6547.6419,3387.742 L6540.5013,3387.742 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="101.0656" x="6558.47" y="3386.674">PacketProcessor</text><line style="stroke:#181818;stroke-width:0.5;" x1="6530.47" x2="6661.5356" y1="3397.242" y2="3397.242"/><line style="stroke:#181818;stroke-width:0.5;" x1="6530.47" x2="6661.5356" y1="3405.242" y2="3405.242"/></g><g class="entity" data-entity="GMN115" data-source-line="460" data-uid="ent0116" id="entity_GMN115"><path d="M6129.51,3886.942 L6129.51,3914.648 L6354.4932,3914.648 L6354.4932,3896.942 L6344.4932,3886.942 L6129.51,3886.942" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M6344.4932,3886.942 L6344.4932,3896.942 L6354.4932,3896.942 L6344.4932,3886.942" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="203.9832" x="6135.51" y="3905.839">Pattern: Chain of Responsibility</text></g><!--class GroupInfo--><g class="entity" data-entity="GroupInfo" data-source-line="464" data-uid="ent0118" id="entity_GroupInfo"><rect fill="#F1F1F1" height="257.7471" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="359.9268" x="7495.04" y="4416.952"/><ellipse cx="7636.5585" cy="4432.952" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M7636.0273,4439.8739 Q7634.2773,4439.8739 7633.1366,4439.1395 Q7632.0116,4438.3895 7631.4491,4437.0457 Q7630.9023,4435.6864 7630.9023,4433.8895 Q7630.9023,4431.8582 7631.5585,4430.4051 Q7632.2148,4428.952 7633.496,4428.1707 Q7634.7773,4427.3895 7636.6523,4427.3895 Q7637.5429,4427.3895 7638.2148,4427.577 Q7638.8866,4427.7489 7639.5741,4428.0926 L7638.7616,4430.1082 Q7638.1366,4429.7957 7637.5898,4429.6707 Q7637.0585,4429.5457 7636.5741,4429.5457 Q7635.4023,4429.5457 7634.6991,4430.077 Q7633.996,4430.6082 7633.6991,4431.5614 Q7633.4023,4432.5145 7633.4023,4433.7801 Q7633.4023,4435.7957 7634.121,4436.7645 Q7634.8398,4437.7176 7636.4335,4437.7176 Q7637.0273,4437.7176 7637.6523,4437.5614 Q7638.2773,4437.4051 7639.1054,4437.0301 L7639.1054,4439.2489 Q7638.371,4439.5614 7637.5741,4439.7176 Q7636.7929,4439.8739 7636.0273,4439.8739 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.3897" x="7657.0585" y="4438.384">GroupInfo</text><line style="stroke:#181818;stroke-width:0.5;" x1="7496.04" x2="7853.9668" y1="4448.952" y2="4448.952"/><ellipse cx="7506.04" cy="4463.9859" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.0155" x="7515.04" y="4467.9179">groupId: int {final}</text><ellipse cx="7506.04" cy="4483.0539" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.7095" x="7515.04" y="4486.9858">adminId: int {final}</text><ellipse cx="7506.04" cy="4502.1218" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.7494" x="7515.04" y="4506.0538">members: Set&lt;Integer&gt;</text><ellipse cx="7506.04" cy="4521.1897" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2797" x="7515.04" y="4525.1217">name: String</text><line style="stroke:#181818;stroke-width:1;" x1="7496.04" x2="7853.9668" y1="4533.2236" y2="4533.2236"/><ellipse cx="7506.04" cy="4548.2576" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="333.9268" x="7515.04" y="4552.1896">GroupInfo(groupId: int, adminId: int, name: String)</text><ellipse cx="7506.04" cy="4567.3255" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219.0712" x="7515.04" y="4571.2575">addMember(memberId: int): void</text><ellipse cx="7506.04" cy="4586.3934" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244.2431" x="7515.04" y="4590.3254">removeMember(memberId: int): void</text><ellipse cx="7506.04" cy="4605.4614" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202.7472" x="7515.04" y="4609.3933">isMember(userId: int): boolean</text><ellipse cx="7506.04" cy="4624.5293" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.6853" x="7515.04" y="4628.4613">isAdmin(userId: int): boolean</text><ellipse cx="7506.04" cy="4643.5972" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2276" x="7515.04" y="4647.5292">getName(): String</text><ellipse cx="7506.04" cy="4662.6651" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.0113" x="7515.04" y="4666.5971">setName(name: String): void</text></g><!--class MediaStorage--><g class="entity" data-entity="MediaStorage" data-source-line="480" data-uid="ent0119" id="entity_MediaStorage"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="327.4469" x="6423.28" y="4483.682"/><ellipse cx="6539.4306" cy="4499.682" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6535.4619,4506.182 L6535.4619,4504.4789 L6537.8212,4504.2132 L6537.8212,4496.0101 L6535.4619,4495.7445 L6535.4619,4494.0414 L6542.6025,4494.0414 L6542.6025,4495.7445 L6540.1806,4496.0101 L6540.1806,4504.2132 L6542.6025,4504.4789 L6542.6025,4506.182 L6535.4619,4506.182 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="86.6457" x="6559.9306" y="4505.114">MediaStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="6424.28" x2="6749.7269" y1="4515.682" y2="4515.682"/><line style="stroke:#181818;stroke-width:0.5;" x1="6424.28" x2="6749.7269" y1="4523.682" y2="4523.682"/><ellipse cx="6434.28" cy="4538.7159" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301.4469" x="6443.28" y="4542.6479">storeMedia(mediaId: String, data: byte[]): void</text><ellipse cx="6434.28" cy="4557.7839" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246.6091" x="6443.28" y="4561.7158">retrieveMedia(mediaId: String): byte[]</text><ellipse cx="6434.28" cy="4576.8518" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.4351" x="6443.28" y="4580.7838">deleteMedia(mediaId: String): void</text><ellipse cx="6434.28" cy="4595.9197" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.9412" x="6443.28" y="4599.8517">exists(mediaId: String): boolean</text></g><!--class FileSystemMediaStorage--><g class="entity" data-entity="FileSystemMediaStorage" data-source-line="487" data-uid="ent0120" id="entity_FileSystemMediaStorage"><rect fill="#F1F1F1" height="162.4075" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="327.4469" x="6423.28" y="4868.172"/><ellipse cx="6501.7637" cy="4884.172" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6501.2325,4891.0939 Q6499.4825,4891.0939 6498.3419,4890.3595 Q6497.2169,4889.6095 6496.6544,4888.2657 Q6496.1075,4886.9064 6496.1075,4885.1095 Q6496.1075,4883.0782 6496.7637,4881.6251 Q6497.42,4880.172 6498.7012,4879.3907 Q6499.9825,4878.6095 6501.8575,4878.6095 Q6502.7481,4878.6095 6503.42,4878.797 Q6504.0919,4878.9689 6504.7794,4879.3126 L6503.9669,4881.3282 Q6503.3419,4881.0157 6502.795,4880.8907 Q6502.2637,4880.7657 6501.7794,4880.7657 Q6500.6075,4880.7657 6499.9044,4881.297 Q6499.2012,4881.8282 6498.9044,4882.7814 Q6498.6075,4883.7345 6498.6075,4885.0001 Q6498.6075,4887.0157 6499.3262,4887.9845 Q6500.045,4888.9376 6501.6387,4888.9376 Q6502.2325,4888.9376 6502.8575,4888.7814 Q6503.4825,4888.6251 6504.3106,4888.2501 L6504.3106,4890.4689 Q6503.5762,4890.7814 6502.7794,4890.9376 Q6501.9981,4891.0939 6501.2325,4891.0939 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.9794" x="6522.2637" y="4889.604">FileSystemMediaStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="6424.28" x2="6749.7269" y1="4900.172" y2="4900.172"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6431.28" y="4912.2059"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.1017" x="6443.28" y="4919.1379">baseDir: Path</text><line style="stroke:#181818;stroke-width:1;" x1="6424.28" x2="6749.7269" y1="4927.2399" y2="4927.2399"/><ellipse cx="6434.28" cy="4942.2739" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258.481" x="6443.28" y="4946.2058">FileSystemMediaStorage(baseDir: Path)</text><ellipse cx="6434.28" cy="4961.3418" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301.4469" x="6443.28" y="4965.2738">storeMedia(mediaId: String, data: byte[]): void</text><ellipse cx="6434.28" cy="4980.4097" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246.6091" x="6443.28" y="4984.3417">retrieveMedia(mediaId: String): byte[]</text><ellipse cx="6434.28" cy="4999.4776" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.4351" x="6443.28" y="5003.4096">deleteMedia(mediaId: String): void</text><ellipse cx="6434.28" cy="5018.5455" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.9412" x="6443.28" y="5022.4775">exists(mediaId: String): boolean</text></g><!--class UserRepository--><g class="entity" data-entity="UserRepository" data-source-line="498" data-uid="ent0122" id="entity_UserRepository"><rect fill="#F1F1F1" height="181.4754" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="227.6412" x="8076.18" y="4137.332"/><ellipse cx="8135.2178" cy="4153.332" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M8134.6866,4160.2539 Q8132.9366,4160.2539 8131.7959,4159.5195 Q8130.6709,4158.7695 8130.1084,4157.4257 Q8129.5616,4156.0664 8129.5616,4154.2695 Q8129.5616,4152.2382 8130.2178,4150.7851 Q8130.8741,4149.332 8132.1553,4148.5507 Q8133.4366,4147.7695 8135.3116,4147.7695 Q8136.2022,4147.7695 8136.8741,4147.957 Q8137.5459,4148.1289 8138.2334,4148.4726 L8137.4209,4150.4882 Q8136.7959,4150.1757 8136.2491,4150.0507 Q8135.7178,4149.9257 8135.2334,4149.9257 Q8134.0616,4149.9257 8133.3584,4150.457 Q8132.6553,4150.9882 8132.3584,4151.9414 Q8132.0616,4152.8945 8132.0616,4154.1601 Q8132.0616,4156.1757 8132.7803,4157.1445 Q8133.4991,4158.0976 8135.0928,4158.0976 Q8135.6866,4158.0976 8136.3116,4157.9414 Q8136.9366,4157.7851 8137.7647,4157.4101 L8137.7647,4159.6289 Q8137.0303,4159.9414 8136.2334,4160.0976 Q8135.4522,4160.2539 8134.6866,4160.2539 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.0656" x="8155.7178" y="4158.764">UserRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="8077.18" x2="8302.8212" y1="4169.332" y2="4169.332"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="8084.18" y="4181.3659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201.6412" x="8096.18" y="4188.2979">users: Map&lt;Integer, UserInfo&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="8077.18" x2="8302.8212" y1="4196.3999" y2="4196.3999"/><ellipse cx="8087.18" cy="4211.4339" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162.3994" x="8096.18" y="4215.3658">add(user: UserInfo): void</text><ellipse cx="8087.18" cy="4230.5018" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184.0013" x="8096.18" y="4234.4338">update(user: UserInfo): void</text><ellipse cx="8087.18" cy="4249.5697" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.2893" x="8096.18" y="4253.5017">delete(user: UserInfo): void</text><ellipse cx="8087.18" cy="4268.6376" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.5953" x="8096.18" y="4272.5696">deleteById(id: Object): void</text><ellipse cx="8087.18" cy="4287.7055" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.8193" x="8096.18" y="4291.6375">findById(id: Object): UserInfo</text><ellipse cx="8087.18" cy="4306.7734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.6774" x="8096.18" y="4310.7054">findAll(): List&lt;UserInfo&gt;</text></g><!--class Repository--><g class="entity" data-entity="Repository" data-source-line="499" data-uid="ent0123" id="entity_Repository"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.2958" x="8004.35" y="3876.792"/><ellipse cx="8019.35" cy="3892.792" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M8015.3813,3899.292 L8015.3813,3897.5889 L8017.7406,3897.3232 L8017.7406,3889.1201 L8015.3813,3888.8545 L8015.3813,3887.1514 L8022.5219,3887.1514 L8022.5219,3888.8545 L8020.1,3889.1201 L8020.1,3897.3232 L8022.5219,3897.5889 L8022.5219,3899.292 L8015.3813,3899.292 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="65.2958" x="8033.35" y="3898.224">Repository</text><line style="stroke:#181818;stroke-width:0.5;" x1="8005.35" x2="8100.6458" y1="3908.792" y2="3908.792"/><line style="stroke:#181818;stroke-width:0.5;" x1="8005.35" x2="8100.6458" y1="3916.792" y2="3916.792"/></g><!--class GroupRepository--><g class="entity" data-entity="GroupRepository" data-source-line="509" data-uid="ent0125" id="entity_GroupRepository"><rect fill="#F1F1F1" height="181.4754" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="249.8172" x="7791.09" y="4137.332"/><ellipse cx="7855.6718" cy="4153.332" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M7855.1405,4160.2539 Q7853.3905,4160.2539 7852.2499,4159.5195 Q7851.1249,4158.7695 7850.5624,4157.4257 Q7850.0155,4156.0664 7850.0155,4154.2695 Q7850.0155,4152.2382 7850.6718,4150.7851 Q7851.328,4149.332 7852.6093,4148.5507 Q7853.8905,4147.7695 7855.7655,4147.7695 Q7856.6562,4147.7695 7857.328,4147.957 Q7857.9999,4148.1289 7858.6874,4148.4726 L7857.8749,4150.4882 Q7857.2499,4150.1757 7856.703,4150.0507 Q7856.1718,4149.9257 7855.6874,4149.9257 Q7854.5155,4149.9257 7853.8124,4150.457 Q7853.1093,4150.9882 7852.8124,4151.9414 Q7852.5155,4152.8945 7852.5155,4154.1601 Q7852.5155,4156.1757 7853.2343,4157.1445 Q7853.953,4158.0976 7855.5468,4158.0976 Q7856.1405,4158.0976 7856.7655,4157.9414 Q7857.3905,4157.7851 7858.2187,4157.4101 L7858.2187,4159.6289 Q7857.4843,4159.9414 7856.6874,4160.0976 Q7855.9062,4160.2539 7855.1405,4160.2539 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.1536" x="7876.1718" y="4158.764">GroupRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="7792.09" x2="8039.9072" y1="4169.332" y2="4169.332"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="7799.09" y="4181.3659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223.8172" x="7811.09" y="4188.2979">groups: Map&lt;Integer, GroupInfo&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="7792.09" x2="8039.9072" y1="4196.3999" y2="4196.3999"/><ellipse cx="7802.09" cy="4211.4339" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184.5753" x="7811.09" y="4215.3658">add(group: GroupInfo): void</text><ellipse cx="7802.09" cy="4230.5018" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206.1772" x="7811.09" y="4234.4338">update(group: GroupInfo): void</text><ellipse cx="7802.09" cy="4249.5697" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200.4652" x="7811.09" y="4253.5017">delete(group: GroupInfo): void</text><ellipse cx="7802.09" cy="4268.6376" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.5953" x="7811.09" y="4272.5696">deleteById(id: Object): void</text><ellipse cx="7802.09" cy="4287.7055" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201.9072" x="7811.09" y="4291.6375">findById(id: Object): GroupInfo</text><ellipse cx="7802.09" cy="4306.7734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.7654" x="7811.09" y="4310.7054">findAll(): List&lt;GroupInfo&gt;</text></g><!--class UserInfo--><g class="entity" data-entity="UserInfo" data-source-line="520" data-uid="ent0127" id="entity_UserInfo"><rect fill="#F1F1F1" height="238.6792" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="261.9271" x="8042.04" y="4426.482"/><ellipse cx="8140.1027" cy="4442.482" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M8139.5714,4449.4039 Q8137.8214,4449.4039 8136.6808,4448.6695 Q8135.5558,4447.9195 8134.9933,4446.5757 Q8134.4464,4445.2164 8134.4464,4443.4195 Q8134.4464,4441.3882 8135.1027,4439.9351 Q8135.7589,4438.482 8137.0402,4437.7007 Q8138.3214,4436.9195 8140.1964,4436.9195 Q8141.087,4436.9195 8141.7589,4437.107 Q8142.4308,4437.2789 8143.1183,4437.6226 L8142.3058,4439.6382 Q8141.6808,4439.3257 8141.1339,4439.2007 Q8140.6027,4439.0757 8140.1183,4439.0757 Q8138.9464,4439.0757 8138.2433,4439.607 Q8137.5402,4440.1382 8137.2433,4441.0914 Q8136.9464,4442.0445 8136.9464,4443.3101 Q8136.9464,4445.3257 8137.6652,4446.2945 Q8138.3839,4447.2476 8139.9777,4447.2476 Q8140.5714,4447.2476 8141.1964,4447.0914 Q8141.8214,4446.9351 8142.6495,4446.5601 L8142.6495,4448.7789 Q8141.9152,4449.0914 8141.1183,4449.2476 Q8140.337,4449.4039 8139.5714,4449.4039 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.3018" x="8160.6027" y="4447.914">UserInfo</text><line style="stroke:#181818;stroke-width:0.5;" x1="8043.04" x2="8302.9671" y1="4458.482" y2="4458.482"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="8050.04" y="4470.5159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.9276" x="8062.04" y="4477.4479">userId: int {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="8050.04" y="4489.5839"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.7316" x="8062.04" y="4496.5158">pseudo: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="8050.04" y="4508.6518"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.9094" x="8062.04" y="4515.5838">contacts: Set&lt;Integer&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="8043.04" x2="8302.9671" y1="4523.6857" y2="4523.6857"/><ellipse cx="8053.04" cy="4538.7197" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235.9271" x="8062.04" y="4542.6517">UserInfo(userId: int, pseudo: String)</text><ellipse cx="8053.04" cy="4557.7876" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.6436" x="8062.04" y="4561.7196">getUserId(): int</text><ellipse cx="8053.04" cy="4576.8555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.5515" x="8062.04" y="4580.7875">getPseudo(): String</text><ellipse cx="8053.04" cy="4595.9234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.7872" x="8062.04" y="4599.8554">setPseudo(pseudo: String): void</text><ellipse cx="8053.04" cy="4614.9914" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.9112" x="8062.04" y="4618.9233">addContact(contactId: int): void</text><ellipse cx="8053.04" cy="4634.0593" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231.0831" x="8062.04" y="4637.9913">removeContact(contactId: int): void</text><ellipse cx="8053.04" cy="4653.1272" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.9973" x="8062.04" y="4657.0592">getContacts(): Set&lt;Integer&gt;</text></g><!--class User--><g class="entity" data-entity="User" data-source-line="553" data-uid="ent0140" id="entity_User"><rect fill="#F1F1F1" height="238.6792" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="426.8465" x="957.58" y="848.582"/><ellipse cx="1151.4443" cy="864.582" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1150.9131,871.5039 Q1149.1631,871.5039 1148.0224,870.7695 Q1146.8974,870.0195 1146.3349,868.6757 Q1145.7881,867.3164 1145.7881,865.5195 Q1145.7881,863.4882 1146.4443,862.0351 Q1147.1006,860.582 1148.3818,859.8007 Q1149.6631,859.0195 1151.5381,859.0195 Q1152.4287,859.0195 1153.1006,859.207 Q1153.7724,859.3789 1154.4599,859.7226 L1153.6474,861.7382 Q1153.0224,861.4257 1152.4756,861.3007 Q1151.9443,861.1757 1151.4599,861.1757 Q1150.2881,861.1757 1149.5849,861.707 Q1148.8818,862.2382 1148.5849,863.1914 Q1148.2881,864.1445 1148.2881,865.4101 Q1148.2881,867.4257 1149.0068,868.3945 Q1149.7256,869.3476 1151.3193,869.3476 Q1151.9131,869.3476 1152.5381,869.1914 Q1153.1631,869.0351 1153.9912,868.6601 L1153.9912,870.8789 Q1153.2568,871.1914 1152.4599,871.3476 Q1151.6787,871.5039 1150.9131,871.5039 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.6179" x="1171.9443" y="870.014">User</text><line style="stroke:#181818;stroke-width:0.5;" x1="958.58" x2="1383.4265" y1="880.582" y2="880.582"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="965.58" y="892.6159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.9276" x="977.58" y="899.5479">userId: int {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="965.58" y="911.6839"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.7316" x="977.58" y="918.6158">pseudo: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="965.58" y="930.7518"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.2875" x="977.58" y="937.6838">publicKey: PublicKey</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="965.58" y="949.8197"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.4954" x="977.58" y="956.7517">privateKey: PrivateKey</text><line style="stroke:#181818;stroke-width:1;" x1="958.58" x2="1383.4265" y1="964.8536" y2="964.8536"/><ellipse cx="968.58" cy="979.8876" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209.2432" x="977.58" y="983.8196">User(userId: int, pseudo: String)</text><ellipse cx="968.58" cy="998.9555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.6436" x="977.58" y="1002.8875">getUserId(): int</text><ellipse cx="968.58" cy="1018.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.5515" x="977.58" y="1021.9554">getPseudo(): String</text><ellipse cx="968.58" cy="1037.0914" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.7872" x="977.58" y="1041.0233">setPseudo(pseudo: String): void</text><ellipse cx="968.58" cy="1056.1593" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.1073" x="977.58" y="1060.0913">getPublicKey(): PublicKey</text><ellipse cx="968.58" cy="1075.2272" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="400.8465" x="977.58" y="1079.1592">setKeyPair(publicKey: PublicKey, privateKey: PrivateKey): void</text></g><!--class Contact--><g class="entity" data-entity="Contact" data-source-line="568" data-uid="ent0141" id="entity_Contact"><rect fill="#F1F1F1" height="257.7471" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="274.7651" x="21.62" y="1204.472"/><ellipse cx="129.4266" cy="1220.472" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M128.8954,1227.3939 Q127.1454,1227.3939 126.0048,1226.6595 Q124.8798,1225.9095 124.3173,1224.5657 Q123.7704,1223.2064 123.7704,1221.4095 Q123.7704,1219.3782 124.4266,1217.9251 Q125.0829,1216.472 126.3641,1215.6907 Q127.6454,1214.9095 129.5204,1214.9095 Q130.411,1214.9095 131.0829,1215.097 Q131.7548,1215.2689 132.4423,1215.6126 L131.6298,1217.6282 Q131.0048,1217.3157 130.4579,1217.1907 Q129.9266,1217.0657 129.4423,1217.0657 Q128.2704,1217.0657 127.5673,1217.597 Q126.8641,1218.1282 126.5673,1219.0814 Q126.2704,1220.0345 126.2704,1221.3001 Q126.2704,1223.3157 126.9891,1224.2845 Q127.7079,1225.2376 129.3016,1225.2376 Q129.8954,1225.2376 130.5204,1225.0814 Q131.1454,1224.9251 131.9735,1224.5501 L131.9735,1226.7689 Q131.2391,1227.0814 130.4423,1227.2376 Q129.661,1227.3939 128.8954,1227.3939 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.6518" x="149.9266" y="1225.904">Contact</text><line style="stroke:#181818;stroke-width:0.5;" x1="22.62" x2="295.3851" y1="1236.472" y2="1236.472"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.62" y="1248.5059"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.4155" x="41.62" y="1255.4379">contactId: int {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.62" y="1267.5739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.7316" x="41.62" y="1274.5058">pseudo: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.62" y="1286.6418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.2875" x="41.62" y="1293.5738">publicKey: PublicKey</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.62" y="1305.7097"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.4656" x="41.62" y="1312.6417">lastSeen: Instant</text><line style="stroke:#181818;stroke-width:1;" x1="22.62" x2="295.3851" y1="1320.7436" y2="1320.7436"/><ellipse cx="32.62" cy="1335.7776" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248.7651" x="41.62" y="1339.7096">Contact(contactId: int, pseudo: String)</text><ellipse cx="32.62" cy="1354.8455" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.6776" x="41.62" y="1358.7775">getContactId(): int</text><ellipse cx="32.62" cy="1373.9134" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.5515" x="41.62" y="1377.8454">getPseudo(): String</text><ellipse cx="32.62" cy="1392.9814" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234.8071" x="41.62" y="1396.9133">updatePseudo(pseudo: String): void</text><ellipse cx="32.62" cy="1412.0493" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3514" x="41.62" y="1415.9813">updateLastSeen(): void</text><ellipse cx="32.62" cy="1431.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.1073" x="41.62" y="1435.0492">getPublicKey(): PublicKey</text><ellipse cx="32.62" cy="1450.1851" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219.9111" x="41.62" y="1454.1171">setPublicKey(key: PublicKey): void</text></g><!--class Group--><g class="entity" data-entity="Group" data-source-line="584" data-uid="ent0142" id="entity_Group"><rect fill="#F1F1F1" height="314.9508" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="333.2429" x="331.38" y="1175.862"/><ellipse cx="472.8985" cy="1191.862" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M472.3673,1198.7839 Q470.6173,1198.7839 469.4766,1198.0495 Q468.3516,1197.2995 467.7891,1195.9557 Q467.2423,1194.5964 467.2423,1192.7995 Q467.2423,1190.7682 467.8985,1189.3151 Q468.5548,1187.862 469.836,1187.0807 Q471.1173,1186.2995 472.9923,1186.2995 Q473.8829,1186.2995 474.5548,1186.487 Q475.2266,1186.6589 475.9141,1187.0026 L475.1016,1189.0182 Q474.4766,1188.7057 473.9298,1188.5807 Q473.3985,1188.4557 472.9141,1188.4557 Q471.7423,1188.4557 471.0391,1188.987 Q470.336,1189.5182 470.0391,1190.4714 Q469.7423,1191.4245 469.7423,1192.6901 Q469.7423,1194.7057 470.461,1195.6745 Q471.1798,1196.6276 472.7735,1196.6276 Q473.3673,1196.6276 473.9923,1196.4714 Q474.6173,1196.3151 475.4454,1195.9401 L475.4454,1198.1589 Q474.711,1198.4714 473.9141,1198.6276 Q473.1329,1198.7839 472.3673,1198.7839 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.7058" x="493.3985" y="1197.294">Group</text><line style="stroke:#181818;stroke-width:0.5;" x1="332.38" x2="663.6229" y1="1207.862" y2="1207.862"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="339.38" y="1219.8959"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.0155" x="351.38" y="1226.8279">groupId: int {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="339.38" y="1238.9639"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2797" x="351.38" y="1245.8958">name: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="339.38" y="1258.0318"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.7095" x="351.38" y="1264.9638">adminId: int {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="339.38" y="1277.0997"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.7494" x="351.38" y="1284.0317">members: Set&lt;Integer&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="332.38" x2="663.6229" y1="1292.1336" y2="1292.1336"/><ellipse cx="342.38" cy="1307.1676" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="307.2429" x="351.38" y="1311.0996">Group(groupId: int, name: String, adminId: int)</text><ellipse cx="342.38" cy="1326.2355" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.7316" x="351.38" y="1330.1675">getGroupId(): int</text><ellipse cx="342.38" cy="1345.3034" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2276" x="351.38" y="1349.2354">getName(): String</text><ellipse cx="342.38" cy="1364.3714" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.0113" x="351.38" y="1368.3033">setName(name: String): void</text><ellipse cx="342.38" cy="1383.4393" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.9356" x="351.38" y="1387.3713">getAdminId(): int</text><ellipse cx="342.38" cy="1402.5072" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.3173" x="351.38" y="1406.4392">getMembers(): Set&lt;Integer&gt;</text><ellipse cx="342.38" cy="1421.5751" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219.0712" x="351.38" y="1425.5071">addMember(memberId: int): void</text><ellipse cx="342.38" cy="1440.643" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244.2431" x="351.38" y="1444.575">removeMember(memberId: int): void</text><ellipse cx="342.38" cy="1459.7109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.6853" x="351.38" y="1463.6429">isAdmin(userId: int): boolean</text><ellipse cx="342.38" cy="1478.7789" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202.7472" x="351.38" y="1482.7108">isMember(userId: int): boolean</text></g><!--class Message--><g class="entity" data-entity="Message" data-source-line="603" data-uid="ent0143" id="entity_Message"><rect fill="#F1F1F1" height="505.63" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="426.2306" x="741.88" y="1550.812"/><ellipse cx="921.5624" cy="1566.812" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M921.0311,1573.7339 Q919.2811,1573.7339 918.1405,1572.9995 Q917.0155,1572.2495 916.453,1570.9057 Q915.9061,1569.5464 915.9061,1567.7495 Q915.9061,1565.7182 916.5624,1564.2651 Q917.2186,1562.812 918.4999,1562.0307 Q919.7811,1561.2495 921.6561,1561.2495 Q922.5468,1561.2495 923.2186,1561.437 Q923.8905,1561.6089 924.578,1561.9526 L923.7655,1563.9682 Q923.1405,1563.6557 922.5936,1563.5307 Q922.0624,1563.4057 921.578,1563.4057 Q920.4061,1563.4057 919.703,1563.937 Q918.9999,1564.4682 918.703,1565.4214 Q918.4061,1566.3745 918.4061,1567.6401 Q918.4061,1569.6557 919.1249,1570.6245 Q919.8436,1571.5776 921.4374,1571.5776 Q922.0311,1571.5776 922.6561,1571.4214 Q923.2811,1571.2651 924.1093,1570.8901 L924.1093,1573.1089 Q923.3749,1573.4214 922.578,1573.5776 Q921.7968,1573.7339 921.0311,1573.7339 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3658" x="942.0624" y="1572.244">Message</text><line style="stroke:#181818;stroke-width:0.5;" x1="742.88" x2="1167.1106" y1="1582.812" y2="1582.812"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="749.88" y="1594.8459"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.7274" x="761.88" y="1601.7779">messageId: String {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="749.88" y="1613.9139"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.8678" x="761.88" y="1620.8458">from: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="749.88" y="1632.9818"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.2339" x="761.88" y="1639.9138">to: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="749.88" y="1652.0497"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.2856" x="761.88" y="1658.9817">content: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="749.88" y="1671.1176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.9014" x="761.88" y="1678.0496">timestamp: Instant {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="749.88" y="1690.1855"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.3416" x="761.88" y="1697.1175">isRead: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="749.88" y="1709.2534"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.4376" x="761.88" y="1716.1854">replyToId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="749.88" y="1728.3214"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245.3911" x="761.88" y="1735.2533">reactions: Map&lt;String, Set&lt;Integer&gt;&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="749.88" y="1747.3893"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.0954" x="761.88" y="1754.3213">mediaAttachment: Media</text><line style="stroke:#181818;stroke-width:1;" x1="742.88" x2="1167.1106" y1="1762.4232" y2="1762.4232"/><ellipse cx="752.88" cy="1777.4572" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="400.2306" x="761.88" y="1781.3892">Message(messageId: String, from: int, to: int, content: String)</text><ellipse cx="752.88" cy="1796.5251" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.4695" x="761.88" y="1800.4571">getMessageId(): String</text><ellipse cx="752.88" cy="1815.593" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.2777" x="761.88" y="1819.525">getFrom(): int</text><ellipse cx="752.88" cy="1834.6609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.9237" x="761.88" y="1838.5929">getTo(): int</text><ellipse cx="752.88" cy="1853.7289" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.3735" x="761.88" y="1857.6608">getContent(): String</text><ellipse cx="752.88" cy="1872.7968" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.7654" x="761.88" y="1876.7288">getTimestamp(): Instant</text><ellipse cx="752.88" cy="1891.8647" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.5175" x="761.88" y="1895.7967">markAsRead(): void</text><ellipse cx="752.88" cy="1910.9326" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.7416" x="761.88" y="1914.8646">isRead(): boolean</text><ellipse cx="752.88" cy="1930.0005" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234.3731" x="761.88" y="1933.9325">setReplyTo(messageId: String): void</text><ellipse cx="752.88" cy="1949.0684" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.3235" x="761.88" y="1953.0004">getReplyToId(): String</text><ellipse cx="752.88" cy="1968.1364" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="283.5969" x="761.88" y="1972.0683">addReaction(emoji: String, userId: int): void</text><ellipse cx="752.88" cy="1987.2043" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="308.7688" x="761.88" y="1991.1363">removeReaction(emoji: String, userId: int): void</text><ellipse cx="752.88" cy="2006.2722" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="278.2769" x="761.88" y="2010.2042">getReactions(): Map&lt;String, Set&lt;Integer&gt;&gt;</text><ellipse cx="752.88" cy="2025.3401" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="270.017" x="761.88" y="2029.2721">setMediaAttachment(media: Media): void</text><ellipse cx="752.88" cy="2044.408" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.6633" x="761.88" y="2048.34">getMediaAttachment(): Media</text></g><!--class Media--><g class="entity" data-entity="Media" data-source-line="632" data-uid="ent0144" id="entity_Media"><rect fill="#F1F1F1" height="143.3396" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174.8474" x="867.58" y="2116.442"/><ellipse cx="931.5388" cy="2132.442" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M927.57,2138.942 L927.57,2137.2389 L929.9294,2136.9732 L929.9294,2128.7701 L927.57,2128.5045 L927.57,2126.8014 L934.7107,2126.8014 L934.7107,2128.5045 L932.2888,2128.7701 L932.2888,2136.9732 L934.7107,2137.2389 L934.7107,2138.942 L927.57,2138.942 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="38.4299" x="952.0388" y="2137.874">Media</text><line style="stroke:#181818;stroke-width:0.5;" x1="868.58" x2="1041.4274" y1="2148.442" y2="2148.442"/><line style="stroke:#181818;stroke-width:0.5;" x1="868.58" x2="1041.4274" y1="2156.442" y2="2156.442"/><ellipse cx="878.58" cy="2171.4759" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7735" x="887.58" y="2175.4079">getMediaId(): String</text><ellipse cx="878.58" cy="2190.5439" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.8474" x="887.58" y="2194.4758">getMediaType(): String</text><ellipse cx="878.58" cy="2209.6118" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.7814" x="887.58" y="2213.5438">getThumbnail(): byte[]</text><ellipse cx="878.58" cy="2228.6797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.8895" x="887.58" y="2232.6117">getContent(): byte[]</text><ellipse cx="878.58" cy="2247.7476" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.4495" x="887.58" y="2251.6796">isLoaded(): boolean</text></g><g class="entity" data-entity="GMN145" data-source-line="640" data-uid="ent0146" id="entity_GMN145"><path d="M1077.11,2165.412 L1077.11,2184.072 L1042.79,2188.072 L1077.11,2192.072 L1077.11,2210.824 A0,0 0 0 0 1077.11,2210.824 L1246.8951,2210.824 A0,0 0 0 0 1246.8951,2210.824 L1246.8951,2175.412 L1236.8951,2165.412 L1077.11,2165.412 A0,0 0 0 0 1077.11,2165.412" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1236.8951,2165.412 L1236.8951,2175.412 L1246.8951,2175.412 L1236.8951,2165.412" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="93.1451" x="1083.11" y="2184.309">Pattern: Proxy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.7851" x="1083.11" y="2202.015">Lazy loading des m&#233;dias</text></g><!--class RealMedia--><g class="entity" data-entity="RealMedia" data-source-line="644" data-uid="ent0148" id="entity_RealMedia"><rect fill="#F1F1F1" height="238.6792" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="434.2105" x="737.89" y="2828.212"/><ellipse cx="916.3754" cy="2844.212" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M915.8441,2851.1339 Q914.0941,2851.1339 912.9535,2850.3995 Q911.8285,2849.6495 911.266,2848.3057 Q910.7191,2846.9464 910.7191,2845.1495 Q910.7191,2843.1182 911.3754,2841.6651 Q912.0316,2840.212 913.3129,2839.4307 Q914.5941,2838.6495 916.4691,2838.6495 Q917.3597,2838.6495 918.0316,2838.837 Q918.7035,2839.0089 919.391,2839.3526 L918.5785,2841.3682 Q917.9535,2841.0557 917.4066,2840.9307 Q916.8754,2840.8057 916.391,2840.8057 Q915.2191,2840.8057 914.516,2841.337 Q913.8129,2841.8682 913.516,2842.8214 Q913.2191,2843.7745 913.2191,2845.0401 Q913.2191,2847.0557 913.9379,2848.0245 Q914.6566,2848.9776 916.2504,2848.9776 Q916.8441,2848.9776 917.4691,2848.8214 Q918.0941,2848.6651 918.9222,2848.2901 L918.9222,2850.5089 Q918.1879,2850.8214 917.391,2850.9776 Q916.6097,2851.1339 915.8441,2851.1339 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.7397" x="936.8754" y="2849.644">RealMedia</text><line style="stroke:#181818;stroke-width:0.5;" x1="738.89" x2="1171.1005" y1="2860.212" y2="2860.212"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="745.89" y="2872.2459"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.2056" x="757.89" y="2879.1779">mediaId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="745.89" y="2891.3139"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.2795" x="757.89" y="2898.2458">mediaType: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="745.89" y="2910.3818"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.0916" x="757.89" y="2917.3138">thumbnail: byte[]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="745.89" y="2929.4497"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.8016" x="757.89" y="2936.3817">content: byte[]</text><line style="stroke:#181818;stroke-width:1;" x1="738.89" x2="1171.1005" y1="2944.4836" y2="2944.4836"/><ellipse cx="748.89" cy="2959.5176" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="408.2105" x="757.89" y="2963.4496">RealMedia(mediaId: String, mediaType: String, content: byte[])</text><ellipse cx="748.89" cy="2978.5855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7735" x="757.89" y="2982.5175">getMediaId(): String</text><ellipse cx="748.89" cy="2997.6534" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.8474" x="757.89" y="3001.5854">getMediaType(): String</text><ellipse cx="748.89" cy="3016.7214" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.7814" x="757.89" y="3020.6533">getThumbnail(): byte[]</text><ellipse cx="748.89" cy="3035.7893" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.8895" x="757.89" y="3039.7213">getContent(): byte[]</text><ellipse cx="748.89" cy="3054.8572" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.4495" x="757.89" y="3058.7892">isLoaded(): boolean</text></g><!--class MediaProxy--><g class="entity" data-entity="MediaProxy" data-source-line="658" data-uid="ent0150" id="entity_MediaProxy"><rect fill="#F1F1F1" height="276.815" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="548.702" x="835.65" y="2319.782"/><ellipse cx="1066.7822" cy="2335.782" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1066.2509,2342.7039 Q1064.5009,2342.7039 1063.3603,2341.9695 Q1062.2353,2341.2195 1061.6728,2339.8757 Q1061.1259,2338.5164 1061.1259,2336.7195 Q1061.1259,2334.6882 1061.7822,2333.2351 Q1062.4384,2331.782 1063.7197,2331.0007 Q1065.0009,2330.2195 1066.8759,2330.2195 Q1067.7665,2330.2195 1068.4384,2330.407 Q1069.1103,2330.5789 1069.7978,2330.9226 L1068.9853,2332.9382 Q1068.3603,2332.6257 1067.8134,2332.5007 Q1067.2822,2332.3757 1066.7978,2332.3757 Q1065.6259,2332.3757 1064.9228,2332.907 Q1064.2197,2333.4382 1063.9228,2334.3914 Q1063.6259,2335.3445 1063.6259,2336.6101 Q1063.6259,2338.6257 1064.3447,2339.5945 Q1065.0634,2340.5476 1066.6572,2340.5476 Q1067.2509,2340.5476 1067.8759,2340.3914 Q1068.5009,2340.2351 1069.329,2339.8601 L1069.329,2342.0789 Q1068.5947,2342.3914 1067.7978,2342.5476 Q1067.0165,2342.7039 1066.2509,2342.7039 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.9377" x="1087.2822" y="2341.214">MediaProxy</text><line style="stroke:#181818;stroke-width:0.5;" x1="836.65" x2="1383.352" y1="2351.782" y2="2351.782"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="843.65" y="2363.8159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.2056" x="855.65" y="2370.7479">mediaId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="843.65" y="2382.8839"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.2795" x="855.65" y="2389.8158">mediaType: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="843.65" y="2401.9518"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.0916" x="855.65" y="2408.8838">thumbnail: byte[]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="843.65" y="2421.0197"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.9454" x="855.65" y="2427.9517">realMedia: RealMedia</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="843.65" y="2440.0876"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.6117" x="855.65" y="2447.0196">client: Client</text><line style="stroke:#181818;stroke-width:1;" x1="836.65" x2="1383.352" y1="2455.1216" y2="2455.1216"/><ellipse cx="846.65" cy="2470.1555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="522.702" x="855.65" y="2474.0875">MediaProxy(mediaId: String, mediaType: String, thumbnail: byte[], client: Client)</text><ellipse cx="846.65" cy="2489.2234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7735" x="855.65" y="2493.1554">getMediaId(): String</text><ellipse cx="846.65" cy="2508.2914" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.8474" x="855.65" y="2512.2233">getMediaType(): String</text><ellipse cx="846.65" cy="2527.3593" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.7814" x="855.65" y="2531.2913">getThumbnail(): byte[]</text><ellipse cx="846.65" cy="2546.4272" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.8895" x="855.65" y="2550.3592">getContent(): byte[]</text><ellipse cx="846.65" cy="2565.4951" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.4495" x="855.65" y="2569.4271">isLoaded(): boolean</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="843.65" y="2581.563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.8116" x="855.65" y="2588.495">loadMedia(): void</text></g><!--class Client--><g class="entity" data-entity="Client" data-source-line="675" data-uid="ent0153" id="entity_Client"><rect fill="#F1F1F1" height="334.0188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="400.4006" x="2326.8" y="2780.542"/><ellipse cx="2503.9134" cy="2796.542" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2503.3821,2803.4639 Q2501.6321,2803.4639 2500.4915,2802.7295 Q2499.3665,2801.9795 2498.804,2800.6357 Q2498.2571,2799.2764 2498.2571,2797.4795 Q2498.2571,2795.4482 2498.9134,2793.9951 Q2499.5696,2792.542 2500.8509,2791.7607 Q2502.1321,2790.9795 2504.0071,2790.9795 Q2504.8977,2790.9795 2505.5696,2791.167 Q2506.2415,2791.3389 2506.929,2791.6826 L2506.1165,2793.6982 Q2505.4915,2793.3857 2504.9446,2793.2607 Q2504.4134,2793.1357 2503.929,2793.1357 Q2502.7571,2793.1357 2502.054,2793.667 Q2501.3509,2794.1982 2501.054,2795.1514 Q2500.7571,2796.1045 2500.7571,2797.3701 Q2500.7571,2799.3857 2501.4759,2800.3545 Q2502.1946,2801.3076 2503.7884,2801.3076 Q2504.3821,2801.3076 2505.0071,2801.1514 Q2505.6321,2800.9951 2506.4602,2800.6201 L2506.4602,2802.8389 Q2505.7259,2803.1514 2504.929,2803.3076 Q2504.1477,2803.4639 2503.3821,2803.4639 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.6738" x="2524.4134" y="2801.974">Client</text><line style="stroke:#181818;stroke-width:0.5;" x1="2327.8" x2="2726.2006" y1="2812.542" y2="2812.542"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2334.8" y="2824.5759"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.6117" x="2346.8" y="2831.5079">clientId: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2334.8" y="2843.6439"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.4717" x="2346.8" y="2850.5758">cnx: Socket</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2334.8" y="2862.7118"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.0053" x="2346.8" y="2869.6438">processor: PacketProcessor</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2334.8" y="2881.7797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="286.3829" x="2346.8" y="2888.7117">messageIdGenerator: MessageIdGenerator</text><line style="stroke:#181818;stroke-width:1;" x1="2327.8" x2="2726.2006" y1="2896.8136" y2="2896.8136"/><ellipse cx="2337.8" cy="2911.8476" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.0738" x="2346.8" y="2915.7796">Client()</text><ellipse cx="2337.8" cy="2930.9155" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.6855" x="2346.8" y="2934.8475">Client(clientId: int)</text><ellipse cx="2337.8" cy="2949.9834" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257.207" x="2346.8" y="2953.9154">connect(host: String, port: int): boolean</text><ellipse cx="2337.8" cy="2969.0514" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.6875" x="2346.8" y="2972.9833">disconnect(): void</text><ellipse cx="2337.8" cy="2988.1193" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216.6912" x="2346.8" y="2992.0513">sendPacket(pkt: Packet): boolean</text><ellipse cx="2337.8" cy="3007.1872" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="374.4006" x="2346.8" y="3011.1192">setMessageIdGenerator(gen: MessageIdGenerator): void</text><ellipse cx="2337.8" cy="3026.2551" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="296.1969" x="2346.8" y="3030.1871">setPacketProcessor(p: PacketProcessor): void</text><ellipse cx="2337.8" cy="3045.323" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.4714" x="2346.8" y="3049.255">isConnected(): boolean</text><ellipse cx="2337.8" cy="3064.3909" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.6996" x="2346.8" y="3068.3229">getClientId(): int</text><ellipse cx="2337.8" cy="3083.4589" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246.1751" x="2346.8" y="3087.3908">requestMedia(mediaId: String): byte[]</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2334.8" y="3099.5268"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="268.407" x="2346.8" y="3106.4588">processReceivedPacket(pkt: Packet): void</text></g><!--class Conversation--><g class="entity" data-entity="Conversation" data-source-line="679" data-uid="ent0156" id="entity_Conversation"><rect fill="#F1F1F1" height="257.7471" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="510.5103" x="699.74" y="1204.472"/><ellipse cx="907.1913" cy="1220.472" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M906.6601,1227.3939 Q904.9101,1227.3939 903.7694,1226.6595 Q902.6444,1225.9095 902.0819,1224.5657 Q901.5351,1223.2064 901.5351,1221.4095 Q901.5351,1219.3782 902.1913,1217.9251 Q902.8476,1216.472 904.1288,1215.6907 Q905.4101,1214.9095 907.2851,1214.9095 Q908.1757,1214.9095 908.8476,1215.097 Q909.5194,1215.2689 910.2069,1215.6126 L909.3944,1217.6282 Q908.7694,1217.3157 908.2226,1217.1907 Q907.6913,1217.0657 907.2069,1217.0657 Q906.0351,1217.0657 905.3319,1217.597 Q904.6288,1218.1282 904.3319,1219.0814 Q904.0351,1220.0345 904.0351,1221.3001 Q904.0351,1223.3157 904.7538,1224.2845 Q905.4726,1225.2376 907.0663,1225.2376 Q907.6601,1225.2376 908.2851,1225.0814 Q908.9101,1224.9251 909.7382,1224.5501 L909.7382,1226.7689 Q909.0038,1227.0814 908.2069,1227.2376 Q907.4257,1227.3939 906.6601,1227.3939 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1077" x="927.6913" y="1225.904">Conversation</text><line style="stroke:#181818;stroke-width:0.5;" x1="700.74" x2="1209.2503" y1="1236.472" y2="1236.472"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="707.74" y="1248.5059"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165.8714" x="719.74" y="1255.4379">conversationId: int {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="707.74" y="1267.5739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223.1872" x="719.74" y="1274.5058">messages: Map&lt;String, Message&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="707.74" y="1286.6418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183.2733" x="719.74" y="1293.5738">messageOrder: List&lt;String&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="707.74" y="1305.7097"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.9796" x="719.74" y="1312.6417">isGroup: boolean</text><line style="stroke:#181818;stroke-width:1;" x1="700.74" x2="1209.2503" y1="1320.7436" y2="1320.7436"/><ellipse cx="710.74" cy="1335.7776" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="338.9248" x="719.74" y="1339.7096">Conversation(conversationId: int, isGroup: boolean)</text><ellipse cx="710.74" cy="1354.8455" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221.1992" x="719.74" y="1358.7775">addMessage(msg: Message): void</text><ellipse cx="710.74" cy="1373.9134" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="272.985" x="719.74" y="1377.8454">getMessage(messageId: String): Message</text><ellipse cx="710.74" cy="1392.9814" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.5132" x="719.74" y="1396.9133">getMessages(): List&lt;Message&gt;</text><ellipse cx="710.74" cy="1412.0493" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.3734" x="719.74" y="1415.9813">getUnreadCount(): int</text><ellipse cx="710.74" cy="1431.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.6875" x="719.74" y="1435.0492">markAllAsRead(): void</text><ellipse cx="710.74" cy="1450.1851" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="484.5103" x="719.74" y="1454.1171">addReactionToMessage(messageId: String, emoji: String, userId: int): void</text></g><!--class ContactRepository--><g class="entity" data-entity="ContactRepository" data-source-line="695" data-uid="ent0157" id="entity_ContactRepository"><rect fill="#F1F1F1" height="181.4754" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="240.4792" x="21.76" y="877.182"/><ellipse cx="77.1998" cy="893.182" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M76.6686,900.1039 Q74.9186,900.1039 73.7779,899.3695 Q72.6529,898.6195 72.0904,897.2757 Q71.5436,895.9164 71.5436,894.1195 Q71.5436,892.0882 72.1998,890.6351 Q72.8561,889.182 74.1373,888.4007 Q75.4186,887.6195 77.2936,887.6195 Q78.1842,887.6195 78.8561,887.807 Q79.5279,887.9789 80.2154,888.3226 L79.4029,890.3382 Q78.7779,890.0257 78.2311,889.9007 Q77.6998,889.7757 77.2154,889.7757 Q76.0436,889.7757 75.3404,890.307 Q74.6373,890.8382 74.3404,891.7914 Q74.0436,892.7445 74.0436,894.0101 Q74.0436,896.0257 74.7623,896.9945 Q75.4811,897.9476 77.0748,897.9476 Q77.6686,897.9476 78.2936,897.7914 Q78.9186,897.6351 79.7467,897.2601 L79.7467,899.4789 Q79.0123,899.7914 78.2154,899.9476 Q77.4342,900.1039 76.6686,900.1039 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.0995" x="97.6998" y="898.614">ContactRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="22.76" x2="261.2392" y1="909.182" y2="909.182"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.76" y="921.2159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214.4792" x="41.76" y="928.1479">contacts: Map&lt;Integer, Contact&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="22.76" x2="261.2392" y1="936.2499" y2="936.2499"/><ellipse cx="32.76" cy="951.2839" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2373" x="41.76" y="955.2158">add(contact: Contact): void</text><ellipse cx="32.76" cy="970.3518" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196.8392" x="41.76" y="974.2838">update(contact: Contact): void</text><ellipse cx="32.76" cy="989.4197" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191.1273" x="41.76" y="993.3517">delete(contact: Contact): void</text><ellipse cx="32.76" cy="1008.4876" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.5953" x="41.76" y="1012.4196">deleteById(id: Object): void</text><ellipse cx="32.76" cy="1027.5555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184.1693" x="41.76" y="1031.4875">findById(id: Object): Contact</text><ellipse cx="32.76" cy="1046.6234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.0274" x="41.76" y="1050.5554">findAll(): List&lt;Contact&gt;</text></g><!--class Repository--><g class="entity" data-entity="Repository" data-source-line="696" data-uid="ent0158" id="entity_Repository"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.2958" x="360.35" y="378.292"/><ellipse cx="375.35" cy="394.292" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M371.3813,400.792 L371.3813,399.0889 L373.7406,398.8232 L373.7406,390.6201 L371.3813,390.3545 L371.3813,388.6514 L378.5219,388.6514 L378.5219,390.3545 L376.1,390.6201 L376.1,398.8232 L378.5219,399.0889 L378.5219,400.792 L371.3813,400.792 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="65.2958" x="389.35" y="399.724">Repository</text><line style="stroke:#181818;stroke-width:0.5;" x1="361.35" x2="456.6458" y1="410.292" y2="410.292"/><line style="stroke:#181818;stroke-width:0.5;" x1="361.35" x2="456.6458" y1="418.292" y2="418.292"/></g><!--class GroupRepository--><g class="entity" data-entity="GroupRepository" data-source-line="706" data-uid="ent0160" id="entity_GroupRepository"><rect fill="#F1F1F1" height="181.4754" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="223.1333" x="297.43" y="877.182"/><ellipse cx="348.6698" cy="893.182" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M348.1386,900.1039 Q346.3886,900.1039 345.248,899.3695 Q344.123,898.6195 343.5605,897.2757 Q343.0136,895.9164 343.0136,894.1195 Q343.0136,892.0882 343.6698,890.6351 Q344.3261,889.182 345.6073,888.4007 Q346.8886,887.6195 348.7636,887.6195 Q349.6542,887.6195 350.3261,887.807 Q350.998,887.9789 351.6855,888.3226 L350.873,890.3382 Q350.248,890.0257 349.7011,889.9007 Q349.1698,889.7757 348.6855,889.7757 Q347.5136,889.7757 346.8105,890.307 Q346.1073,890.8382 345.8105,891.7914 Q345.5136,892.7445 345.5136,894.0101 Q345.5136,896.0257 346.2323,896.9945 Q346.9511,897.9476 348.5448,897.9476 Q349.1386,897.9476 349.7636,897.7914 Q350.3886,897.6351 351.2167,897.2601 L351.2167,899.4789 Q350.4823,899.7914 349.6855,899.9476 Q348.9042,900.1039 348.1386,900.1039 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.1536" x="369.1698" y="898.614">GroupRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="298.43" x2="519.5633" y1="909.182" y2="909.182"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="305.43" y="921.2159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197.1333" x="317.43" y="928.1479">groups: Map&lt;Integer, Group&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="298.43" x2="519.5633" y1="936.2499" y2="936.2499"/><ellipse cx="308.43" cy="951.2839" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.8914" x="317.43" y="955.2158">add(group: Group): void</text><ellipse cx="308.43" cy="970.3518" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.4933" x="317.43" y="974.2838">update(group: Group): void</text><ellipse cx="308.43" cy="989.4197" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.7813" x="317.43" y="993.3517">delete(group: Group): void</text><ellipse cx="308.43" cy="1008.4876" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.5953" x="317.43" y="1012.4196">deleteById(id: Object): void</text><ellipse cx="308.43" cy="1027.5555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2233" x="317.43" y="1031.4875">findById(id: Object): Group</text><ellipse cx="308.43" cy="1046.6234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.0815" x="317.43" y="1050.5554">findAll(): List&lt;Group&gt;</text></g><!--class ConversationRepository--><g class="entity" data-entity="ConversationRepository" data-source-line="717" data-uid="ent0162" id="entity_ConversationRepository"><rect fill="#F1F1F1" height="200.5433" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="367.8087" x="555.1" y="867.652"/><ellipse cx="655.9767" cy="883.652" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M655.4454,890.5739 Q653.6954,890.5739 652.5548,889.8395 Q651.4298,889.0895 650.8673,887.7457 Q650.3204,886.3864 650.3204,884.5895 Q650.3204,882.5582 650.9767,881.1051 Q651.6329,879.652 652.9142,878.8707 Q654.1954,878.0895 656.0704,878.0895 Q656.961,878.0895 657.6329,878.277 Q658.3048,878.4489 658.9923,878.7926 L658.1798,880.8082 Q657.5548,880.4957 657.0079,880.3707 Q656.4767,880.2457 655.9923,880.2457 Q654.8204,880.2457 654.1173,880.777 Q653.4142,881.3082 653.1173,882.2614 Q652.8204,883.2145 652.8204,884.4801 Q652.8204,886.4957 653.5392,887.4645 Q654.2579,888.4176 655.8517,888.4176 Q656.4454,888.4176 657.0704,888.2614 Q657.6954,888.1051 658.5235,887.7301 L658.5235,889.9489 Q657.7892,890.2614 656.9923,890.4176 Q656.211,890.5739 655.4454,890.5739 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.5554" x="676.4767" y="889.084">ConversationRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="556.1" x2="921.9087" y1="899.652" y2="899.652"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="563.1" y="911.6859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287.3909" x="575.1" y="918.6179">conversations: Map&lt;Integer, Conversation&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="556.1" x2="921.9087" y1="926.7199" y2="926.7199"/><ellipse cx="566.1" cy="941.7539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248.149" x="575.1" y="945.6858">add(conversation: Conversation): void</text><ellipse cx="566.1" cy="960.8218" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="269.751" x="575.1" y="964.7538">update(conversation: Conversation): void</text><ellipse cx="566.1" cy="979.8897" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264.039" x="575.1" y="983.8217">delete(conversation: Conversation): void</text><ellipse cx="566.1" cy="998.9576" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.5953" x="575.1" y="1002.8896">deleteById(id: Object): void</text><ellipse cx="566.1" cy="1018.0255" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220.6251" x="575.1" y="1021.9575">findById(id: Object): Conversation</text><ellipse cx="566.1" cy="1037.0934" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183.4833" x="575.1" y="1041.0254">findAll(): List&lt;Conversation&gt;</text><ellipse cx="566.1" cy="1056.1614" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="341.8087" x="575.1" y="1060.0933">getOrCreate(id: int, isGroup: boolean): Conversation</text></g><!--class EventBus--><g class="entity" data-entity="EventBus" data-source-line="730" data-uid="ent0164" id="entity_EventBus"><rect fill="#F1F1F1" height="295.8829" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="991.8424" x="1456.08" y="819.982"/><ellipse cx="1917.2733" cy="835.982" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1916.7421,842.9039 Q1914.9921,842.9039 1913.8515,842.1695 Q1912.7265,841.4195 1912.164,840.0757 Q1911.6171,838.7164 1911.6171,836.9195 Q1911.6171,834.8882 1912.2733,833.4351 Q1912.9296,831.982 1914.2108,831.2007 Q1915.4921,830.4195 1917.3671,830.4195 Q1918.2577,830.4195 1918.9296,830.607 Q1919.6015,830.7789 1920.289,831.1226 L1919.4765,833.1382 Q1918.8515,832.8257 1918.3046,832.7007 Q1917.7733,832.5757 1917.289,832.5757 Q1916.1171,832.5757 1915.414,833.107 Q1914.7108,833.6382 1914.414,834.5914 Q1914.1171,835.5445 1914.1171,836.8101 Q1914.1171,838.8257 1914.8358,839.7945 Q1915.5546,840.7476 1917.1483,840.7476 Q1917.7421,840.7476 1918.3671,840.5914 Q1918.9921,840.4351 1919.8202,840.0601 L1919.8202,842.2789 Q1919.0858,842.5914 1918.289,842.7476 Q1917.5077,842.9039 1916.7421,842.9039 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.9557" x="1937.7733" y="841.414">EventBus</text><line style="stroke:#181818;stroke-width:0.5;" x1="1457.08" x2="2446.9224" y1="851.982" y2="851.982"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1464.08" y="864.0159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="123.4935" x="1476.08" y="870.9479">instance: EventBus</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1464.08" y="883.0839"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="710.7634" x="1476.08" y="890.0158">subscriptions: ConcurrentHashMap&lt;Class&lt;? extends Event&gt;, CopyOnWriteArrayList&lt;EventSubscription&lt;?&gt;&gt;&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1464.08" y="902.1518"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.7353" x="1476.08" y="909.0838">executor: ExecutorService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1464.08" y="921.2197"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.0756" x="1476.08" y="928.1517">logger: Logger</text><line style="stroke:#181818;stroke-width:1;" x1="1457.08" x2="2446.9224" y1="936.2536" y2="936.2536"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1464.08" y="948.2876"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.3557" x="1476.08" y="955.2196">EventBus()</text><ellipse cx="1467.08" cy="970.3555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="154.5874" x="1476.08" y="974.2875">getInstance(): EventBus</text><ellipse cx="1467.08" cy="989.4234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="671.9974" x="1476.08" y="993.3554">&lt;T extends Event&gt; subscribe(eventType: Class&lt;T&gt;, observer: EventObserver&lt;T&gt;): EventSubscription&lt;T&gt;</text><ellipse cx="1467.08" cy="1008.4914" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="826.767" x="1476.08" y="1012.4233">&lt;T extends Event&gt; subscribe(eventType: Class&lt;T&gt;, observer: EventObserver&lt;T&gt;, mode: ExecutionMode): EventSubscription&lt;T&gt;</text><ellipse cx="1467.08" cy="1027.5593" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="965.8424" x="1476.08" y="1031.4913">&lt;T extends Event&gt; subscribe(eventType: Class&lt;T&gt;, observer: EventObserver&lt;T&gt;, filter: EventFilter&lt;T&gt;, mode: ExecutionMode): EventSubscription&lt;T&gt;</text><ellipse cx="1467.08" cy="1046.6272" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="478.6722" x="1476.08" y="1050.5592">&lt;T extends Event&gt; unsubscribe(subscription: EventSubscription&lt;T&gt;): void</text><ellipse cx="1467.08" cy="1065.6951" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="267.2729" x="1476.08" y="1069.6271">&lt;T extends Event&gt; publish(event: T): void</text><ellipse cx="1467.08" cy="1084.763" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.3956" x="1476.08" y="1088.695">shutdown(): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1464.08" y="1100.8309"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="555.7139" x="1476.08" y="1107.7629">&lt;T extends Event&gt; notifyObserver(subscription: EventSubscription&lt;T&gt;, event: T): void</text></g><g class="entity" data-entity="GMN165" data-source-line="747" data-uid="ent0166" id="entity_GMN165"><path d="M1771.75,1310.632 L1771.75,1356.044 A0,0 0 0 0 1771.75,1356.044 L2132.2583,1356.044 A0,0 0 0 0 2132.2583,1356.044 L2132.2583,1320.632 L2122.2583,1310.632 L1956,1310.632 L1952,1116.292 L1948,1310.632 L1771.75,1310.632 A0,0 0 0 0 1771.75,1310.632" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2122.2583,1310.632 L2122.2583,1320.632 L2132.2583,1320.632 L2122.2583,1310.632" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="339.5083" x="1777.75" y="1329.529">Pattern: Singleton + Observer + Publisher-Subscriber</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277.7453" x="1777.75" y="1347.235">Described in detail in clientEventSystem.puml</text></g><!--class ClientController--><g class="entity" data-entity="ClientController" data-source-line="751" data-uid="ent0168" id="entity_ClientController"><rect fill="#F1F1F1" height="715.3771" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="517.0062" x="1693.5" y="44.602"/><ellipse cx="1895.8273" cy="60.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1895.2961,67.5239 Q1893.5461,67.5239 1892.4054,66.7895 Q1891.2804,66.0395 1890.7179,64.6957 Q1890.1711,63.3364 1890.1711,61.5395 Q1890.1711,59.5082 1890.8273,58.0551 Q1891.4836,56.602 1892.7648,55.8207 Q1894.0461,55.0395 1895.9211,55.0395 Q1896.8117,55.0395 1897.4836,55.227 Q1898.1554,55.3989 1898.8429,55.7426 L1898.0304,57.7582 Q1897.4054,57.4457 1896.8586,57.3207 Q1896.3273,57.1957 1895.8429,57.1957 Q1894.6711,57.1957 1893.9679,57.727 Q1893.2648,58.2582 1892.9679,59.2114 Q1892.6711,60.1645 1892.6711,61.4301 Q1892.6711,63.4457 1893.3898,64.4145 Q1894.1086,65.3676 1895.7023,65.3676 Q1896.2961,65.3676 1896.9211,65.2114 Q1897.5461,65.0551 1898.3742,64.6801 L1898.3742,66.8989 Q1897.6398,67.2114 1896.8429,67.3676 Q1896.0617,67.5239 1895.2961,67.5239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.8516" x="1916.3273" y="66.034">ClientController</text><line style="stroke:#181818;stroke-width:0.5;" x1="1694.5" x2="2209.5062" y1="76.602" y2="76.602"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="88.6359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.6117" x="1713.5" y="95.5679">client: Client</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="107.7039"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.1656" x="1713.5" y="114.6358">currentUser: User</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="126.7718"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247.4631" x="1713.5" y="133.7038">contactRepository: ContactRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="145.8397"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230.1171" x="1713.5" y="152.7717">groupRepository: GroupRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="164.9076"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320.3748" x="1713.5" y="171.8396">conversationRepository: ConversationRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="183.9755"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229.1371" x="1713.5" y="190.9075">listeners: List&lt;ClientEventListener&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="203.0434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221.2691" x="1713.5" y="209.9754">packetRouter: ClientPacketRouter</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="222.1114"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="286.3829" x="1713.5" y="229.0433">messageIdGenerator: MessageIdGenerator</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="241.1793"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203.2233" x="1713.5" y="248.1113">cryptoStrategy: CryptoStrategy</text><line style="stroke:#181818;stroke-width:1;" x1="1694.5" x2="2209.5062" y1="256.2132" y2="256.2132"/><ellipse cx="1704.5" cy="271.2472" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.2516" x="1713.5" y="275.1792">ClientController()</text><ellipse cx="1704.5" cy="290.3151" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="331.7007" x="1713.5" y="294.2471">connect(host: String, port: int, userId: int): boolean</text><ellipse cx="1704.5" cy="309.383" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.6875" x="1713.5" y="313.315">disconnect(): void</text><ellipse cx="1704.5" cy="328.4509" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.2534" x="1713.5" y="332.3829">getCurrentUser(): User</text><ellipse cx="1704.5" cy="347.5189" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305.3108" x="1713.5" y="351.4508">addListener(listener: ClientEventListener): void</text><ellipse cx="1704.5" cy="366.5868" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="330.4827" x="1713.5" y="370.5188">removeListener(listener: ClientEventListener): void</text><ellipse cx="1704.5" cy="385.6547" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="316.4689" x="1713.5" y="389.5867">sendTextMessage(to: int, content: String): String</text><ellipse cx="1704.5" cy="404.7226" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="433.2985" x="1713.5" y="408.6546">sendTextMessage(to: int, content: String, replyToId: String): String</text><ellipse cx="1704.5" cy="423.7905" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="444.7504" x="1713.5" y="427.7225">sendMediaMessage(to: int, media: byte[], mediaType: String): String</text><ellipse cx="1704.5" cy="442.8584" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="465.8344" x="1713.5" y="446.7904">addReaction(conversationId: int, messageId: String, emoji: String): void</text><ellipse cx="1704.5" cy="461.9264" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="491.0062" x="1713.5" y="465.8583">removeReaction(conversationId: int, messageId: String, emoji: String): void</text><ellipse cx="1704.5" cy="480.9943" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.9112" x="1713.5" y="484.9263">addContact(contactId: int): void</text><ellipse cx="1704.5" cy="500.0622" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210.7832" x="1713.5" y="503.9942">createGroup(name: String): void</text><ellipse cx="1704.5" cy="519.1301" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="346.3587" x="1713.5" y="523.0621">addGroupMember(groupId: int, memberId: int): void</text><ellipse cx="1704.5" cy="538.198" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="371.5306" x="1713.5" y="542.13">removeGroupMember(groupId: int, memberId: int): void</text><ellipse cx="1704.5" cy="557.2659" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197.8612" x="1713.5" y="561.1979">leaveGroup(groupId: int): void</text><ellipse cx="1704.5" cy="576.3339" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204.4552" x="1713.5" y="580.2658">deleteGroup(groupId: int): void</text><ellipse cx="1704.5" cy="595.4018" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262.219" x="1713.5" y="599.3338">updatePseudo(newPseudo: String): void</text><ellipse cx="1704.5" cy="614.4697" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225.2451" x="1713.5" y="618.4017">getContact(contactId: int): Contact</text><ellipse cx="1704.5" cy="633.5376" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.9532" x="1713.5" y="637.4696">getGroup(groupId: int): Group</text><ellipse cx="1704.5" cy="652.6055" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="334.6128" x="1713.5" y="656.5375">getConversation(conversationId: int): Conversation</text><ellipse cx="1704.5" cy="671.6734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="322.6989" x="1713.5" y="675.6054">setCryptoStrategy(strategy: CryptoStrategy): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="687.7414"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292.3188" x="1713.5" y="694.6733">notifyMessageReceived(msg: Message): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="706.8093"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="465.2324" x="1713.5" y="713.7413">notifyReactionAdded(messageId: String, emoji: String, userId: int): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="725.8772"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="269.135" x="1713.5" y="732.8092">notifyGroupUpdated(group: Group): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1701.5" y="744.9451"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.4393" x="1713.5" y="751.8771">notifyError(error: String): void</text></g><!--class ClientPacketHandler--><g class="entity" data-entity="ClientPacketHandler" data-source-line="754" data-uid="ent0170" id="entity_ClientPacketHandler"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="315.1129" x="2369.44" y="3838.662"/><ellipse cx="2459.8307" cy="3854.662" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2455.0025,3860.412 L2458.3463,3848.2245 L2461.4869,3848.2245 L2464.8619,3860.412 L2462.3932,3860.412 L2461.6588,3857.3964 L2458.1432,3857.3964 L2457.3932,3860.412 L2455.0025,3860.412 Z M2459.4088,3852.3651 L2458.6588,3855.3651 L2461.1744,3855.3651 L2460.4557,3852.3651 Q2460.315,3851.787 2460.19,3851.2401 Q2460.065,3850.6776 2459.9244,3850.0995 Q2459.815,3850.6776 2459.6744,3851.2401 Q2459.5338,3851.787 2459.4088,3852.3651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="125.8315" x="2480.3307" y="3860.094">ClientPacketHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="2370.44" x2="2683.5529" y1="3870.662" y2="3870.662"/><polygon fill="none" points="2380.44,3880.6959,2384.44,3884.6959,2380.44,3888.6959,2376.44,3884.6959" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.7894" x="2389.44" y="3889.6279">client: ClientController</text><line style="stroke:#181818;stroke-width:1;" x1="2370.44" x2="2683.5529" y1="3897.7299" y2="3897.7299"/><ellipse cx="2380.44" cy="3912.7639" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289.1129" x="2389.44" y="3916.6958">ClientPacketHandler(client: ClientController)</text><ellipse cx="2380.44" cy="3931.8318" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="223.6352" x="2389.44" y="3935.7638">handle(msg: ProtocolMessage): void</text><ellipse cx="2380.44" cy="3950.8997" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="248.5971" x="2389.44" y="3954.8317">canHandle(type: MessageType): boolean</text></g><!--class ClientTextMessageHandler--><g class="entity" data-entity="ClientTextMessageHandler" data-source-line="762" data-uid="ent0171" id="entity_ClientTextMessageHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291.467" x="1814.27" y="4185.002"/><ellipse cx="1867.2738" cy="4201.002" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1866.7426,4207.9239 Q1864.9926,4207.9239 1863.852,4207.1895 Q1862.727,4206.4395 1862.1645,4205.0957 Q1861.6176,4203.7364 1861.6176,4201.9395 Q1861.6176,4199.9082 1862.2738,4198.4551 Q1862.9301,4197.002 1864.2113,4196.2207 Q1865.4926,4195.4395 1867.3676,4195.4395 Q1868.2582,4195.4395 1868.9301,4195.627 Q1869.602,4195.7989 1870.2895,4196.1426 L1869.477,4198.1582 Q1868.852,4197.8457 1868.3051,4197.7207 Q1867.7738,4197.5957 1867.2895,4197.5957 Q1866.1176,4197.5957 1865.4145,4198.127 Q1864.7113,4198.6582 1864.4145,4199.6114 Q1864.1176,4200.5645 1864.1176,4201.8301 Q1864.1176,4203.8457 1864.8363,4204.8145 Q1865.5551,4205.7676 1867.1488,4205.7676 Q1867.7426,4205.7676 1868.3676,4205.6114 Q1868.9926,4205.4551 1869.8207,4205.0801 L1869.8207,4207.2989 Q1869.0863,4207.6114 1868.2895,4207.7676 Q1867.5082,4207.9239 1866.7426,4207.9239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.9593" x="1887.7738" y="4206.434">ClientTextMessageHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="1815.27" x2="2104.737" y1="4217.002" y2="4217.002"/><line style="stroke:#181818;stroke-width:1;" x1="1815.27" x2="2104.737" y1="4225.002" y2="4225.002"/><ellipse cx="1825.27" cy="4240.0359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.0831" x="1834.27" y="4243.9679">handle(msg: ProtocolMessage): void</text><ellipse cx="1825.27" cy="4259.1039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="1834.27" y="4263.0358">canHandle(type: MessageType): boolean</text></g><!--class ClientMediaMessageHandler--><g class="entity" data-entity="ClientMediaMessageHandler" data-source-line="768" data-uid="ent0173" id="entity_ClientMediaMessageHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291.467" x="2140.27" y="4185.002"/><ellipse cx="2187.0089" cy="4201.002" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2186.4776,4207.9239 Q2184.7276,4207.9239 2183.587,4207.1895 Q2182.462,4206.4395 2181.8995,4205.0957 Q2181.3526,4203.7364 2181.3526,4201.9395 Q2181.3526,4199.9082 2182.0089,4198.4551 Q2182.6651,4197.002 2183.9464,4196.2207 Q2185.2276,4195.4395 2187.1026,4195.4395 Q2187.9932,4195.4395 2188.6651,4195.627 Q2189.337,4195.7989 2190.0245,4196.1426 L2189.212,4198.1582 Q2188.587,4197.8457 2188.0401,4197.7207 Q2187.5089,4197.5957 2187.0245,4197.5957 Q2185.8526,4197.5957 2185.1495,4198.127 Q2184.4464,4198.6582 2184.1495,4199.6114 Q2183.8526,4200.5645 2183.8526,4201.8301 Q2183.8526,4203.8457 2184.5714,4204.8145 Q2185.2901,4205.7676 2186.8839,4205.7676 Q2187.4776,4205.7676 2188.1026,4205.6114 Q2188.7276,4205.4551 2189.5557,4205.0801 L2189.5557,4207.2989 Q2188.8214,4207.6114 2188.0245,4207.7676 Q2187.2432,4207.9239 2186.4776,4207.9239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.4893" x="2207.5089" y="4206.434">ClientMediaMessageHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="2141.27" x2="2430.737" y1="4217.002" y2="4217.002"/><line style="stroke:#181818;stroke-width:1;" x1="2141.27" x2="2430.737" y1="4225.002" y2="4225.002"/><ellipse cx="2151.27" cy="4240.0359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.0831" x="2160.27" y="4243.9679">handle(msg: ProtocolMessage): void</text><ellipse cx="2151.27" cy="4259.1039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="2160.27" y="4263.0358">canHandle(type: MessageType): boolean</text></g><!--class ClientReactionHandler--><g class="entity" data-entity="ClientReactionHandler" data-source-line="774" data-uid="ent0175" id="entity_ClientReactionHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291.467" x="2466.27" y="4185.002"/><ellipse cx="2534.0438" cy="4201.002" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2533.5125,4207.9239 Q2531.7625,4207.9239 2530.6219,4207.1895 Q2529.4969,4206.4395 2528.9344,4205.0957 Q2528.3875,4203.7364 2528.3875,4201.9395 Q2528.3875,4199.9082 2529.0438,4198.4551 Q2529.7,4197.002 2530.9813,4196.2207 Q2532.2625,4195.4395 2534.1375,4195.4395 Q2535.0282,4195.4395 2535.7,4195.627 Q2536.3719,4195.7989 2537.0594,4196.1426 L2536.2469,4198.1582 Q2535.6219,4197.8457 2535.075,4197.7207 Q2534.5438,4197.5957 2534.0594,4197.5957 Q2532.8875,4197.5957 2532.1844,4198.127 Q2531.4813,4198.6582 2531.1844,4199.6114 Q2530.8875,4200.5645 2530.8875,4201.8301 Q2530.8875,4203.8457 2531.6063,4204.8145 Q2532.325,4205.7676 2533.9188,4205.7676 Q2534.5125,4205.7676 2535.1375,4205.6114 Q2535.7625,4205.4551 2536.5907,4205.0801 L2536.5907,4207.2989 Q2535.8563,4207.6114 2535.0594,4207.7676 Q2534.2782,4207.9239 2533.5125,4207.9239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.4194" x="2554.5438" y="4206.434">ClientReactionHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="2467.27" x2="2756.737" y1="4217.002" y2="4217.002"/><line style="stroke:#181818;stroke-width:1;" x1="2467.27" x2="2756.737" y1="4225.002" y2="4225.002"/><ellipse cx="2477.27" cy="4240.0359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.0831" x="2486.27" y="4243.9679">handle(msg: ProtocolMessage): void</text><ellipse cx="2477.27" cy="4259.1039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="2486.27" y="4263.0358">canHandle(type: MessageType): boolean</text></g><!--class ClientManagementHandler--><g class="entity" data-entity="ClientManagementHandler" data-source-line="780" data-uid="ent0177" id="entity_ClientManagementHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291.467" x="2792.27" y="4185.002"/><ellipse cx="2844.3988" cy="4201.002" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2843.8676,4207.9239 Q2842.1176,4207.9239 2840.977,4207.1895 Q2839.852,4206.4395 2839.2895,4205.0957 Q2838.7426,4203.7364 2838.7426,4201.9395 Q2838.7426,4199.9082 2839.3988,4198.4551 Q2840.0551,4197.002 2841.3363,4196.2207 Q2842.6176,4195.4395 2844.4926,4195.4395 Q2845.3832,4195.4395 2846.0551,4195.627 Q2846.727,4195.7989 2847.4145,4196.1426 L2846.602,4198.1582 Q2845.977,4197.8457 2845.4301,4197.7207 Q2844.8988,4197.5957 2844.4145,4197.5957 Q2843.2426,4197.5957 2842.5395,4198.127 Q2841.8363,4198.6582 2841.5395,4199.6114 Q2841.2426,4200.5645 2841.2426,4201.8301 Q2841.2426,4203.8457 2841.9613,4204.8145 Q2842.6801,4205.7676 2844.2738,4205.7676 Q2844.8676,4205.7676 2845.4926,4205.6114 Q2846.1176,4205.4551 2846.9457,4205.0801 L2846.9457,4207.2989 Q2846.2113,4207.6114 2845.4145,4207.7676 Q2844.6332,4207.9239 2843.8676,4207.9239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.7093" x="2864.8988" y="4206.434">ClientManagementHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="2793.27" x2="3082.737" y1="4217.002" y2="4217.002"/><line style="stroke:#181818;stroke-width:1;" x1="2793.27" x2="3082.737" y1="4225.002" y2="4225.002"/><ellipse cx="2803.27" cy="4240.0359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.0831" x="2812.27" y="4243.9679">handle(msg: ProtocolMessage): void</text><ellipse cx="2803.27" cy="4259.1039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="2812.27" y="4263.0358">canHandle(type: MessageType): boolean</text></g><!--class ClientPacketRouter--><g class="entity" data-entity="ClientPacketRouter" data-source-line="786" data-uid="ent0179" id="entity_ClientPacketRouter"><rect fill="#F1F1F1" height="143.3396" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="364.9947" x="2344.5" y="3549.512"/><ellipse cx="2459.8946" cy="3565.512" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2459.3633,3572.4339 Q2457.6133,3572.4339 2456.4727,3571.6995 Q2455.3477,3570.9495 2454.7852,3569.6057 Q2454.2383,3568.2464 2454.2383,3566.4495 Q2454.2383,3564.4182 2454.8946,3562.9651 Q2455.5508,3561.512 2456.8321,3560.7307 Q2458.1133,3559.9495 2459.9883,3559.9495 Q2460.879,3559.9495 2461.5508,3560.137 Q2462.2227,3560.3089 2462.9102,3560.6526 L2462.0977,3562.6682 Q2461.4727,3562.3557 2460.9258,3562.2307 Q2460.3946,3562.1057 2459.9102,3562.1057 Q2458.7383,3562.1057 2458.0352,3562.637 Q2457.3321,3563.1682 2457.0352,3564.1214 Q2456.7383,3565.0745 2456.7383,3566.3401 Q2456.7383,3568.3557 2457.4571,3569.3245 Q2458.1758,3570.2776 2459.7696,3570.2776 Q2460.3633,3570.2776 2460.9883,3570.1214 Q2461.6133,3569.9651 2462.4415,3569.5901 L2462.4415,3571.8089 Q2461.7071,3572.1214 2460.9102,3572.2776 Q2460.129,3572.4339 2459.3633,3572.4339 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.7055" x="2480.3946" y="3570.944">ClientPacketRouter</text><line style="stroke:#181818;stroke-width:0.5;" x1="2345.5" x2="2708.4947" y1="3581.512" y2="3581.512"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2352.5" y="3593.5459"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237.8031" x="2364.5" y="3600.4779">handlers: List&lt;ClientPacketHandler&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="2345.5" x2="2708.4947" y1="3608.5799" y2="3608.5799"/><ellipse cx="2355.5" cy="3623.6139" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.1055" x="2364.5" y="3627.5458">ClientPacketRouter()</text><ellipse cx="2355.5" cy="3642.6818" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="313.8228" x="2364.5" y="3646.6138">addHandler(handler: ClientPacketHandler): void</text><ellipse cx="2355.5" cy="3661.7497" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="338.9947" x="2364.5" y="3665.6817">removeHandler(handler: ClientPacketHandler): void</text><ellipse cx="2355.5" cy="3680.8176" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274.049" x="2364.5" y="3684.7496">process(message: ProtocolMessage): void</text></g><!--class PacketProcessor--><g class="entity" data-entity="PacketProcessor" data-source-line="787" data-uid="ent0180" id="entity_PacketProcessor"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.0656" x="2460.47" y="3365.242"/><ellipse cx="2475.47" cy="3381.242" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2471.5013,3387.742 L2471.5013,3386.0389 L2473.8606,3385.7732 L2473.8606,3377.5701 L2471.5013,3377.3045 L2471.5013,3375.6014 L2478.6419,3375.6014 L2478.6419,3377.3045 L2476.22,3377.5701 L2476.22,3385.7732 L2478.6419,3386.0389 L2478.6419,3387.742 L2471.5013,3387.742 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="101.0656" x="2489.47" y="3386.674">PacketProcessor</text><line style="stroke:#181818;stroke-width:0.5;" x1="2461.47" x2="2592.5356" y1="3397.242" y2="3397.242"/><line style="stroke:#181818;stroke-width:0.5;" x1="2461.47" x2="2592.5356" y1="3405.242" y2="3405.242"/></g><g class="entity" data-entity="GMN182" data-source-line="855" data-uid="ent0183" id="entity_GMN182"><path d="M2519.68,945.222 L2519.68,990.634 L2932.3183,990.634 L2932.3183,955.222 L2922.3183,945.222 L2519.68,945.222" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2922.3183,945.222 L2922.3183,955.222 L2932.3183,955.222 L2922.3183,945.222" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101.5951" x="2525.68" y="964.119">Pattern: Facade</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="391.6383" x="2525.68" y="981.825">Fournit une interface simplifi&#233;e pour toutes les op&#233;rations client</text></g><!--class ClientEventListener--><g class="entity" data-entity="ClientEventListener" data-source-line="867" data-uid="ent0192" id="entity_ClientEventListener"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159.1055" x="2967.45" y="943.922"/><ellipse cx="2982.45" cy="959.922" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2981.9188,966.8439 Q2980.1688,966.8439 2979.0281,966.1095 Q2977.9031,965.3595 2977.3406,964.0157 Q2976.7938,962.6564 2976.7938,960.8595 Q2976.7938,958.8282 2977.45,957.3751 Q2978.1063,955.922 2979.3875,955.1407 Q2980.6688,954.3595 2982.5438,954.3595 Q2983.4344,954.3595 2984.1063,954.547 Q2984.7781,954.7189 2985.4656,955.0626 L2984.6531,957.0782 Q2984.0281,956.7657 2983.4813,956.6407 Q2982.95,956.5157 2982.4656,956.5157 Q2981.2938,956.5157 2980.5906,957.047 Q2979.8875,957.5782 2979.5906,958.5314 Q2979.2938,959.4845 2979.2938,960.7501 Q2979.2938,962.7657 2980.0125,963.7345 Q2980.7313,964.6876 2982.325,964.6876 Q2982.9188,964.6876 2983.5438,964.5314 Q2984.1688,964.3751 2984.9969,964.0001 L2984.9969,966.2189 Q2984.2625,966.5314 2983.4656,966.6876 Q2982.6844,966.8439 2981.9188,966.8439 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.1055" x="2996.45" y="965.354">ClientEventListener</text><line style="stroke:#181818;stroke-width:0.5;" x1="2968.45" x2="3125.5555" y1="975.922" y2="975.922"/><line style="stroke:#181818;stroke-width:0.5;" x1="2968.45" x2="3125.5555" y1="983.922" y2="983.922"/></g><!--link Packet to GMN4--><g class="link" data-entity-1="Packet" data-entity-2="GMN4" data-source-line="22" data-uid="lnk6" id="link_Packet_GMN4"><path d="M3676.59,4314.072 C3590.46,4314.072 3498.01,4314.072 3498.01,4314.072 C3498.01,4314.072 3498.01,4464.132 3498.01,4522.752" fill="none" id="Packet-GMN4" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link PacketBuilder to Packet--><g class="link" data-entity-1="PacketBuilder" data-entity-2="Packet" data-source-line="46" data-uid="lnk11" id="link_PacketBuilder_Packet"><path codeLine="46" d="M3822,4039.592 C3822,4059.272 3822,4073.452 3822,4092.952" fill="none" id="PacketBuilder-to-Packet" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="3822,4098.952,3826,4089.952,3822,4093.952,3818,4089.952,3822,4098.952" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.486" x="3777" y="4065.169">creates</text></g><!--reverse link ProtocolMessage to TextMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="TextMessage" data-source-line="98" data-uid="lnk19" id="link_ProtocolMessage_TextMessage"><path d="M4728.39,4640.072 C4524.76,4640.072 4207.51,4640.072 4207.51,4640.072 C4207.51,4640.072 4207.51,4715.302 4207.51,4791.552" fill="none" id="ProtocolMessage-backto-TextMessage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="4746.39,4640.072,4728.39,4634.072,4728.39,4646.072,4746.39,4640.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ProtocolMessage to MediaMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="MediaMessage" data-source-line="120" data-uid="lnk24" id="link_ProtocolMessage_MediaMessage"><path d="M5069.74,4658.072 C5148.77,4658.072 5210.88,4658.072 5210.88,4658.072 C5210.88,4658.072 5210.88,4735.522 5210.88,4810.552" fill="none" id="ProtocolMessage-backto-MediaMessage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="5051.74,4658.072,5069.74,4664.072,5069.74,4652.072,5051.74,4658.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ProtocolMessage to ManagementMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="ManagementMessage" data-source-line="136" data-uid="lnk26" id="link_ProtocolMessage_ManagementMessage"><path d="M4728.06,4657.072 C4693.01,4657.072 4683.81,4657.072 4683.81,4657.072 C4683.81,4657.072 4683.81,4764.232 4683.81,4848.782" fill="none" id="ProtocolMessage-backto-ManagementMessage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="4746.06,4657.072,4728.06,4651.072,4728.06,4663.072,4746.06,4657.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ProtocolMessage to ReactionMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="ReactionMessage" data-source-line="152" data-uid="lnk31" id="link_ProtocolMessage_ReactionMessage"><path d="M4728.33,4606.072 C4329.13,4606.072 3303,4606.072 3303,4606.072 C3303,4606.072 3303,4738.922 3303,4839.332" fill="none" id="ProtocolMessage-backto-ReactionMessage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="4746.33,4606.072,4728.33,4600.072,4728.33,4612.072,4746.33,4606.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ProtocolMessage to NotificationMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="NotificationMessage" data-source-line="165" data-uid="lnk33" id="link_ProtocolMessage_NotificationMessage"><path d="M4728.32,4623.072 C4389.57,4623.072 3622.75,4623.072 3622.75,4623.072 C3622.75,4623.072 3622.75,4781.272 3622.75,4877.362" fill="none" id="ProtocolMessage-backto-NotificationMessage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="4746.32,4623.072,4728.32,4617.072,4728.32,4629.072,4746.32,4623.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link MessageProvider to TextMessageProvider--><g class="link" data-entity-1="MessageProvider" data-entity-2="TextMessageProvider" data-source-line="192" data-uid="lnk39" id="link_MessageProvider_TextMessageProvider"><path d="M4250,4289.592 C4250,4350.272 4250,4441.652 4250,4502.322" fill="none" id="MessageProvider-backto-TextMessageProvider" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="4250,4271.592,4244,4289.592,4256,4289.592,4250,4271.592" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link MessageProvider to ManagementMessageProvider--><g class="link" data-entity-1="MessageProvider" data-entity-2="ManagementMessageProvider" data-source-line="198" data-uid="lnk41" id="link_MessageProvider_ManagementMessageProvider"><path d="M4394.67,4242.072 C4394.67,4242.072 4393.72,4546.072 4393.72,4546.072 C4393.72,4546.072 4400.63,4546.072 4411.41,4546.072" fill="none" id="MessageProvider-backto-ManagementMessageProvider" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="4376.67,4242.072,4394.67,4248.072,4394.67,4236.072,4376.67,4242.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link MessageProvider to MediaMessageProvider--><g class="link" data-entity-1="MessageProvider" data-entity-2="MediaMessageProvider" data-source-line="204" data-uid="lnk43" id="link_MessageProvider_MediaMessageProvider"><path d="M4313.17,4289.552 C4313.17,4322.112 4313.17,4343.072 4313.17,4343.072 C4313.17,4343.072 5167.32,4343.072 5167.32,4343.072 C5167.32,4343.072 5167.32,4442.752 5167.32,4502.322" fill="none" id="MessageProvider-backto-MediaMessageProvider" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="4313.17,4271.552,4307.17,4289.552,4319.17,4289.552,4313.17,4271.552" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link MessageProvider to ReactionMessageProvider--><g class="link" data-entity-1="MessageProvider" data-entity-2="ReactionMessageProvider" data-source-line="210" data-uid="lnk45" id="link_MessageProvider_ReactionMessageProvider"><path d="M4186.83,4289.522 C4186.83,4336.602 4186.83,4387.072 4186.83,4387.072 C4186.83,4387.072 3738.57,4387.072 3738.57,4387.072 C3738.57,4387.072 3738.57,4455.442 3738.57,4502.442" fill="none" id="MessageProvider-backto-ReactionMessageProvider" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="4186.83,4271.522,4180.83,4289.522,4192.83,4289.522,4186.83,4271.522" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link MessageProvider to NotificationMessageProvider--><g class="link" data-entity-1="MessageProvider" data-entity-2="NotificationMessageProvider" data-source-line="216" data-uid="lnk47" id="link_MessageProvider_NotificationMessageProvider"><path d="M4105.39,4228.072 C4076.71,4228.072 4072.53,4228.072 4072.53,4228.072 C4072.53,4228.072 4072.53,4415.282 4072.53,4502.302" fill="none" id="MessageProvider-backto-NotificationMessageProvider" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="4123.39,4228.072,4105.39,4222.072,4105.39,4234.072,4123.39,4228.072" style="stroke:#181818;stroke-width:1;"/></g><!--link TextMessageProvider to TextMessage--><g class="link" data-entity-1="TextMessageProvider" data-entity-2="TextMessage" data-source-line="221" data-uid="lnk48" id="link_TextMessageProvider_TextMessage"><path codeLine="221" d="M4165.58,4589.012 C4165.58,4637.402 4165.58,4712.672 4165.58,4785.792" fill="none" id="TextMessageProvider-to-TextMessage" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4165.58,4791.792,4169.58,4782.792,4165.58,4786.792,4161.58,4782.792,4165.58,4791.792" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.486" x="4120.58" y="4686.299">creates</text></g><!--link ManagementMessageProvider to ManagementMessage--><g class="link" data-entity-1="ManagementMessageProvider" data-entity-2="ManagementMessage" data-source-line="222" data-uid="lnk49" id="link_ManagementMessageProvider_ManagementMessage"><path codeLine="222" d="M4538,4589.012 C4538,4650.512 4538,4759.132 4538,4842.642" fill="none" id="ManagementMessageProvider-to-ManagementMessage" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4538,4848.642,4542,4839.642,4538,4843.642,4534,4839.642,4538,4848.642" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.486" x="4493" y="4714.719">creates</text></g><!--link MediaMessageProvider to MediaMessage--><g class="link" data-entity-1="MediaMessageProvider" data-entity-2="MediaMessage" data-source-line="223" data-uid="lnk50" id="link_MediaMessageProvider_MediaMessage"><path codeLine="223" d="M5285.61,4589.012 C5285.61,4641.572 5285.61,4726.912 5285.61,4804.482" fill="none" id="MediaMessageProvider-to-MediaMessage" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="5285.61,4810.482,5289.61,4801.482,5285.61,4805.482,5281.61,4801.482,5285.61,4810.482" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.486" x="5240.61" y="4695.639">creates</text></g><!--link ReactionMessageProvider to ReactionMessage--><g class="link" data-entity-1="ReactionMessageProvider" data-entity-2="ReactionMessage" data-source-line="224" data-uid="lnk51" id="link_ReactionMessageProvider_ReactionMessage"><path codeLine="224" d="M3585.2,4589.382 C3585.2,4675.452 3585.2,4859.072 3585.2,4859.072 C3585.2,4859.072 3505.9,4859.072 3429.09,4859.072" fill="none" id="ReactionMessageProvider-to-ReactionMessage" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="3423.09,4859.072,3432.09,4863.072,3428.09,4859.072,3432.09,4855.072,3423.09,4859.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.486" x="3540.2" y="4801.179">creates</text></g><!--link NotificationMessageProvider to NotificationMessage--><g class="link" data-entity-1="NotificationMessageProvider" data-entity-2="NotificationMessage" data-source-line="225" data-uid="lnk52" id="link_NotificationMessageProvider_NotificationMessage"><path codeLine="225" d="M3962,4589.372 C3962,4655.352 3962,4773.072 3962,4773.072 C3962,4773.072 3660.3,4773.072 3660.3,4773.072 C3660.3,4773.072 3660.3,4822.662 3660.3,4871.412" fill="none" id="NotificationMessageProvider-to-NotificationMessage" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="3660.3,4877.412,3664.3,4868.412,3660.3,4872.412,3656.3,4868.412,3660.3,4877.412" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.486" x="3805.83" y="4768.969">creates</text></g><!--link MessageFactory to MessageProvider--><g class="link" data-entity-1="MessageFactory" data-entity-2="MessageProvider" data-source-line="238" data-uid="lnk57" id="link_MessageFactory_MessageProvider"><path codeLine="238" d="M4250,3953.742 C4250,4017.962 4250,4119.012 4250,4178.622" fill="none" id="MessageFactory-to-MessageProvider" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4250,4184.622,4254,4175.622,4250,4179.622,4246,4175.622,4250,4184.622" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.7791" x="4107" y="4065.079">loads via ServiceLoader</text></g><!--reverse link MessageIdGenerator to ShaIdGenerator--><g class="link" data-entity-1="MessageIdGenerator" data-entity-2="ShaIdGenerator" data-source-line="245" data-uid="lnk60" id="link_MessageIdGenerator_ShaIdGenerator"><path d="M5001,3673.192 C5001,3716.052 5001,3772.862 5001,3828.692" fill="none" id="MessageIdGenerator-backto-ShaIdGenerator" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="5001,3655.192,4995,3673.192,5007,3673.192,5001,3655.192" style="stroke:#181818;stroke-width:1;"/></g><!--link MessageIdGenerator to GMN61--><g class="link" data-entity-1="MessageIdGenerator" data-entity-2="GMN61" data-source-line="253" data-uid="lnk63" id="link_MessageIdGenerator_GMN61"><path d="M5169.29,3645.072 C5249.41,3645.072 5328,3645.072 5328,3645.072 C5328,3645.072 5328,3833.072 5328,3886.682" fill="none" id="MessageIdGenerator-GMN61" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--reverse link CryptoStrategy to AESCryptoStrategy--><g class="link" data-entity-1="CryptoStrategy" data-entity-2="AESCryptoStrategy" data-source-line="266" data-uid="lnk69" id="link_CryptoStrategy_AESCryptoStrategy"><path d="M5298.05,5569.802 C5298.05,5593.202 5298.05,5604.542 5298.05,5630.392" fill="none" id="CryptoStrategy-backto-AESCryptoStrategy" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="5298.05,5551.802,5292.05,5569.802,5304.05,5569.802,5298.05,5551.802" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link CryptoStrategy to E2ECryptoStrategy--><g class="link" data-entity-1="CryptoStrategy" data-entity-2="E2ECryptoStrategy" data-source-line="274" data-uid="lnk71" id="link_CryptoStrategy_E2ECryptoStrategy"><path d="M5417.85,5569.802 C5417.85,5587.562 5417.85,5590.752 5417.85,5611.232" fill="none" id="CryptoStrategy-backto-E2ECryptoStrategy" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="5417.85,5551.802,5411.85,5569.802,5423.85,5569.802,5417.85,5551.802" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ProtocolMessage to ProtocolMessageDecorator--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="ProtocolMessageDecorator" data-source-line="284" data-uid="lnk73" id="link_ProtocolMessage_ProtocolMessageDecorator"><path d="M4899,4693.172 C4899,4752.882 4899,4804.352 4899,4858.422" fill="none" id="ProtocolMessage-backto-ProtocolMessageDecorator" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="4899,4675.172,4893,4693.172,4905,4693.172,4899,4675.172" style="stroke:#181818;stroke-width:1;"/></g><!--link ProtocolMessageDecorator to GMN74--><g class="link" data-entity-1="ProtocolMessageDecorator" data-entity-2="GMN74" data-source-line="294" data-uid="lnk76" id="link_ProtocolMessageDecorator_GMN74"><path d="M5076.55,4858.402 C5076.55,4788.942 5076.55,4705.072 5076.55,4705.072 C5076.55,4705.072 5755,4705.072 5755,4705.072 C5755,4705.072 5755,4883.042 5755,4935.182" fill="none" id="ProtocolMessageDecorator-GMN74" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--reverse link ProtocolMessageDecorator to EncryptedMessage--><g class="link" data-entity-1="ProtocolMessageDecorator" data-entity-2="EncryptedMessage" data-source-line="298" data-uid="lnk78" id="link_ProtocolMessageDecorator_EncryptedMessage"><path d="M4943.38,5058.172 C4943.38,5114.182 4943.38,5167.782 4943.38,5223.832" fill="none" id="ProtocolMessageDecorator-backto-EncryptedMessage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="4943.38,5040.172,4937.38,5058.172,4949.38,5058.172,4943.38,5040.172" style="stroke:#181818;stroke-width:1;"/></g><!--link EncryptedMessage to CryptoStrategy--><g class="link" data-entity-1="EncryptedMessage" data-entity-2="CryptoStrategy" data-source-line="308" data-uid="lnk79" id="link_EncryptedMessage_CryptoStrategy"><path codeLine="308" d="M5249.27,5367.072 C5272.53,5367.072 5287.78,5367.072 5287.78,5367.072 C5287.78,5367.072 5287.78,5417.742 5287.78,5459.362" fill="none" id="EncryptedMessage-to-CryptoStrategy" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5287.78,5465.362,5291.78,5456.362,5287.78,5460.362,5283.78,5456.362,5287.78,5465.362" style="stroke:#181818;stroke-width:1;"/></g><!--link MessageFactory to ProtocolMessage--><g class="link" data-entity-1="MessageFactory" data-entity-2="ProtocolMessage" data-source-line="323" data-uid="lnk84" id="link_MessageFactory_ProtocolMessage"><path codeLine="323" d="M4402.41,3953.662 C4402.41,4093.072 4402.41,4460.072 4402.41,4460.072 C4402.41,4460.072 4594.35,4460.072 4740.29,4460.072" fill="none" id="MessageFactory-to-ProtocolMessage" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4746.29,4460.072,4737.29,4456.072,4741.29,4460.072,4737.29,4464.072,4746.29,4460.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.486" x="4357.41" y="4374.699">creates</text></g><!--link MessageFactory to Packet--><g class="link" data-entity-1="MessageFactory" data-entity-2="Packet" data-source-line="324" data-uid="lnk85" id="link_MessageFactory_Packet"><path codeLine="324" d="M4056.72,3953.892 C4056.72,4015.602 4056.72,4109.072 4056.72,4109.072 C4056.72,4109.072 4021.52,4109.072 3973.65,4109.072" fill="none" id="MessageFactory-to-Packet" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="3967.65,4109.072,3976.65,4113.072,3972.65,4109.072,3976.65,4105.072,3967.65,4109.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="4028.72" y="4071.919">uses</text></g><!--link ProtocolMessage to MessageType--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="MessageType" data-source-line="325" data-uid="lnk86" id="link_ProtocolMessage_MessageType"><path codeLine="325" d="M5051.79,4625.072 C5209.35,4625.072 5432.2,4625.072 5432.2,4625.072 C5432.2,4625.072 5432.2,4668.312 5432.2,4728.412" fill="none" id="ProtocolMessage-to-MessageType" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5432.2,4734.412,5436.2,4725.412,5432.2,4729.412,5428.2,4725.412,5432.2,4734.412" style="stroke:#181818;stroke-width:1;"/></g><!--link ProtocolMessage to MessageType--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="MessageType" data-source-line="885" data-uid="lnk204" id="link_ProtocolMessage_MessageType"><path codeLine="885" d="M5051.94,4641.072 C5206.19,4641.072 5421.69,4641.072 5421.69,4641.072 C5421.69,4641.072 5421.69,4676.202 5421.69,4728.412" fill="none" id="ProtocolMessage-to-MessageType-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5421.69,4734.412,5425.69,4725.412,5421.69,4729.412,5417.69,4725.412,5421.69,4734.412" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link IdGenerator to SequentialIdGenerator--><g class="link" data-entity-1="IdGenerator" data-entity-2="SequentialIdGenerator" data-source-line="342" data-uid="lnk93" id="link_IdGenerator_SequentialIdGenerator"><path d="M6192,4597.532 C6192,4667.722 6192,4811.992 6192,4896.322" fill="none" id="IdGenerator-backto-SequentialIdGenerator" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="6192,4579.532,6186,4597.532,6198,4597.532,6192,4579.532" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ServerPacketHandler to TextMessageHandler--><g class="link" data-entity-1="ServerPacketHandler" data-entity-2="TextMessageHandler" data-source-line="419" data-uid="lnk105" id="link_ServerPacketHandler_TextMessageHandler"><path d="M6802.97,3901.072 C6817.55,3901.072 6808.7,3901.072 6808.7,3901.072 C6808.7,3901.072 6808.7,4228.072 6808.7,4228.072 C6808.7,4228.072 6818.04,4228.072 6832.99,4228.072" fill="none" id="ServerPacketHandler-backto-TextMessageHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="6784.97,3901.072,6802.97,3907.072,6802.97,3895.072,6784.97,3901.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ServerPacketHandler to MediaMessageHandler--><g class="link" data-entity-1="ServerPacketHandler" data-entity-2="MediaMessageHandler" data-source-line="425" data-uid="lnk107" id="link_ServerPacketHandler_MediaMessageHandler"><path d="M6521.09,3962.252 C6521.09,4019.022 6521.09,4100.812 6521.09,4165.662" fill="none" id="ServerPacketHandler-backto-MediaMessageHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="6521.09,3944.252,6515.09,3962.252,6527.09,3962.252,6521.09,3944.252" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ServerPacketHandler to ReactionHandler--><g class="link" data-entity-1="ServerPacketHandler" data-entity-2="ReactionHandler" data-source-line="433" data-uid="lnk109" id="link_ServerPacketHandler_ReactionHandler"><path d="M6370.97,3929.072 C6290.97,3929.072 6235.17,3929.072 6235.17,3929.072 C6235.17,3929.072 6235.17,4101.672 6235.17,4184.592" fill="none" id="ServerPacketHandler-backto-ReactionHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="6388.97,3929.072,6370.97,3923.072,6370.97,3935.072,6388.97,3929.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ServerPacketHandler to GroupManagementHandler--><g class="link" data-entity-1="ServerPacketHandler" data-entity-2="GroupManagementHandler" data-source-line="439" data-uid="lnk111" id="link_ServerPacketHandler_GroupManagementHandler"><path d="M6652.91,3962.212 C6652.91,4033.632 6652.91,4150.072 6652.91,4150.072 C6652.91,4150.072 7032.1,4150.072 7289.83,4150.072" fill="none" id="ServerPacketHandler-backto-GroupManagementHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="6652.91,3944.212,6646.91,3962.212,6658.91,3962.212,6652.91,3944.212" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link PacketProcessor to ServerPacketRouter--><g class="link" data-entity-1="PacketProcessor" data-entity-2="ServerPacketRouter" data-source-line="451" data-uid="lnk114" id="link_PacketProcessor_ServerPacketRouter"><path d="M6596,3431.622 C6596,3461.402 6596,3495.292 6596,3539.732" fill="none" id="PacketProcessor-backto-ServerPacketRouter" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="6596,3413.622,6590,3431.622,6602,3431.622,6596,3413.622" style="stroke:#181818;stroke-width:1;"/></g><!--link ServerPacketRouter to GMN115--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="GMN115" data-source-line="460" data-uid="lnk117" id="link_ServerPacketRouter_GMN115"><path d="M6401.77,3699.072 C6344.95,3699.072 6297.11,3699.072 6297.11,3699.072 C6297.11,3699.072 6297.11,3840.692 6297.11,3886.612" fill="none" id="ServerPacketRouter-GMN115" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--reverse link MediaStorage to FileSystemMediaStorage--><g class="link" data-entity-1="MediaStorage" data-entity-2="FileSystemMediaStorage" data-source-line="488" data-uid="lnk121" id="link_MediaStorage_FileSystemMediaStorage"><path d="M6587,4626.432 C6587,4696.172 6587,4791.152 6587,4867.762" fill="none" id="MediaStorage-backto-FileSystemMediaStorage" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="6587,4608.432,6581,4626.432,6593,4626.432,6587,4608.432" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link Repository to UserRepository--><g class="link" data-entity-1="Repository" data-entity-2="UserRepository" data-source-line="499" data-uid="lnk124" id="link_Repository_UserRepository"><path d="M8088.91,3943.122 C8088.91,3987.342 8088.91,4064.972 8088.91,4137.042" fill="none" id="Repository-backto-UserRepository" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="8088.91,3925.122,8082.91,3943.122,8094.91,3943.122,8088.91,3925.122" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link Repository to GroupRepository--><g class="link" data-entity-1="Repository" data-entity-2="GroupRepository" data-source-line="510" data-uid="lnk126" id="link_Repository_GroupRepository"><path d="M8022.63,3943.122 C8022.63,3987.342 8022.63,4064.972 8022.63,4137.042" fill="none" id="Repository-backto-GroupRepository" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="8022.63,3925.122,8016.63,3943.122,8028.63,3943.122,8022.63,3925.122" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link TchatsAppServer to ConnectionState--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="ConnectionState" data-source-line="534" data-uid="lnk128" id="link_TchatsAppServer_ConnectionState"><path codeLine="534" d="M6365.36,3250.782 C6365.36,3271.902 6365.36,3280.072 6365.36,3298.382" fill="none" id="TchatsAppServer-backto-ConnectionState" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="6365.36,3238.782,6361.36,3244.782,6365.36,3250.782,6369.36,3244.782,6365.36,3238.782" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6364.984" y="3260.0064">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="6329.7625" y="3286.7708">many</text></g><!--reverse link TchatsAppServer to ServerContext--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="ServerContext" data-source-line="535" data-uid="lnk129" id="link_TchatsAppServer_ServerContext"><path codeLine="535" d="M6503.37,2850.072 C6714.61,2850.072 7000.14,2850.072 7000.14,2850.072 C7000.14,2850.072 7000.14,3659.022 7000.14,3857.312" fill="none" id="TchatsAppServer-backto-ServerContext" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="6491.37,2850.072,6497.37,2854.072,6503.37,2850.072,6497.37,2846.072,6491.37,2850.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6499.2843" y="2839.212">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6999.8112" y="3845.9813">1</text></g><!--reverse link TchatsAppServer to IdGenerator--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="IdGenerator" data-source-line="536" data-uid="lnk130" id="link_TchatsAppServer_IdGenerator"><path codeLine="536" d="M6066.62,3207.072 C5959.86,3207.072 5863.61,3207.072 5863.61,3207.072 C5863.61,3207.072 5863.61,4522.072 5863.61,4522.072 C5863.61,4522.072 6029.59,4522.072 6125.54,4522.072" fill="none" id="TchatsAppServer-backto-IdGenerator" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="6078.62,3207.072,6072.62,3203.072,6066.62,3207.072,6072.62,3211.072,6078.62,3207.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link TchatsAppServer to PacketProcessor--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="PacketProcessor" data-source-line="537" data-uid="lnk131" id="link_TchatsAppServer_PacketProcessor"><path codeLine="537" d="M6503.14,3044.072 C6560.78,3044.072 6596,3044.072 6596,3044.072 C6596,3044.072 6596,3286.402 6596,3364.972" fill="none" id="TchatsAppServer-backto-PacketProcessor" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="6491.14,3044.072,6497.14,3048.072,6503.14,3044.072,6497.14,3040.072,6491.14,3044.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ServerPacketRouter to ServerPacketHandler--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="ServerPacketHandler" data-source-line="538" data-uid="lnk132" id="link_ServerPacketRouter_ServerPacketHandler"><path codeLine="538" d="M6587,3714.812 C6587,3765.422 6587,3816.422 6587,3857.572" fill="none" id="ServerPacketRouter-backto-ServerPacketHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="6587,3702.812,6583,3708.812,6587,3714.812,6591,3708.812,6587,3702.812" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6578.9137" y="3724.049">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="6550.1944" y="3845.9617">many</text></g><!--link ServerPacketRouter to ServerContext--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="ServerContext" data-source-line="539" data-uid="lnk133" id="link_ServerPacketRouter_ServerContext"><path codeLine="539" d="M6772,3621.072 C6844.14,3621.072 6909.86,3621.072 6909.86,3621.072 C6909.86,3621.072 6909.86,3772.822 6909.86,3851.392" fill="none" id="ServerPacketRouter-to-ServerContext" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="6909.86,3857.392,6913.86,3848.392,6909.86,3852.392,6905.86,3848.392,6909.86,3857.392" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link GroupManagementHandler to GroupInfo--><g class="link" data-entity-1="GroupManagementHandler" data-entity-2="GroupInfo" data-source-line="540" data-uid="lnk134" id="link_GroupManagementHandler_GroupInfo"><path codeLine="540" d="M7625.41,4340.612 C7625.41,4368.522 7625.41,4387.222 7625.41,4416.522" fill="none" id="GroupManagementHandler-backto-GroupInfo" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="7625.41,4328.612,7621.41,4334.612,7625.41,4340.612,7629.41,4334.612,7625.41,4328.612" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="7645.0511" y="4350.3392">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="7587.3554" y="4405.0431">many</text></g><!--reverse link GroupManagementHandler to IdGenerator--><g class="link" data-entity-1="GroupManagementHandler" data-entity-2="IdGenerator" data-source-line="541" data-uid="lnk135" id="link_GroupManagementHandler_IdGenerator"><path codeLine="541" d="M7278.02,4306.072 C6896.39,4306.072 6192,4306.072 6192,4306.072 C6192,4306.072 6192,4445.892 6192,4511.982" fill="none" id="GroupManagementHandler-backto-IdGenerator" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="7290.02,4306.072,7284.02,4302.072,7278.02,4306.072,7284.02,4310.072,7290.02,4306.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link MediaMessageHandler to MediaStorage--><g class="link" data-entity-1="MediaMessageHandler" data-entity-2="MediaStorage" data-source-line="542" data-uid="lnk136" id="link_MediaMessageHandler_MediaStorage"><path codeLine="542" d="M6587,4302.472 C6587,4358.232 6587,4427.502 6587,4483.292" fill="none" id="MediaMessageHandler-backto-MediaStorage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="6587,4290.472,6583,4296.472,6587,4302.472,6591,4296.472,6587,4290.472" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link UserRepository to UserInfo--><g class="link" data-entity-1="UserRepository" data-entity-2="UserInfo" data-source-line="543" data-uid="lnk137" id="link_UserRepository_UserInfo"><path codeLine="543" d="M8190,4331.132 C8190,4364.412 8190,4390.582 8190,4426.002" fill="none" id="UserRepository-backto-UserInfo" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="8190,4319.132,8186,4325.132,8190,4331.132,8194,4325.132,8190,4319.132" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="8182.0357" y="4340.3854">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="8156.0034" y="4414.7011">many</text></g><!--reverse link GroupRepository to GroupInfo--><g class="link" data-entity-1="GroupRepository" data-entity-2="GroupInfo" data-source-line="544" data-uid="lnk138" id="link_GroupRepository_GroupInfo"><path codeLine="544" d="M7823.03,4331.132 C7823.03,4361.482 7823.03,4383.892 7823.03,4416.572" fill="none" id="GroupRepository-backto-GroupInfo" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="7823.03,4319.132,7819.03,4325.132,7823.03,4331.132,7827.03,4325.132,7823.03,4319.132" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="7787.7564" y="4340.3854">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="7797.0178" y="4405.0962">many</text></g><!--reverse link Media to RealMedia--><g class="link" data-entity-1="Media" data-entity-2="RealMedia" data-source-line="645" data-uid="lnk149" id="link_Media_RealMedia"><path d="M849.5,2188.072 C809.45,2188.072 788.77,2188.072 788.77,2188.072 C788.77,2188.072 788.77,2614.172 788.77,2828.052" fill="none" id="Media-backto-RealMedia" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="867.5,2188.072,849.5,2182.072,849.5,2194.072,867.5,2188.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link Media to MediaProxy--><g class="link" data-entity-1="Media" data-entity-2="MediaProxy" data-source-line="659" data-uid="lnk151" id="link_Media_MediaProxy"><path d="M955,2278.142 C955,2296.502 955,2298.862 955,2319.342" fill="none" id="Media-backto-MediaProxy" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="955,2260.142,949,2278.142,961,2278.142,955,2260.142" style="stroke:#181818;stroke-width:1;"/></g><!--link MediaProxy to RealMedia--><g class="link" data-entity-1="MediaProxy" data-entity-2="RealMedia" data-source-line="674" data-uid="lnk152" id="link_MediaProxy_RealMedia"><path codeLine="674" d="M1003.88,2596.792 C1003.88,2669.702 1003.88,2752.192 1003.88,2822.062" fill="none" id="MediaProxy-to-RealMedia" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1003.88,2828.062,1007.88,2819.062,1003.88,2823.062,999.88,2819.062,1003.88,2828.062" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.9491" x="885.88" y="2708.319">creates on demand</text></g><!--link MediaProxy to Client--><g class="link" data-entity-1="MediaProxy" data-entity-2="Client" data-source-line="675" data-uid="lnk154" id="link_MediaProxy_Client"><path codeLine="675" d="M1278.23,2596.882 C1278.23,2693.112 1278.23,2804.072 1278.23,2804.072 C1278.23,2804.072 1967.36,2804.072 2320.36,2804.072" fill="none" id="MediaProxy-to-Client" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="2326.36,2804.072,2317.36,2800.072,2321.36,2804.072,2317.36,2808.072,2326.36,2804.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.7181" x="1603.7" y="2799.969">requests media</text></g><!--link Message to Media--><g class="link" data-entity-1="Message" data-entity-2="Media" data-source-line="676" data-uid="lnk155" id="link_Message_Media"><path codeLine="676" d="M955,2056.872 C955,2078.102 955,2092.232 955,2110.052" fill="none" id="Message-to-Media" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="955,2116.052,959,2107.052,955,2111.052,951,2107.052,955,2116.052" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link Repository to ContactRepository--><g class="link" data-entity-1="Repository" data-entity-2="ContactRepository" data-source-line="696" data-uid="lnk159" id="link_Repository_ContactRepository"><path d="M342,402.072 C255.31,402.072 101.92,402.072 101.92,402.072 C101.92,402.072 101.92,716.642 101.92,876.692" fill="none" id="Repository-backto-ContactRepository" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="360,402.072,342,396.072,342,408.072,360,402.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link Repository to GroupRepository--><g class="link" data-entity-1="Repository" data-entity-2="GroupRepository" data-source-line="707" data-uid="lnk161" id="link_Repository_GroupRepository"><path d="M392.78,444.602 C392.78,521.412 392.78,743.712 392.78,876.852" fill="none" id="Repository-backto-GroupRepository-1" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="392.78,426.602,386.78,444.602,398.78,444.602,392.78,426.602" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link Repository to ConversationRepository--><g class="link" data-entity-1="Repository" data-entity-2="ConversationRepository" data-source-line="718" data-uid="lnk163" id="link_Repository_ConversationRepository"><path d="M425.22,444.562 C425.22,540.762 425.22,872.072 425.22,872.072 C425.22,872.072 486.35,872.072 554.66,872.072" fill="none" id="Repository-backto-ConversationRepository" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="425.22,426.562,419.22,444.562,431.22,444.562,425.22,426.562" style="stroke:#181818;stroke-width:1;"/></g><!--link ClientController to EventBus--><g class="link" data-entity-1="ClientController" data-entity-2="EventBus" data-source-line="751" data-uid="lnk169" id="link_ClientController_EventBus"><path codeLine="751" d="M1952,760.112 C1952,780.642 1952,794.612 1952,813.522" fill="none" id="ClientController-to-EventBus" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1952,819.522,1956,810.522,1952,814.522,1948,810.522,1952,819.522" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="1924" y="785.719">uses</text></g><!--reverse link ClientPacketHandler to ClientTextMessageHandler--><g class="link" data-entity-1="ClientPacketHandler" data-entity-2="ClientTextMessageHandler" data-source-line="763" data-uid="lnk172" id="link_ClientPacketHandler_ClientTextMessageHandler"><path d="M2351.06,3901.072 C2183.29,3901.072 1960,3901.072 1960,3901.072 C1960,3901.072 1960,4095.702 1960,4184.652" fill="none" id="ClientPacketHandler-backto-ClientTextMessageHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="2369.06,3901.072,2351.06,3895.072,2351.06,3907.072,2369.06,3901.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ClientPacketHandler to ClientMediaMessageHandler--><g class="link" data-entity-1="ClientPacketHandler" data-entity-2="ClientMediaMessageHandler" data-source-line="769" data-uid="lnk174" id="link_ClientPacketHandler_ClientMediaMessageHandler"><path d="M2400.59,3981.122 C2400.59,4046.032 2400.59,4128.012 2400.59,4184.782" fill="none" id="ClientPacketHandler-backto-ClientMediaMessageHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="2400.59,3963.122,2394.59,3981.122,2406.59,3981.122,2400.59,3963.122" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ClientPacketHandler to ClientReactionHandler--><g class="link" data-entity-1="ClientPacketHandler" data-entity-2="ClientReactionHandler" data-source-line="775" data-uid="lnk176" id="link_ClientPacketHandler_ClientReactionHandler"><path d="M2575.41,3981.122 C2575.41,4046.032 2575.41,4128.012 2575.41,4184.782" fill="none" id="ClientPacketHandler-backto-ClientReactionHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="2575.41,3963.122,2569.41,3981.122,2581.41,3981.122,2575.41,3963.122" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ClientPacketHandler to ClientManagementHandler--><g class="link" data-entity-1="ClientPacketHandler" data-entity-2="ClientManagementHandler" data-source-line="781" data-uid="lnk178" id="link_ClientPacketHandler_ClientManagementHandler"><path d="M2702.83,3901.072 C2789.79,3901.072 2862.29,3901.072 2862.29,3901.072 C2862.29,3901.072 2862.29,4095.702 2862.29,4184.652" fill="none" id="ClientPacketHandler-backto-ClientManagementHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="2684.83,3901.072,2702.83,3907.072,2702.83,3895.072,2684.83,3901.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link PacketProcessor to ClientPacketRouter--><g class="link" data-entity-1="PacketProcessor" data-entity-2="ClientPacketRouter" data-source-line="787" data-uid="lnk181" id="link_PacketProcessor_ClientPacketRouter"><path d="M2527,3431.622 C2527,3463.552 2527,3502.902 2527,3549.242" fill="none" id="PacketProcessor-backto-ClientPacketRouter" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="2527,3413.622,2521,3431.622,2533,3431.622,2527,3413.622" style="stroke:#181818;stroke-width:1;"/></g><!--link ClientController to GMN182--><g class="link" data-entity-1="ClientController" data-entity-2="GMN182" data-source-line="855" data-uid="lnk184" id="link_ClientController_GMN182"><path d="M2210.81,556.072 C2435.81,556.072 2726,556.072 2726,556.072 C2726,556.072 2726,858.162 2726,944.902" fill="none" id="ClientController-GMN182" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--reverse link ClientController to Client--><g class="link" data-entity-1="ClientController" data-entity-2="Client" data-source-line="860" data-uid="lnk185" id="link_ClientController_Client"><path codeLine="860" d="M2222.89,658.072 C2358.14,658.072 2483.8,658.072 2483.8,658.072 C2483.8,658.072 2483.8,2252.342 2483.8,2780.132" fill="none" id="ClientController-backto-Client" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="2210.89,658.072,2216.89,662.072,2222.89,658.072,2216.89,654.072,2210.89,658.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="2218.6672" y="669.2854">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="2474.5485" y="2768.525">1</text></g><!--reverse link ClientController to User--><g class="link" data-entity-1="ClientController" data-entity-2="User" data-source-line="861" data-uid="lnk186" id="link_ClientController_User"><path codeLine="861" d="M1681.02,693.072 C1453.68,693.072 1171,693.072 1171,693.072 C1171,693.072 1171,774.102 1171,848.172" fill="none" id="ClientController-backto-User" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1693.02,693.072,1687.02,689.072,1681.02,693.072,1687.02,697.072,1693.02,693.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="1678.234" y="698.3597">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="1163.7895" y="836.8756">1</text></g><!--reverse link ClientController to ContactRepository--><g class="link" data-entity-1="ClientController" data-entity-2="ContactRepository" data-source-line="862" data-uid="lnk187" id="link_ClientController_ContactRepository"><path codeLine="862" d="M1681.22,493.072 C1189.79,493.072 182.08,493.072 182.08,493.072 C182.08,493.072 182.08,739.052 182.08,876.932" fill="none" id="ClientController-backto-ContactRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1693.22,493.072,1687.22,489.072,1681.22,493.072,1687.22,497.072,1693.22,493.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="1678.4399" y="492.4222">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="178.2424" y="865.3096">1</text></g><!--reverse link ClientController to GroupRepository--><g class="link" data-entity-1="ClientController" data-entity-2="GroupRepository" data-source-line="863" data-uid="lnk188" id="link_ClientController_GroupRepository"><path codeLine="863" d="M1681.41,560.072 C1261.34,560.072 489.11,560.072 489.11,560.072 C489.11,560.072 489.11,756.702 489.11,876.902" fill="none" id="ClientController-backto-GroupRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1693.41,560.072,1687.41,556.072,1681.41,560.072,1687.41,564.072,1693.41,560.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="1677.8172" y="561.8789">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="488.7127" y="865.277">1</text></g><!--reverse link ClientController to ConversationRepository--><g class="link" data-entity-1="ClientController" data-entity-2="ConversationRepository" data-source-line="864" data-uid="lnk189" id="link_ClientController_ConversationRepository"><path codeLine="864" d="M1681.27,626.072 C1325.02,626.072 739,626.072 739,626.072 C739,626.072 739,766.372 739,867.202" fill="none" id="ClientController-backto-ConversationRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1693.27,626.072,1687.27,622.072,1681.27,626.072,1687.27,630.072,1693.27,626.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="1677.6726" y="630.0445">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="731.7484" y="855.7637">1</text></g><!--reverse link ClientController to ClientPacketRouter--><g class="link" data-entity-1="ClientController" data-entity-2="ClientPacketRouter" data-source-line="865" data-uid="lnk190" id="link_ClientController_ClientPacketRouter"><path codeLine="865" d="M2222.93,453.072 C2518.6,453.072 2949.88,453.072 2949.88,453.072 C2949.88,453.072 2949.88,3569.072 2949.88,3569.072 C2949.88,3569.072 2824.09,3569.072 2709.72,3569.072" fill="none" id="ClientController-backto-ClientPacketRouter" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="2210.93,453.072,2216.93,457.072,2222.93,453.072,2216.93,449.072,2210.93,453.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="2218.7095" y="452.4338">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="2717.5799" y="3560.979">1</text></g><!--reverse link ClientController to MessageIdGenerator--><g class="link" data-entity-1="ClientController" data-entity-2="MessageIdGenerator" data-source-line="866" data-uid="lnk191" id="link_ClientController_MessageIdGenerator"><path codeLine="866" d="M2222.97,147.072 C2959.46,147.072 5001,147.072 5001,147.072 C5001,147.072 5001,3229.182 5001,3587.352" fill="none" id="ClientController-backto-MessageIdGenerator" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="2210.97,147.072,2216.97,151.072,2222.97,147.072,2216.97,143.072,2210.97,147.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="2218.7518" y="128.7432">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="4993.3232" y="3575.5904">1</text></g><!--reverse link ClientController to ClientEventListener--><g class="link" data-entity-1="ClientController" data-entity-2="ClientEventListener" data-source-line="867" data-uid="lnk193" id="link_ClientController_ClientEventListener"><path codeLine="867" d="M2222.81,351.072 C2546.57,351.072 3047,351.072 3047,351.072 C3047,351.072 3047,829.692 3047,943.742" fill="none" id="ClientController-backto-ClientEventListener" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="2210.81,351.072,2216.81,355.072,2222.81,351.072,2216.81,347.072,2210.81,351.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="2218.5825" y="344.5369">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="3008.4456" y="931.9511">many</text></g><!--reverse link ClientController to CryptoStrategy--><g class="link" data-entity-1="ClientController" data-entity-2="CryptoStrategy" data-source-line="868" data-uid="lnk194" id="link_ClientController_CryptoStrategy"><path codeLine="868" d="M2222.76,249.072 C2576.26,249.072 3154.76,249.072 3154.76,249.072 C3154.76,249.072 3154.76,5509.072 3154.76,5509.072 C3154.76,5509.072 4833.44,5509.072 5269.5,5509.072" fill="none" id="ClientController-backto-CryptoStrategy" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="2210.76,249.072,2216.76,253.072,2222.76,249.072,2216.76,245.072,2210.76,249.072" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ContactRepository to Contact--><g class="link" data-entity-1="ContactRepository" data-entity-2="Contact" data-source-line="870" data-uid="lnk195" id="link_ContactRepository_Contact"><path codeLine="870" d="M142,1070.722 C142,1114.582 142,1155.992 142,1204.022" fill="none" id="ContactRepository-backto-Contact" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="142,1058.722,138,1064.722,142,1070.722,146,1064.722,142,1058.722" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="133.995" y="1080.9322">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="105.9314" y="1192.5419">many</text></g><!--reverse link GroupRepository to Group--><g class="link" data-entity-1="GroupRepository" data-entity-2="Group" data-source-line="871" data-uid="lnk196" id="link_GroupRepository_Group"><path codeLine="871" d="M425.97,1070.722 C425.97,1106.022 425.97,1135.512 425.97,1175.392" fill="none" id="GroupRepository-backto-Group" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="425.97,1058.722,421.97,1064.722,425.97,1070.722,429.97,1064.722,425.97,1058.722" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="423.163" y="1080.9322">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="387.6603" y="1164.2439">many</text></g><!--reverse link ConversationRepository to Conversation--><g class="link" data-entity-1="ConversationRepository" data-entity-2="Conversation" data-source-line="872" data-uid="lnk197" id="link_ConversationRepository_Conversation"><path codeLine="872" d="M811.32,1080.262 C811.32,1122.202 811.32,1159.462 811.32,1204.072" fill="none" id="ConversationRepository-backto-Conversation" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="811.32,1068.262,807.32,1074.262,811.32,1080.262,815.32,1074.262,811.32,1068.262" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="822.8728" y="1089.9354">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="767.5323" y="1192.5949">many</text></g><!--reverse link Conversation to Message--><g class="link" data-entity-1="Conversation" data-entity-2="Message" data-source-line="873" data-uid="lnk198" id="link_Conversation_Message"><path codeLine="873" d="M955,1474.472 C955,1502.072 955,1520.132 955,1550.602" fill="none" id="Conversation-backto-Message" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="955,1462.472,951,1468.472,955,1474.472,959,1468.472,955,1462.472" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="947.3241" y="1484.321">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="920.4442" y="1538.9293">many</text></g><!--reverse link ClientPacketRouter to ClientPacketHandler--><g class="link" data-entity-1="ClientPacketRouter" data-entity-2="ClientPacketHandler" data-source-line="875" data-uid="lnk199" id="link_ClientPacketRouter_ClientPacketHandler"><path codeLine="875" d="M2527,3705.192 C2527,3750.172 2527,3795.512 2527,3838.522" fill="none" id="ClientPacketRouter-backto-ClientPacketHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="2527,3693.192,2523,3699.192,2527,3705.192,2531,3699.192,2527,3693.192" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="2518.7498" y="3714.4368">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="2490.9354" y="3826.8362">many</text></g><!--reverse link Client to PacketProcessor--><g class="link" data-entity-1="Client" data-entity-2="PacketProcessor" data-source-line="876" data-uid="lnk200" id="link_Client_PacketProcessor"><path codeLine="876" d="M2527,3126.852 C2527,3221.342 2527,3317.752 2527,3365.062" fill="none" id="Client-backto-PacketProcessor" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="2527,3114.852,2523,3120.852,2527,3126.852,2531,3120.852,2527,3114.852" style="stroke:#181818;stroke-width:1;"/></g><!--link Client to Packet--><g class="link" data-entity-1="Client" data-entity-2="Packet" data-source-line="882" data-uid="lnk201" id="link_Client_Packet"><path codeLine="882" d="M2718.35,3114.902 C2718.35,3443.652 2718.35,4142.072 2718.35,4142.072 C2718.35,4142.072 3370.89,4142.072 3670.58,4142.072" fill="none" id="Client-to-Packet" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="3676.58,4142.072,3667.58,4138.072,3671.58,4142.072,3667.58,4146.072,3676.58,4142.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="2690.35" y="4103.499">uses</text></g><!--link TchatsAppServer to Packet--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="Packet" data-source-line="883" data-uid="lnk202" id="link_TchatsAppServer_Packet"><path codeLine="883" d="M6078.81,3176.072 C5964.38,3176.072 5844.92,3176.072 5844.92,3176.072 C5844.92,3176.072 5844.92,4118.072 5844.92,4118.072 C5844.92,4118.072 4437.32,4118.072 3973.48,4118.072" fill="none" id="TchatsAppServer-to-Packet" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="3967.48,4118.072,3976.48,4122.072,3972.48,4118.072,3976.48,4114.072,3967.48,4118.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="5466.15" y="4113.969">uses</text></g><!--link MessageFactory to MessageType--><g class="link" data-entity-1="MessageFactory" data-entity-2="MessageType" data-source-line="884" data-uid="lnk203" id="link_MessageFactory_MessageType"><path codeLine="884" d="M4385.03,3953.852 C4385.03,4140.262 4385.03,4754.072 4385.03,4754.072 C4385.03,4754.072 5111.45,4754.072 5404.71,4754.072" fill="none" id="MessageFactory-to-MessageType" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="5410.71,4754.072,5401.71,4750.072,5405.71,4754.072,5401.71,4758.072,5410.71,4754.072" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="4469.76" y="4749.969">uses</text></g><!--link ServerPacketRouter to MessageFactory--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="MessageFactory" data-source-line="887" data-uid="lnk205" id="link_ServerPacketRouter_MessageFactory"><path codeLine="887" d="M6401.79,3696.072 C5871.8,3696.072 4386.94,3696.072 4386.94,3696.072 C4386.94,3696.072 4386.94,3781.152 4386.94,3841.802" fill="none" id="ServerPacketRouter-to-MessageFactory" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4386.94,3847.802,4390.94,3838.802,4386.94,3842.802,4382.94,3838.802,4386.94,3847.802" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="5290.5" y="3691.969">uses</text></g><!--link ClientPacketRouter to MessageFactory--><g class="link" data-entity-1="ClientPacketRouter" data-entity-2="MessageFactory" data-source-line="888" data-uid="lnk206" id="link_ClientPacketRouter_MessageFactory"><path codeLine="888" d="M2709.93,3674.072 C3130.14,3674.072 4128.5,3674.072 4128.5,3674.072 C4128.5,3674.072 4128.5,3774.932 4128.5,3841.922" fill="none" id="ClientPacketRouter-to-MessageFactory" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4128.5,3847.922,4132.5,3838.922,4128.5,3842.922,4124.5,3838.922,4128.5,3847.922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="3478.14" y="3669.969">uses</text></g><!--link TchatsAppServer to MessageFactory--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="MessageFactory" data-source-line="890" data-uid="lnk207" id="link_TchatsAppServer_MessageFactory"><path codeLine="890" d="M6078.74,3145.072 C5570.84,3145.072 4300.79,3145.072 4300.79,3145.072 C4300.79,3145.072 4300.79,3670.252 4300.79,3841.952" fill="none" id="TchatsAppServer-to-MessageFactory" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4300.79,3847.952,4304.79,3838.952,4300.79,3842.952,4296.79,3838.952,4300.79,3847.952" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="4810.32" y="3140.969">uses</text></g><!--link Client to MessageFactory--><g class="link" data-entity-1="Client" data-entity-2="MessageFactory" data-source-line="891" data-uid="lnk208" id="link_Client_MessageFactory"><path codeLine="891" d="M2727.64,2947.072 C3174.91,2947.072 4214.65,2947.072 4214.65,2947.072 C4214.65,2947.072 4214.65,3641.422 4214.65,3841.812" fill="none" id="Client-to-MessageFactory" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4214.65,3847.812,4218.65,3838.812,4214.65,3842.812,4210.65,3838.812,4214.65,3847.812" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="3893.51" y="2942.969">uses</text></g><!--SRC=[tJtRSjl8Zk_v2bRoCBGZUMfI-wIJurEAJ6TqnhAq4fsTxDPMYXRRDYSKgSEBOqqc_xFPv_q3_zYYBoJxWYOfnpwRMJzCR3RGZKO3Q02Dxia_Hiaso8AD4qS9ANPRugHPSPC-UxODrX-3Q-8yNwURJPeyTpu_S-27_US7vw_qnrcC9xzulhFobnSJ_sBfySyCP1q7UUuie1DI25JwCtGkowihaesSDxk2l66_Evyp4eJp9DvzQU26zQyldQiitRW78oTA2kbhaPhVji4kJeDm5VrEpCODoNEOaG-Jf8spvay9w9eK2zu9XMc8L45cQHXTHS5bJBg0Wxpvt04qph9WHs4kuO__-4-f_LCM5SHFtJ3DHyv9K0JpijYMnQe0ncq0uJQDGWdySru4HRJ-ub2-dbBcXP50d2Oo7byUXibPdwG5SIxJeaWtJdebjzEVmqF0BDT5cH4d94xy0qc6nVr_5sHqU5W3dNddR_sVtNyvSFvm_FSBZ_zskfpFnBSv_tSnVdys7vymF9A4REXdXkYyAQCuf2AYIX3AHqLc57HNaWic5GSIP4PoKfWG8xKB2G706LEfMFQ0XNKhqXvmaZowL14L2Mr7hOHGJAAIe1QagoYEsIGk5LwsOFHGZ2XVWi1n4KxJc0I9qZX9DzkO52J40IxfaAvLAejqsuYaJjxXuI8e2f8bG1blaYHIbIII5qwP42vbX2uBe167gSm_IYRO4W6gPAez3OV7bO4REMjGgOBaLXkvMCudtcerNqesaerz5Qoh4HTPkeObJsLn1vl6lxh2V05_ihH8rsain4FMVubVMNHzKpGSg_l6U0Pg3SHVxmJJwaaRavd15CPlFQROAsac92atihXA4_2zN_twZvbtCXtNVqsMtjZtFboilAN-xUroVh6eFruiJkZ7nSgxE9dNNySd9nycytD_FF6LRmptmyoRlP7wNNgp-JiFRnFTyxRpySohMqwyCy-WvimRlzE_2SPy0Eed_dH-NZUSp_tfwNGoLZvwiuN_llbhkPml9OHp3pTfjLcdXcUQ56vKMHLyArFWgSAwbzmoM36Ab869BKXf0169aclQn7-Jn4qLz-NSdq_cPxMeD48INEOWP-kYCl2g64iYyqBUgd5QNpYrzPM-2JjhOLyr_XU0uqgXMHi3ZeuX8BVidmhSt7ElLGFUvb-SekxCDTif3lGfOPkDClGBOuyncxks5ir-IBkmJ-ugR0T-1SlGjd33Qk6ceI8dl6sTWhrB2gGb8zjuvwUp5kGYWgwBOBCTEN4gjyXBB57h7YYyJGYrSEVaKps6MvFwbhUcMSqMwLlRIaz3JHzgW0cVggrvgSqNXSkRRZJEcJJbI9-2gGqtqQdu5Lyf3GfdNxQhII_TGBrAQPMapUWqpJP1KNdmiaTPBzGVjH3yKK_EJSeufexumH-2IvOjZClpZ8HHy5W2lQ6TSHk5j-6IV5DkBfCWYga_RZZxjJ8yN0laEMfgq2svCqwthTcNYKTZbSSI6ddHWWHeti3QxhDoBAo5i6SMR5_pgGoS-ULlP5qSM_Yc3wCpRq5xT3-IdQHHl4S4RfmpSoj13-XqVlzzv4peh5xxnu3kor5W61eZ39pR82v9DGxTLdGgbL1cazuIZCmsh2TIS_kGRSeEPF_qLpRdd_u2lx_Ylx_woz7HKQjYG-InBg8qsKT2YY2JLGBHD-3dRn7oFSh7OMW6COeuQHJfmkIhWziKpgCKe8sC1ZoKUW8TF4-Bw2fQ1_loE97mBAOoP7PG_oop4XbSOUUZpbUFTS2ZVJSzyPQEkoBPRRGcPo2o42gZWPoW3ZXo6wbv2xxehRuXZo6d2LZuPCtWDCvQOpnjM3J6uyGxDMdktuFRm57d92bY4pwJR0CXRXmuuVtNTLhUaWo63afGypfapXtgLkOqU1ORPdxKT92McRE-2IXeGl7Z6EBjjCo78WOFYJxHKOtyqv4poUw_0hrIqFxhtPtEw8Zc5gYnoQtCU7NaZ7zBIs274rDADk2Hiem4IsO5LUTXaEJD-2osyyV3wVdfZpddLVxZLNPKNWT7qUPLS0s6oJPW4nroW5Cm26csexm0tSy2cOcKT93ZCWVQSXhpiwxokekWfEpV15b6DUmsqbQktJXA7bSFXidwEtmg-MtRthz76YMVwZiaJzjhlaCA4HF-NL69gSZHqR4I0AjPFhlOKZpJPzMmCO5YY7A4ekBOLfcYwVwFYjd6VOgDxUujESrgQpmTJ_pvyhrnxAFPEzaVaCuchgEyo7RSGPTMSU2iokqsZaZsMbkpu-CUYJ7RLe-jluREvsjcI0PDicdWIBdy_JPdmGriRwuOzL8rwjPqhCPVBZRggj80CG3VpDWfxAivFN7UUkVUSknRijHcTaJpRtYM1PpP4hPAwb1pZgb1AvP2v6ApkWdalaspW8zCCqib9NBaZ64_ZTPdrj1O7K7n8RKc83Wh9bM_ZEvldIgdjKBzESXlMf47pRHiRDCZBeDBtvJizyudo_SBchX6fM6IxROiBynwKoI196lQw8PIXWFB5OIa2yuy05A7VT04kRIDlPKs1KdWh9CREZom1if9yGlPuN9czEsgM0TFo2nfYjuhxq5Jt6RHBNpzXTAyg7-N0ShBE5h3Dv5VcO9KW4SxS1PLWyLK6nIv-5W7MbwawbRLc9gCKJEmcULy4WQt7sQSa7NApLHtZFo23aoXIJYp7F5PZhWjOxgR_Dey9NpKSFcfpZpGyqlBD37LhnixTD_Z8b5ptBPCpJegsuqYmIERIQ9fedgWZcIHJX2wXWCniZxYKwnjfGojdfCqFpqH9QcAmMnwS8xmJDbybjvYlffgtcMp-Ip9DiqZwlsyze-LlGUiXHiL1DmrtvnLkGsfXsTj3majKEXgVxE3VJyAfQIi1dOL9Q49v6iGupYcN3i3DnWcOTdkcebYyjwqxkChwhP8ZqnCXAhA0Qml1zAxe4igA_-NPy_4IlRy0N1QAK7zq9MtVESjzyMlwzLebePaQBrQfuVRmxN5hLLChfYn-bRVIpZ2v1ybxD5H45lyuPwEiDYMBRumDWZtUuqQgRRvAnoUpC_FFLO1uQpyiMzM14xI924iKbr1r4KKBgzl0cYCWKqfbRS9_zFv3CeIn5zaG8WEaqAu0V9ttZa9np057lmN23ejYtk3b24QW1199JGmbioty_asZI5SZ8b2K9bb0BfGZAfUfAHmN-E3kzPcVM2JC0snAPonrpFvmDWY7s-tAwOQJKqCsMRtNtCWd1RptNy552VyWULPwI1tC8PWTKUam3MMBZwjzZ7Md0_B3hFl2bjA1yW8ET_yTC86TRSVMvqFBf8J8GjTReH2X8rhBSmwJSiiYGedMA_l_ojtWlBEkKeJjX0WDL41Z7IOwIaRd2tDVDDyBgnf6DDqhcGK_Fd9V7HuMEUafOx3-w_R-_y1FIz1qA8SPbbc-O_NMLfkXVtjN8lPU7hkJCx6gvMn7DeCyVJCRFphXzdgxOVLzDyzhQYc0NfpSNhgBJ_maayTQdhYdVlJq_SV_EdCcr_uUZlDLzsIHfoherfP2mQwk1-hzIHSsxa8wA586oP3-DUIb4J7OXzVDrP1pZavMxMKRcIjhGFNJouhmNQ5eVCfpJw2J8mSxuwiIsWJUHe995_VaB2CgQ5QYL_35cZmJjPim9NuJMwaXht3a0sv15TQCh8eZLfpeqgJkqt5_Z4G4_HlgBtDZJs54UGYjIpW-RXeYOl6RNUxDLO0nQjCHBFBWV5GLWL3gynHkndYH-x2O2dxaWvB9NvDmAKMgO2O2oSIiWxP3jKNJb2fLKKFs0u0eQIc1cOVhBYyps2Y4BMEK7hKerRgbkP4QBIR6piT3a-3_Hv4VGe-aX9aBmcPvhgu3z5nr2jifYZL_NbyVdBcBLVsqaKkwfpnFtFJRjlMf6f2lWdO8ZjKvP3Q_gQ_TP3mmT6QFaimPXm8LlHN4V0UStkK2Nt3BEIZaZsdmUkpLg3wJ8Hdqb_THLMYF_2L4VI3xuX1rQ7GdtYDtrAdfpbCstUPcS-ax_6ipsbobHxhaDFENVl_a3TLyec6wcmARX1kegJEXYR1XaWbNvgt5OOpiha4gHKJ5KWRzh7-CwD1OLxKNx0jXsvuZzCNJwVmkQXTjU5-CSFbHWYMt9cMOcNxtOfXxPUBB0mYJSVVv1oPbBaMkL0pM9M54VIDC3ct-I8FmttWBPFcyCcSAfO0WVquIdXUAz-2pnzTGe1JT9z5iTiMplJyT6w4CxKsgnaRIPoGo5xM7AIPIt9EULTKTkDOQfTL3L_vcYfDi5jKLXK1eM6AJjcMl1zib0iuwGp5SbLhJAdiXBicnJbCm5QzpjeqezHUS7So7JihVxvKxut81z3DFgkiDjs92MjrjSBhWQCTvnWC131oYoFZfqJKPjd0zQEdEp0hETPjsvvt2a7PQWVMRwDCM3aFHnanT2w3d9n4B38jRd39n7jt5So3_uUyrPpz-e1XwfafaWkG_2QtBdDU-YhpdQgAxcRGJZGlOwWTL52qKGreFQ_e0XF75lt07dXwKNNRSeYXJXXtvVRYQc_lJUShGnmre5RETWCAtlO5V21twtvRsAjDtE1lnNv3C6tx78JqEId3r79N2s87smweCBmQLpkRLxhMYjyPIeWU22yOdcrF4QrQvmQJGGOcV0Qkc4d73jeNMjpjegnX9EhCaIiAjJJhyv-UEuV3eVDy4oIxvsWUtue2_vhUfWwT0gGUis0mMD8ISQ4rUX4lqeP93mDDSYsHd3QCgWWM76ocM3A0mXcXlMRRjV4LCwTRB2kjttBSEJcRUkV-WuyxUSuHFUwa5wiTzonT1p6zLKOVEaWALkDvWEvuZs4ui9ASFIgBTBlo7TaKsazTXdI0JO_r1XyMGPIv62C6blbtECRYaZjsbaejaNO2B1kmHrmv6B5O4POtvmUhrdDDn91sBDsa0jvtzVWktdC1EV2Pc8Vxu1LkO3vQAy- -s49OD7erdHxx-k6XPtj0E-m8QCt8LOjQvK7L65PRIMuIyNLySAnOzp3c0wEzyzWMtvMVDAZk5olt2BvRxg2vT0CZeHDJMnxl3cmLz-rNbn6vC5zH69glABJSt9Tgbctr5aFnBWoMp6oxwvo9vBLsXLTUt6CzeJykm8xSR1YjREEt9VEL8omveZKh_GVwzFUzKht7Umzz7WzGRkphjlYbimcoZsF6S1UJrgh1bD3c3G6JBwWsBkix-1Ybe6tLyOEhNACTEAeAeCht85H6an0QLetQAJRYuIL5SdX6GSYFfUXLHJYGXSsQsB8cjFHBeXrNy6VLgmETT_JH-_cgW1dDKSwkYLZgEVMBBRA6ILbUY2tkTlAROC7lEtOVXHeXUbjqS_yLKFEk6zqnvu-U-38FylP-dg5-X05vWA5MTxr5kzqTMv9YnhW3lSk3Fys2wwUjR6N_sGkILRmUDMmtgddeimfrgHf-VCk8xxLU1ZK3RPG_mmeAlntQkA1Q_5DfNMdWtgXTNHRif0beBSIy8OR06GBGuimkvmoLQub5UN3rLGzktddBrLYxPrH7EBVWrB6OLGzpweOshvVVHLUtWkeseGaupqAQGULdWGpwM75Ztl8aO6iblqooYv0vCFen3dwa6m2McXhPyK1tQxDMlq78wuoYmGaUI2Uqh8ZTVKCUqQJkHHnRFGnfswyV8yByh7xxEXOCitH9U_fUn9DxvPgRZATUHKW_j-IQ1UAe0hNcchi1HQwvB-03SysYrvPCipBf9ytZzypXzyhVzyhTFqNUlYjdR-6ZR2ds5TKQ4P7NkgrTQ6kmaOBK9hwzKHf1tXFbuI9TTzqkrmXpcD6RPnD- -pkoccba6CG-UU-eUNfpOLebxnOMzKsPumNNaNYhO5J3oPKdvMM-pgAjM76WGzmueBU8wVhp9wN-LjT5iJwEgJXiT_FatsY99tjUcB61DQwaBb__xLY9fOaeCMuhJOxJwsksMR9_CKaRrZDHBbhNCmQkomyq6DD-wRpsjGbLZBWaBg4VkDTMlQSrSD9BNgCZUfkBF_bRM-Qq_UEd6GnyoZGa5VVecmhmvp-PWgieBkgMK_R7Or9M9WrjidJYNPbwRFR8yi_v3PyfUliklocBCFrafcw7I7ViuQbTnP8UD89FWeoCrZePeYfVyG9_1YmP-AildMfqUbcNpuvamrN5D_cDuXF2luLW1y0K5X0AqDzuqC6fPIKRHzjo4oCl4tCddExRMHh7ubMFsk185_SmNwfttJCVnLPj-KABaHfgB9wosPjhw-5WxvBgfogTvfIr552tCwbl0UcZ5j5oajhAfRzRecqbpDylbwsrojyjoOzGEOlCxRXRwqL9R5VnAz9vx-BNNhZx5xzYPbIw-se4f3n7yjd8MkbtME5xSbTTNZ7lthJVEUlted7RiYXBWLvgCc_RkZTfNZIHV7t_2pra2AEyGjlZpXLwM67EZ5_hwlE6CtQPhCTTClh_C11t3brRHIns7xMIK9OVwraDMQ_vagn9T4iwRgErYgM_d9_1pcuHIybh-DmZhLfTThwegmtDB4eJk8xCP8oU6921jTo29UZLkaU-ou4As2Sg2QgfOhxHcMWoxtXoopH2hDKtw5llXqDCnMpMoDr31VMysfxwIAMvMMltG5jjPgmh5heLcokUAGoscUk7ObDB8J_sRZsgHQiD-k4E7Em5TRGxvSNjkZznZbWT81Z735sdfcZok2kLsdcW-aYzxb5XATzOQY_nW4vvnL_dxIBRD1-C3dfnYzn4ikMf-a0gnKa9-RJeBZ2pijJCsLR5DZeHUaQIzzfw965FeD7Bq-fpNRd5U9aXEG_0XLPKcrZhgKQ5KydgEAIdMWy-F92xP5ovO0lIdbck4Bmi0wU0qF_QhwzeQG5hsAi-zHY4H8hygtSbwBCRJM50Jjtmw2gw_qhuAn85tNpuuy3fzlvhnfE__PxdM7fdx7XjLRa4ZHzWU01ooR6qyxV2rRj2Us-e7z2AWda3NMFOd84UCpMs-LOSoqwFugHItRUvl-5u5CVsIfPvm6LMbzVseayLSzKhTY1XTgsQ2kMGLWEMpo6bQROLcYCHcuI9Lh0_fFowKGhGYALNbMElzkr9a6K-awMNtfiGzcTSsVz3Iq1rFRNr3Ad0bxggUXUz8Vot0wDpQEkt1U1_0G00]--></g></svg>