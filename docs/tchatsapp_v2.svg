<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="2898.5px" preserveAspectRatio="none" style="width:3891px;height:2898px;background:#FFFFFF;" version="1.1" viewBox="0 0 3891 2898" width="3891.5px" zoomAndPan="magnify"><defs/><g><!--cluster common--><g class="cluster" data-entity="common" data-source-line="4" data-uid="ent0002" id="cluster_common"><path d="M1312.75,1746.221 L1343.8119,1746.221 A1.875,1.875 0 0 1 1345.0619,1747.471 L1348.5619,1758.7549 L2647.75,1758.7549 A1.25,1.25 0 0 1 2649,1760.0049 L2649,2893.786 A1.25,1.25 0 0 1 2647.75,2895.036 L1312.75,2895.036 A1.25,1.25 0 0 1 1311.5,2893.786 L1311.5,1747.471 A1.25,1.25 0 0 1 1312.75,1746.221" fill="none" style="stroke:#000000;stroke-width:0.75;"/><line style="stroke:#000000;stroke-width:0.75;" x1="1311.5" x2="1348.5619" y1="1758.7549" y2="1758.7549"/><text fill="#000000" font-family="sans-serif" font-size="7" font-weight="bold" lengthAdjust="spacing" textLength="30.5619" x="1313.5" y="1754.704">common</text></g><!--cluster server--><g class="cluster" data-entity="server" data-source-line="334" data-uid="ent0087" id="cluster_server"><path d="M2662.25,1280.701 L2684.8769,1280.701 A1.875,1.875 0 0 1 2686.1269,1281.951 L2689.6269,1293.2349 L3886.75,1293.2349 A1.25,1.25 0 0 1 3888,1294.4849 L3888,2522.041 A1.25,1.25 0 0 1 3886.75,2523.291 L2662.25,2523.291 A1.25,1.25 0 0 1 2661,2522.041 L2661,1281.951 A1.25,1.25 0 0 1 2662.25,1280.701" fill="none" style="stroke:#000000;stroke-width:0.75;"/><line style="stroke:#000000;stroke-width:0.75;" x1="2661" x2="2689.6269" y1="1293.2349" y2="1293.2349"/><text fill="#000000" font-family="sans-serif" font-size="7" font-weight="bold" lengthAdjust="spacing" textLength="22.1269" x="2663" y="1289.184">server</text></g><!--cluster client--><g class="cluster" data-entity="client" data-source-line="553" data-uid="ent0139" id="cluster_client"><path d="M4.25,3.301 L24.3079,3.301 A1.875,1.875 0 0 1 25.5579,4.551 L29.0579,15.8349 L1298.25,15.8349 A1.25,1.25 0 0 1 1299.5,17.0849 L1299.5,2128.021 A1.25,1.25 0 0 1 1298.25,2129.271 L4.25,2129.271 A1.25,1.25 0 0 1 3,2128.021 L3,4.551 A1.25,1.25 0 0 1 4.25,3.301" fill="none" style="stroke:#000000;stroke-width:0.75;"/><line style="stroke:#000000;stroke-width:0.75;" x1="3" x2="29.0579" y1="15.8349" y2="15.8349"/><text fill="#000000" font-family="sans-serif" font-size="7" font-weight="bold" lengthAdjust="spacing" textLength="19.5579" x="5" y="11.784">client</text></g><!--class Packet--><g class="entity" data-entity="Packet" data-source-line="7" data-uid="ent0003" id="entity_Packet"><rect fill="#F1F1F1" height="157.4754" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="254.4361" x="1511.78" y="2020.996"/><ellipse cx="1626.0056" cy="2028.996" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1625.7399,2032.4569 Q1624.8649,2032.4569 1624.2946,2032.0897 Q1623.7321,2031.7147 1623.4509,2031.0429 Q1623.1774,2030.3632 1623.1774,2029.4647 Q1623.1774,2028.4491 1623.5056,2027.7226 Q1623.8337,2026.996 1624.4743,2026.6054 Q1625.1149,2026.2147 1626.0524,2026.2147 Q1626.4978,2026.2147 1626.8337,2026.3085 Q1627.1696,2026.3944 1627.5134,2026.5663 L1627.1071,2027.5741 Q1626.7946,2027.4179 1626.5212,2027.3554 Q1626.2556,2027.2929 1626.0134,2027.2929 Q1625.4274,2027.2929 1625.0759,2027.5585 Q1624.7243,2027.8241 1624.5759,2028.3007 Q1624.4274,2028.7772 1624.4274,2029.4101 Q1624.4274,2030.4179 1624.7868,2030.9022 Q1625.1462,2031.3788 1625.9431,2031.3788 Q1626.2399,2031.3788 1626.5524,2031.3007 Q1626.8649,2031.2226 1627.279,2031.0351 L1627.279,2032.1444 Q1626.9118,2032.3007 1626.5134,2032.3788 Q1626.1228,2032.4569 1625.7399,2032.4569 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="21.7349" x="1636.2556" y="2031.712">Packet</text><line style="stroke:#181818;stroke-width:0.25;" x1="1512.28" x2="1765.7161" y1="2036.996" y2="2036.996"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1515.78" y="2043.013"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="96.4876" x="1521.78" y="2046.479">buffer: ByteBuffer {readOnly}</text><line style="stroke:#181818;stroke-width:0.5;" x1="1512.28" x2="1765.7161" y1="2050.5299" y2="2050.5299"/><ellipse cx="1517.28" cy="2058.0469" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="32.6339" x="1521.78" y="2060.0129">from(): int</text><ellipse cx="1517.28" cy="2067.5809" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="23.3169" x="1521.78" y="2069.5469">to(): int</text><ellipse cx="1517.28" cy="2077.1148" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="55.5168" x="1521.78" y="2079.0808">payloadSize(): int</text><ellipse cx="1517.28" cy="2086.6488" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="97.8876" x="1521.78" y="2088.6148">messageType(): MessageType</text><ellipse cx="1517.28" cy="2096.1828" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="79.8067" x="1521.78" y="2098.1488">getPayload(): ByteBuffer</text><ellipse cx="1517.28" cy="2105.7167" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="114.7016" x="1521.78" y="2107.6827">getModifiablePayload(): ByteBuffer</text><ellipse cx="1517.28" cy="2115.2507" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="85.4277" x="1521.78" y="2117.2167">asByteBuffer(): ByteBuffer</text><ellipse cx="1517.28" cy="2124.7846" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="66.4788" x="1521.78" y="2126.7506">asByteArray(): byte[]</text><ellipse cx="1517.28" cy="2134.3186" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="124.8375" x="1521.78" y="2136.2846">writeTo(dos: DataOutputStream): void</text><ellipse cx="1517.28" cy="2143.8526" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" text-decoration="underline" textLength="132.1945" x="1521.78" y="2145.8185">readFrom(dis: DataInputStream): Packet</text><ellipse cx="1517.28" cy="2153.3865" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" text-decoration="underline" textLength="197.0703" x="1521.78" y="2155.3525">createTextMessage(from: int, to: int, content: String): Packet</text><ellipse cx="1517.28" cy="2162.9205" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" text-decoration="underline" textLength="213.3661" x="1521.78" y="2164.8865">createMediaMessage(from: int, to: int, mediaData: byte[]): Packet</text><ellipse cx="1517.28" cy="2172.4544" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" text-decoration="underline" textLength="241.4361" x="1521.78" y="2174.4204">createEmptyPacket(from: int, to: int, messageType: MessageType): Packet</text></g><g class="entity" data-entity="GMN4" data-source-line="25" data-uid="ent0005" id="entity_GMN4"><path d="M1319.495,2261.556 L1319.495,2284.262 L1484.5002,2284.262 L1484.5002,2266.556 L1479.5002,2261.556 L1319.495,2261.556" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M1479.5002,2261.556 L1479.5002,2266.556 L1484.5002,2266.556 L1479.5002,2261.556" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="71.1685" x="1322.495" y="2271.0045">Structure de l'en-tÃªte:</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="154.5052" x="1322.495" y="2279.8575">LENGTH(4) | TYPE(4) | FROM(4) | TO(4) | PAYLOAD</text></g><!--class PacketBuilder--><g class="entity" data-entity="PacketBuilder" data-source-line="29" data-uid="ent0007" id="entity_PacketBuilder"><rect fill="#F1F1F1" height="138.4075" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="183.9324" x="1547.035" y="1852.591"/><ellipse cx="1614.1928" cy="1860.591" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1613.9272,1864.0519 Q1613.0522,1864.0519 1612.4818,1863.6847 Q1611.9193,1863.3097 1611.6381,1862.6379 Q1611.3647,1861.9582 1611.3647,1861.0597 Q1611.3647,1860.0441 1611.6928,1859.3176 Q1612.0209,1858.591 1612.6615,1858.2004 Q1613.3022,1857.8097 1614.2397,1857.8097 Q1614.685,1857.8097 1615.0209,1857.9035 Q1615.3568,1857.9894 1615.7006,1858.1613 L1615.2943,1859.1691 Q1614.9818,1859.0129 1614.7084,1858.9504 Q1614.4428,1858.8879 1614.2006,1858.8879 Q1613.6147,1858.8879 1613.2631,1859.1535 Q1612.9115,1859.4191 1612.7631,1859.8957 Q1612.6147,1860.3722 1612.6147,1861.0051 Q1612.6147,1862.0129 1612.974,1862.4972 Q1613.3334,1862.9738 1614.1303,1862.9738 Q1614.4272,1862.9738 1614.7397,1862.8957 Q1615.0522,1862.8176 1615.4662,1862.6301 L1615.4662,1863.7394 Q1615.099,1863.8957 1614.7006,1863.9738 Q1614.31,1864.0519 1613.9272,1864.0519 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="45.3668" x="1624.4428" y="1863.307">PacketBuilder</text><line style="stroke:#181818;stroke-width:0.25;" x1="1547.535" x2="1730.4674" y1="1868.591" y2="1868.591"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1551.035" y="1874.608"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="49.8608" x="1557.035" y="1878.074">buf: ByteBuffer</text><line style="stroke:#181818;stroke-width:0.5;" x1="1547.535" x2="1730.4674" y1="1882.1249" y2="1882.1249"/><ellipse cx="1552.535" cy="1889.6419" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="100.8836" x="1557.035" y="1891.6079">PacketBuilder(payloadSize: int)</text><ellipse cx="1552.535" cy="1899.1759" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="121.2465" x="1557.035" y="1901.1419">reset(payloadSize: int): PacketBuilder</text><ellipse cx="1552.535" cy="1908.7098" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="108.8286" x="1557.035" y="1910.6758">setFrom(from: int): PacketBuilder</text><ellipse cx="1552.535" cy="1918.2438" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="90.3346" x="1557.035" y="1920.2098">setTo(to: int): PacketBuilder</text><ellipse cx="1552.535" cy="1927.7778" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="170.9324" x="1557.035" y="1929.7438">setMessageType(type: MessageType): PacketBuilder</text><ellipse cx="1552.535" cy="1937.3117" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="137.8225" x="1557.035" y="1939.2777">setPayload(payload: byte[]): PacketBuilder</text><ellipse cx="1552.535" cy="1946.8457" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="123.9275" x="1557.035" y="1948.8117">fillFrom(bf: ByteBuffer): PacketBuilder</text><ellipse cx="1552.535" cy="1956.3796" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="79.8067" x="1557.035" y="1958.3456">getPayload(): ByteBuffer</text><ellipse cx="1552.535" cy="1965.9136" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="59.9408" x="1557.035" y="1967.8796">isReady(): boolean</text><ellipse cx="1552.535" cy="1975.4476" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="75.8797" x="1557.035" y="1977.4135">isCompleted(): boolean</text><ellipse cx="1552.535" cy="1984.9815" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="46.1788" x="1557.035" y="1986.9475">build(): Packet</text></g><g class="entity" data-entity="GMN8" data-source-line="45" data-uid="ent0009" id="entity_GMN8"><path d="M1570.825,1770.636 L1570.825,1793.342 A0,0 0 0 0 1570.825,1793.342 L1648.895,1793.342 L1650.895,1852.431 L1652.895,1793.342 L1749.1747,1793.342 A0,0 0 0 0 1749.1747,1793.342 L1749.1747,1775.636 L1744.1747,1770.636 L1570.825,1770.636 A0,0 0 0 0 1570.825,1770.636" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M1744.1747,1770.636 L1744.1747,1775.636 L1749.1747,1775.636 L1744.1747,1770.636" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="51.4215" x="1573.825" y="1780.0845">Pattern: Builder</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="167.8497" x="1573.825" y="1788.9375">PacketBuilder est une classe interne statique de Packet</text></g><!--class PacketProcessor--><g class="entity" data-entity="PacketProcessor" data-source-line="52" data-uid="ent0012" id="entity_PacketProcessor"><rect fill="#F1F1F1" height="33.534" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="150.0245" x="1319.49" y="1765.221"/><ellipse cx="1367.1108" cy="1773.221" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1365.1265,1776.471 L1365.1265,1775.6194 L1366.3062,1775.4866 L1366.3062,1771.3851 L1365.1265,1771.2522 L1365.1265,1770.4007 L1368.6968,1770.4007 L1368.6968,1771.2522 L1367.4858,1771.3851 L1367.4858,1775.4866 L1368.6968,1775.6194 L1368.6968,1776.471 L1365.1265,1776.471 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="50.5328" x="1377.3608" y="1775.937">PacketProcessor</text><line style="stroke:#181818;stroke-width:0.25;" x1="1319.99" x2="1469.0145" y1="1781.221" y2="1781.221"/><line style="stroke:#181818;stroke-width:0.25;" x1="1319.99" x2="1469.0145" y1="1785.221" y2="1785.221"/><ellipse cx="1324.99" cy="1792.738" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="137.0245" x="1329.49" y="1794.704">process(message: ProtocolMessage): void</text></g><g class="entity" data-entity="GMN13" data-source-line="56" data-uid="ent0014" id="entity_GMN13"><path d="M1486.84,1775.061 L1486.84,1780.036 L1469.675,1782.036 L1486.84,1784.036 L1486.84,1788.914 A0,0 0 0 0 1486.84,1788.914 L1553.162,1788.914 A0,0 0 0 0 1553.162,1788.914 L1553.162,1780.061 L1548.162,1775.061 L1486.84,1775.061 A0,0 0 0 0 1486.84,1775.061" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M1548.162,1775.061 L1548.162,1780.061 L1553.162,1780.061 L1548.162,1775.061" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="55.822" x="1489.84" y="1784.5095">Pattern: Strategy</text></g><!--class MessageType--><g class="entity" data-entity="MessageType" data-source-line="60" data-uid="ent0016" id="entity_MessageType"><rect fill="#F1F1F1" height="214.6792" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="118.8186" x="2433.59" y="2367.346"/><ellipse cx="2468.4254" cy="2375.346" fill="#EB937F" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2466.6051,2378.596 L2466.6051,2372.5257 L2470.4332,2372.5257 L2470.4332,2373.5882 L2467.7926,2373.5882 L2467.7926,2374.9163 L2470.3004,2374.9163 L2470.3004,2375.9788 L2467.7926,2375.9788 L2467.7926,2377.5335 L2470.4332,2377.5335 L2470.4332,2378.596 L2466.6051,2378.596 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="44.8978" x="2478.6754" y="2378.062">MessageType</text><line style="stroke:#181818;stroke-width:0.25;" x1="2434.09" x2="2551.9086" y1="2383.346" y2="2383.346"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="15.7779" x="2436.59" y="2392.829">TEXT</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="22.1969" x="2436.59" y="2402.3629">MEDIA</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="45.2408" x="2436.59" y="2411.8969">CREATE_USER</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="52.3038" x="2436.59" y="2421.4308">CREATE_GROUP</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="57.4908" x="2436.59" y="2430.9648">UPDATE_PSEUDO</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="49.6928" x="2436.59" y="2440.4988">ADD_CONTACT</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="74.5637" x="2436.59" y="2450.0327">ADD_GROUP_MEMBER</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="88.0246" x="2436.59" y="2459.5667">REMOVE_GROUP_MEMBER</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="77.2377" x="2436.59" y="2469.1006">UPDATE_GROUP_NAME</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="51.7228" x="2436.59" y="2478.6346">DELETE_GROUP</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="47.5018" x="2436.59" y="2488.1685">LEAVE_GROUP</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="68.6907" x="2436.59" y="2497.7025">MESSAGE_REACTION</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="49.0068" x="2436.59" y="2507.2365">NOTIFICATION</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="22.3299" x="2436.59" y="2516.7704">EMPTY</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="22.4209" x="2436.59" y="2526.3044">ERROR</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="19.9989" x="2436.59" y="2535.8383">NONE</text><line style="stroke:#181818;stroke-width:0.5;" x1="2434.09" x2="2551.9086" y1="2539.8893" y2="2539.8893"/><ellipse cx="2439.09" cy="2547.4063" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" text-decoration="underline" textLength="92.2596" x="2443.59" y="2549.3723">fromInt(i: int): MessageType</text><ellipse cx="2439.09" cy="2556.9403" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" text-decoration="underline" textLength="105.8186" x="2443.59" y="2558.9063">fromByte(b: byte): MessageType</text><ellipse cx="2439.09" cy="2566.4742" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="43.6028" x="2443.59" y="2568.4402">toByte(): byte</text><ellipse cx="2439.09" cy="2576.0082" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="54.0538" x="2443.59" y="2577.9742">toString(): String</text></g><!--class ProtocolMessage--><g class="entity" data-entity="ProtocolMessage" data-source-line="85" data-uid="ent0017" id="entity_ProtocolMessage"><rect fill="#F1F1F1" height="128.8735" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="152.4675" x="2101.265" y="2208.476"/><ellipse cx="2148.9593" cy="2216.476" fill="#A9DCDF" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2146.5453,2219.351 L2148.2171,2213.2572 L2149.7875,2213.2572 L2151.475,2219.351 L2150.2406,2219.351 L2149.8734,2217.8432 L2148.1156,2217.8432 L2147.7406,2219.351 L2146.5453,2219.351 Z M2148.7484,2215.3276 L2148.3734,2216.8276 L2149.6312,2216.8276 L2149.2718,2215.3276 Q2149.2015,2215.0385 2149.139,2214.7651 Q2149.0765,2214.4838 2149.0062,2214.1947 Q2148.9515,2214.4838 2148.8812,2214.7651 Q2148.8109,2215.0385 2148.7484,2215.3276 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="52.8288" x="2159.2093" y="2219.192">ProtocolMessage</text><line style="stroke:#181818;stroke-width:0.25;" x1="2101.765" x2="2253.2325" y1="2224.476" y2="2224.476"/><polygon fill="none" points="2106.765,2229.493,2108.765,2231.493,2106.765,2233.493,2104.765,2231.493" style="stroke:#B38D22;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="93.6876" x="2111.265" y="2233.959">messageType: MessageType</text><polygon fill="none" points="2106.765,2239.0269,2108.765,2241.0269,2106.765,2243.0269,2104.765,2241.0269" style="stroke:#B38D22;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="28.4339" x="2111.265" y="2243.4929">from: int</text><polygon fill="none" points="2106.765,2248.5609,2108.765,2250.5609,2106.765,2252.5609,2104.765,2250.5609" style="stroke:#B38D22;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="19.1169" x="2111.265" y="2253.0269">to: int</text><line style="stroke:#181818;stroke-width:0.5;" x1="2101.765" x2="2253.2325" y1="2257.0779" y2="2257.0779"/><ellipse cx="2106.765" cy="2264.5948" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="54.7328" x="2111.265" y="2266.5608">toPacket(): Packet</text><ellipse cx="2106.765" cy="2274.1288" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="100.7086" x="2111.265" y="2276.0948">fromPacket(packet: Packet): void</text><ellipse cx="2106.765" cy="2283.6628" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="108.4716" x="2111.265" y="2285.6288">getMessageType(): MessageType</text><ellipse cx="2106.765" cy="2293.1967" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="44.6388" x="2111.265" y="2295.1627">getFrom(): int</text><ellipse cx="2106.765" cy="2302.7307" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="35.4619" x="2111.265" y="2304.6967">getTo(): int</text><polygon fill="#FFFF44" points="2106.765,2309.7646,2108.765,2311.7646,2106.765,2313.7646,2104.765,2311.7646" style="stroke:#B38D22;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="77.3637" x="2111.265" y="2314.2306">setFrom(from: int): void</text><polygon fill="#FFFF44" points="2106.765,2319.2986,2108.765,2321.2986,2106.765,2323.2986,2104.765,2321.2986" style="stroke:#B38D22;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58.8698" x="2111.265" y="2323.7646">setTo(to: int): void</text><polygon fill="#FFFF44" points="2106.765,2328.8326,2108.765,2330.8326,2106.765,2332.8326,2104.765,2330.8326" style="stroke:#B38D22;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="139.4675" x="2111.265" y="2333.2985">setMessageType(type: MessageType): void</text></g><!--class TextMessage--><g class="entity" data-entity="TextMessage" data-source-line="100" data-uid="ent0018" id="entity_TextMessage"><rect fill="#F1F1F1" height="157.4754" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="258.4401" x="1594.28" y="2395.951"/><ellipse cx="1699.7486" cy="2403.951" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1699.483,2407.4119 Q1698.608,2407.4119 1698.0377,2407.0447 Q1697.4752,2406.6697 1697.1939,2405.9979 Q1696.9205,2405.3182 1696.9205,2404.4197 Q1696.9205,2403.4041 1697.2486,2402.6776 Q1697.5767,2401.951 1698.2174,2401.5604 Q1698.858,2401.1697 1699.7955,2401.1697 Q1700.2408,2401.1697 1700.5767,2401.2635 Q1700.9127,2401.3494 1701.2564,2401.5213 L1700.8502,2402.5291 Q1700.5377,2402.3729 1700.2642,2402.3104 Q1699.9986,2402.2479 1699.7564,2402.2479 Q1699.1705,2402.2479 1698.8189,2402.5135 Q1698.4674,2402.7791 1698.3189,2403.2557 Q1698.1705,2403.7322 1698.1705,2404.3651 Q1698.1705,2405.3729 1698.5299,2405.8572 Q1698.8892,2406.3338 1699.6861,2406.3338 Q1699.983,2406.3338 1700.2955,2406.2557 Q1700.608,2406.1776 1701.0221,2405.9901 L1701.0221,2407.0994 Q1700.6549,2407.2557 1700.2564,2407.3338 Q1699.8658,2407.4119 1699.483,2407.4119 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="43.2528" x="1709.9986" y="2406.667">TextMessage</text><line style="stroke:#181818;stroke-width:0.25;" x1="1594.78" x2="1852.2201" y1="2411.951" y2="2411.951"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1598.28" y="2417.968"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="59.4508" x="1604.28" y="2421.434">messageId: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1598.28" y="2427.5019"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="48.6428" x="1604.28" y="2430.9679">content: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1598.28" y="2437.0359"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="83.9017" x="1604.28" y="2440.5019">replyToMessageId: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1598.28" y="2446.5698"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="53.8508" x="1604.28" y="2450.0358">timestamp: long</text><line style="stroke:#181818;stroke-width:0.5;" x1="1594.78" x2="1852.2201" y1="2454.0868" y2="2454.0868"/><ellipse cx="1599.78" cy="2461.6038" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="47.4528" x="1604.28" y="2463.5698">TextMessage()</text><ellipse cx="1599.78" cy="2471.1378" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="245.4401" x="1604.28" y="2473.1038">generateNewMessageId(messageIdGenerator: MessageIdGenerator): void</text><ellipse cx="1599.78" cy="2480.6717" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="74.2347" x="1604.28" y="2482.6377">getMessageId(): String</text><ellipse cx="1599.78" cy="2490.2057" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="64.6868" x="1604.28" y="2492.1717">getContent(): String</text><ellipse cx="1599.78" cy="2499.7396" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="100.3446" x="1604.28" y="2501.7056">getReplyToMessageId(): String</text><ellipse cx="1599.78" cy="2509.2736" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="106.5816" x="1604.28" y="2511.2396">setContent(content: String): void</text><ellipse cx="1599.78" cy="2518.8076" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="148.3155" x="1604.28" y="2520.7735">setReplyToMessageId(replyToId: String): void</text><ellipse cx="1599.78" cy="2528.3415" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="70.1957" x="1604.28" y="2530.3075">getTimestamp(): long</text><ellipse cx="1599.78" cy="2537.8755" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58.1278" x="1604.28" y="2539.8415">toPacket(): Packet</text><ellipse cx="1599.78" cy="2547.4094" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="106.8476" x="1604.28" y="2549.3754">fromPacket(packet: Packet): void</text></g><g class="entity" data-entity="GMN20" data-source-line="118" data-uid="ent0021" id="entity_GMN20"><path d="M1639.26,2646.041 L1639.26,2668.747 A0,0 0 0 0 1639.26,2668.747 L1807.7426,2668.747 A0,0 0 0 0 1807.7426,2668.747 L1807.7426,2651.041 L1802.7426,2646.041 L1725.5,2646.041 L1723.5,2553.631 L1721.5,2646.041 L1639.26,2646.041 A0,0 0 0 0 1639.26,2646.041" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M1802.7426,2646.041 L1802.7426,2651.041 L1807.7426,2651.041 L1802.7426,2646.041" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="52.819" x="1642.26" y="2655.4895">Format payload:</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="157.9826" x="1642.26" y="2664.3425">messageId|timestamp|replyToId(nullable)|content</text></g><!--class MediaMessage--><g class="entity" data-entity="MediaMessage" data-source-line="122" data-uid="ent0023" id="entity_MediaMessage"><rect fill="#F1F1F1" height="138.4075" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="119.8476" x="2296.075" y="2405.481"/><ellipse cx="2329.1149" cy="2413.481" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2328.8493,2416.9419 Q2327.9743,2416.9419 2327.4039,2416.5747 Q2326.8414,2416.1997 2326.5602,2415.5279 Q2326.2868,2414.8482 2326.2868,2413.9497 Q2326.2868,2412.9341 2326.6149,2412.2076 Q2326.943,2411.481 2327.5836,2411.0904 Q2328.2243,2410.6997 2329.1618,2410.6997 Q2329.6071,2410.6997 2329.943,2410.7935 Q2330.2789,2410.8794 2330.6227,2411.0513 L2330.2164,2412.0591 Q2329.9039,2411.9029 2329.6305,2411.8404 Q2329.3649,2411.7779 2329.1227,2411.7779 Q2328.5368,2411.7779 2328.1852,2412.0435 Q2327.8336,2412.3091 2327.6852,2412.7857 Q2327.5368,2413.2622 2327.5368,2413.8951 Q2327.5368,2414.9029 2327.8961,2415.3872 Q2328.2555,2415.8638 2329.0524,2415.8638 Q2329.3493,2415.8638 2329.6618,2415.7857 Q2329.9743,2415.7076 2330.3883,2415.5201 L2330.3883,2416.6294 Q2330.0211,2416.7857 2329.6227,2416.8638 Q2329.2321,2416.9419 2328.8493,2416.9419 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="49.5178" x="2339.3649" y="2416.197">MediaMessage</text><line style="stroke:#181818;stroke-width:0.25;" x1="2296.575" x2="2415.4226" y1="2421.481" y2="2421.481"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2300.075" y="2427.498"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="59.4508" x="2306.075" y="2430.964">messageId: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2300.075" y="2437.0319"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="59.6398" x="2306.075" y="2440.4979">mediaType: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2300.075" y="2446.5659"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="50.6028" x="2306.075" y="2450.0319">mediaId: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2300.075" y="2456.0998"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="72.0367" x="2306.075" y="2459.5658">thumbnailData: byte[]</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2300.075" y="2465.6338"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="54.7188" x="2306.075" y="2469.0998">replyToId: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2300.075" y="2475.1678"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="53.8508" x="2306.075" y="2478.6338">timestamp: long</text><line style="stroke:#181818;stroke-width:0.5;" x1="2296.575" x2="2415.4226" y1="2482.6847" y2="2482.6847"/><ellipse cx="2301.575" cy="2490.2017" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="53.7178" x="2306.075" y="2492.1677">MediaMessage()</text><ellipse cx="2301.575" cy="2499.7357" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="74.2347" x="2306.075" y="2501.7017">getMessageId(): String</text><ellipse cx="2301.575" cy="2509.2696" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="65.3868" x="2306.075" y="2511.2356">getMediaId(): String</text><ellipse cx="2301.575" cy="2518.8036" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="88.3817" x="2306.075" y="2520.7696">getThumbnailData(): byte[]</text><ellipse cx="2301.575" cy="2528.3376" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58.1278" x="2306.075" y="2530.3035">toPacket(): Packet</text><ellipse cx="2301.575" cy="2537.8715" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="106.8476" x="2306.075" y="2539.8375">fromPacket(packet: Packet): void</text></g><!--class ManagementMessage--><g class="entity" data-entity="ManagementMessage" data-source-line="138" data-uid="ent0025" id="entity_ManagementMessage"><rect fill="#F1F1F1" height="100.2717" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="209.2862" x="1870.355" y="2424.551"/><ellipse cx="1936.2177" cy="2432.551" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1935.9521,2436.0119 Q1935.0771,2436.0119 1934.5068,2435.6447 Q1933.9443,2435.2697 1933.6631,2434.5979 Q1933.3896,2433.9182 1933.3896,2433.0197 Q1933.3896,2432.0041 1933.7177,2431.2776 Q1934.0459,2430.551 1934.6865,2430.1604 Q1935.3271,2429.7697 1936.2646,2429.7697 Q1936.7099,2429.7697 1937.0459,2429.8635 Q1937.3818,2429.9494 1937.7256,2430.1213 L1937.3193,2431.1291 Q1937.0068,2430.9729 1936.7334,2430.9104 Q1936.4677,2430.8479 1936.2256,2430.8479 Q1935.6396,2430.8479 1935.2881,2431.1135 Q1934.9365,2431.3791 1934.7881,2431.8557 Q1934.6396,2432.3322 1934.6396,2432.9651 Q1934.6396,2433.9729 1934.999,2434.4572 Q1935.3584,2434.9338 1936.1552,2434.9338 Q1936.4521,2434.9338 1936.7646,2434.8557 Q1937.0771,2434.7776 1937.4912,2434.5901 L1937.4912,2435.6994 Q1937.124,2435.8557 1936.7256,2435.9338 Q1936.3349,2436.0119 1935.9521,2436.0119 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="73.3107" x="1946.4677" y="2435.267">ManagementMessage</text><line style="stroke:#181818;stroke-width:0.25;" x1="1870.855" x2="2079.1412" y1="2440.551" y2="2440.551"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1874.355" y="2446.568"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="96.0396" x="1880.355" y="2450.034">params: Map&lt;String, Object&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="1870.855" x2="2079.1412" y1="2454.0849" y2="2454.0849"/><ellipse cx="1875.855" cy="2461.6019" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="77.5107" x="1880.355" y="2463.5679">ManagementMessage()</text><ellipse cx="1875.855" cy="2471.1359" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="96.2636" x="1880.355" y="2473.1019">getParam(key: String): Object</text><ellipse cx="1875.855" cy="2480.6698" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="154.1114" x="1880.355" y="2482.6358">getParamAsType(key: String, clazz: Class&lt;T&gt;): T</text><ellipse cx="1875.855" cy="2490.2038" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="196.2862" x="1880.355" y="2492.1698">addParam(key: String, value: Object): ManagementMessage</text><ellipse cx="1875.855" cy="2499.7378" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="162.5044" x="1880.355" y="2501.7038">removeParam(key: String): ManagementMessage</text><ellipse cx="1875.855" cy="2509.2717" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58.1278" x="1880.355" y="2511.2377">toPacket(): Packet</text><ellipse cx="1875.855" cy="2518.8057" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="106.8476" x="1880.355" y="2520.7717">fromPacket(packet: Packet): void</text></g><g class="entity" data-entity="GMN27" data-source-line="150" data-uid="ent0028" id="entity_GMN27"><path d="M1927.48,2646.041 L1927.48,2668.747 A0,0 0 0 0 1927.48,2668.747 L2022.5191,2668.747 A0,0 0 0 0 2022.5191,2668.747 L2022.5191,2651.041 L2017.5191,2646.041 L1977,2646.041 L1975,2524.856 L1973,2646.041 L1927.48,2646.041 A0,0 0 0 0 1927.48,2646.041" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M2017.5191,2646.041 L2017.5191,2651.041 L2022.5191,2651.041 L2017.5191,2646.041" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="52.819" x="1930.48" y="2655.4895">Format payload:</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="84.5391" x="1930.48" y="2664.3425">key1=value1;key2=value2;...</text></g><!--class ReactionMessage--><g class="entity" data-entity="ReactionMessage" data-source-line="154" data-uid="ent0030" id="entity_ReactionMessage"><rect fill="#F1F1F1" height="109.8056" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="119.8476" x="1319.575" y="2419.786"/><ellipse cx="1348.5409" cy="2427.786" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1348.2753,2431.2469 Q1347.4003,2431.2469 1346.83,2430.8797 Q1346.2675,2430.5047 1345.9862,2429.8329 Q1345.7128,2429.1532 1345.7128,2428.2547 Q1345.7128,2427.2391 1346.0409,2426.5126 Q1346.369,2425.786 1347.0097,2425.3954 Q1347.6503,2425.0047 1348.5878,2425.0047 Q1349.0331,2425.0047 1349.369,2425.0985 Q1349.705,2425.1844 1350.0487,2425.3563 L1349.6425,2426.3641 Q1349.33,2426.2079 1349.0565,2426.1454 Q1348.7909,2426.0829 1348.5487,2426.0829 Q1347.9628,2426.0829 1347.6112,2426.3485 Q1347.2597,2426.6141 1347.1112,2427.0907 Q1346.9628,2427.5672 1346.9628,2428.2001 Q1346.9628,2429.2079 1347.3222,2429.6922 Q1347.6815,2430.1688 1348.4784,2430.1688 Q1348.7753,2430.1688 1349.0878,2430.0907 Q1349.4003,2430.0126 1349.8143,2429.8251 L1349.8143,2430.9344 Q1349.4472,2431.0907 1349.0487,2431.1688 Q1348.6581,2431.2469 1348.2753,2431.2469 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="57.6658" x="1358.7909" y="2430.502">ReactionMessage</text><line style="stroke:#181818;stroke-width:0.25;" x1="1320.075" x2="1438.9226" y1="2435.786" y2="2435.786"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1323.575" y="2441.803"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="79.3797" x="1329.575" y="2445.269">targetMessageId: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1323.575" y="2451.3369"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="41.7338" x="1329.575" y="2454.8029">emoji: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1323.575" y="2460.8709"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="48.7198" x="1329.575" y="2464.3369">isAdd: boolean</text><line style="stroke:#181818;stroke-width:0.5;" x1="1320.075" x2="1438.9226" y1="2468.3879" y2="2468.3879"/><ellipse cx="1325.075" cy="2475.9048" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="61.8658" x="1329.575" y="2477.8708">ReactionMessage()</text><ellipse cx="1325.075" cy="2485.4388" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="95.7246" x="1329.575" y="2487.4048">getTargetMessageId(): String</text><ellipse cx="1325.075" cy="2494.9728" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.6578" x="1329.575" y="2496.9388">getEmoji(): String</text><ellipse cx="1325.075" cy="2504.5067" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="52.9198" x="1329.575" y="2506.4727">isAdd(): boolean</text><ellipse cx="1325.075" cy="2514.0407" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58.1278" x="1329.575" y="2516.0067">toPacket(): Packet</text><ellipse cx="1325.075" cy="2523.5746" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="106.8476" x="1329.575" y="2525.5406">fromPacket(packet: Packet): void</text></g><!--class NotificationMessage--><g class="entity" data-entity="NotificationMessage" data-source-line="167" data-uid="ent0032" id="entity_NotificationMessage"><rect fill="#F1F1F1" height="71.6698" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="119.8476" x="1457.075" y="2438.851"/><ellipse cx="1481.1409" cy="2446.851" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1480.8753,2450.3119 Q1480.0003,2450.3119 1479.43,2449.9447 Q1478.8675,2449.5697 1478.5862,2448.8979 Q1478.3128,2448.2182 1478.3128,2447.3197 Q1478.3128,2446.3041 1478.6409,2445.5776 Q1478.969,2444.851 1479.6097,2444.4604 Q1480.2503,2444.0697 1481.1878,2444.0697 Q1481.6331,2444.0697 1481.969,2444.1635 Q1482.305,2444.2494 1482.6487,2444.4213 L1482.2425,2445.4291 Q1481.93,2445.2729 1481.6565,2445.2104 Q1481.3909,2445.1479 1481.1487,2445.1479 Q1480.5628,2445.1479 1480.2112,2445.4135 Q1479.8597,2445.6791 1479.7112,2446.1557 Q1479.5628,2446.6322 1479.5628,2447.2651 Q1479.5628,2448.2729 1479.9222,2448.7572 Q1480.2815,2449.2338 1481.0784,2449.2338 Q1481.3753,2449.2338 1481.6878,2449.1557 Q1482.0003,2449.0776 1482.4144,2448.8901 L1482.4144,2449.9994 Q1482.0472,2450.1557 1481.6487,2450.2338 Q1481.2581,2450.3119 1480.8753,2450.3119 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="67.4657" x="1491.3909" y="2449.567">NotificationMessage</text><line style="stroke:#181818;stroke-width:0.25;" x1="1457.575" x2="1576.4226" y1="2454.851" y2="2454.851"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1461.075" y="2460.868"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="76.3977" x="1467.075" y="2464.334">notificationType: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1461.075" y="2470.4019"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="38.0799" x="1467.075" y="2473.8679">data: String</text><line style="stroke:#181818;stroke-width:0.5;" x1="1457.575" x2="1576.4226" y1="2477.9189" y2="2477.9189"/><ellipse cx="1462.575" cy="2485.4359" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="71.6657" x="1467.075" y="2487.4019">NotificationMessage()</text><ellipse cx="1462.575" cy="2494.9698" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58.1278" x="1467.075" y="2496.9358">toPacket(): Packet</text><ellipse cx="1462.575" cy="2504.5038" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="106.8476" x="1467.075" y="2506.4698">fromPacket(packet: Packet): void</text></g><!--class MessageProvider--><g class="entity" data-entity="MessageProvider" data-source-line="177" data-uid="ent0034" id="entity_MessageProvider"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="126.3436" x="1789.83" y="2078.201"/><ellipse cx="1824.3504" cy="2086.201" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1822.366,2089.451 L1822.366,2088.5994 L1823.5457,2088.4666 L1823.5457,2084.3651 L1822.366,2084.2322 L1822.366,2083.3807 L1825.9363,2083.3807 L1825.9363,2084.2322 L1824.7254,2084.3651 L1824.7254,2088.4666 L1825.9363,2088.5994 L1825.9363,2089.451 L1822.366,2089.451 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="53.0528" x="1834.6004" y="2088.917">MessageProvider</text><line style="stroke:#181818;stroke-width:0.25;" x1="1790.33" x2="1915.6736" y1="2094.201" y2="2094.201"/><line style="stroke:#181818;stroke-width:0.25;" x1="1790.33" x2="1915.6736" y1="2098.201" y2="2098.201"/><ellipse cx="1795.33" cy="2105.718" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="79.2887" x="1799.83" y="2107.684">getType(): MessageType</text><ellipse cx="1795.33" cy="2115.2519" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="113.3436" x="1799.83" y="2117.2179">createInstance(): ProtocolMessage</text></g><g class="entity" data-entity="GMN35" data-source-line="182" data-uid="ent0036" id="entity_GMN35"><path d="M1933.55,2052.971 L1933.55,2090.536 L1916.36,2092.536 L1933.55,2094.536 L1933.55,2146.5011 A0,0 0 0 0 1933.55,2146.5011 L2159.4472,2146.5011 A0,0 0 0 0 2159.4472,2146.5011 L2159.4472,2057.971 L2154.4472,2052.971 L1933.55,2052.971 A0,0 0 0 0 1933.55,2052.971" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M2154.4472,2052.971 L2154.4472,2057.971 L2159.4472,2057.971 L2154.4472,2052.971" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="147.7776" x="1936.55" y="2062.4195">Pattern: Service Provider (Java ServiceLoader)</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="1.69" x="1936.55" y="2071.2725">Â </text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="180.3102" x="1936.55" y="2080.1255">Permet la dÃ©couverte automatique des types de messages.</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="168.1031" x="1936.55" y="2088.9785">Pour chaque nouvelle sous-classe de ProtocolMessage:</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="215.3972" x="1936.55" y="2097.8315">1. CrÃ©er une classe XxxMessageProvider implements MessageProvider</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="133.4841" x="1936.55" y="2106.6845">2. Ajouter le nom complet de la classe dans:</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="156.4486" x="1941.62" y="2115.5375">META-INF/services/fr.uga.im2ag...MessageProvider</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="1.69" x="1936.55" y="2124.3906">Â </text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="191.8281" x="1936.55" y="2133.2436">MessageFactory chargera automatiquement tous les providers</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="100.1846" x="1936.55" y="2142.0966">au dÃ©marrage via ServiceLoader.</text></g><!--class TextMessageProvider--><g class="entity" data-entity="TextMessageProvider" data-source-line="194" data-uid="ent0038" id="entity_TextMessageProvider"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="126.3436" x="1789.83" y="2251.376"/><ellipse cx="1815.3169" cy="2259.376" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1815.0513,2262.8369 Q1814.1763,2262.8369 1813.606,2262.4697 Q1813.0435,2262.0947 1812.7622,2261.4229 Q1812.4888,2260.7432 1812.4888,2259.8447 Q1812.4888,2258.8291 1812.8169,2258.1026 Q1813.145,2257.376 1813.7857,2256.9854 Q1814.4263,2256.5947 1815.3638,2256.5947 Q1815.8091,2256.5947 1816.145,2256.6885 Q1816.481,2256.7744 1816.8247,2256.9463 L1816.4185,2257.9541 Q1816.106,2257.7979 1815.8325,2257.7354 Q1815.5669,2257.6729 1815.3247,2257.6729 Q1814.7388,2257.6729 1814.3872,2257.9385 Q1814.0357,2258.2041 1813.8872,2258.6807 Q1813.7388,2259.1572 1813.7388,2259.7901 Q1813.7388,2260.7979 1814.0982,2261.2822 Q1814.4575,2261.7588 1815.2544,2261.7588 Q1815.5513,2261.7588 1815.8638,2261.6807 Q1816.1763,2261.6026 1816.5904,2261.4151 L1816.5904,2262.5244 Q1816.2232,2262.6807 1815.8247,2262.7588 Q1815.4341,2262.8369 1815.0513,2262.8369 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="71.1197" x="1825.5669" y="2262.092">TextMessageProvider</text><line style="stroke:#181818;stroke-width:0.25;" x1="1790.33" x2="1915.6736" y1="2267.376" y2="2267.376"/><line style="stroke:#181818;stroke-width:0.5;" x1="1790.33" x2="1915.6736" y1="2271.376" y2="2271.376"/><ellipse cx="1795.33" cy="2278.893" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="79.2887" x="1799.83" y="2280.859">getType(): MessageType</text><ellipse cx="1795.33" cy="2288.4269" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="113.3436" x="1799.83" y="2290.3929">createInstance(): ProtocolMessage</text></g><!--class ManagementMessageProvider--><g class="entity" data-entity="ManagementMessageProvider" data-source-line="200" data-uid="ent0040" id="entity_ManagementMessageProvider"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="126.3436" x="1933.83" y="2251.376"/><ellipse cx="1945.4547" cy="2259.376" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1945.1891,2262.8369 Q1944.3141,2262.8369 1943.7437,2262.4697 Q1943.1812,2262.0947 1942.9,2261.4229 Q1942.6266,2260.7432 1942.6266,2259.8447 Q1942.6266,2258.8291 1942.9547,2258.1026 Q1943.2828,2257.376 1943.9234,2256.9854 Q1944.5641,2256.5947 1945.5016,2256.5947 Q1945.9469,2256.5947 1946.2828,2256.6885 Q1946.6187,2256.7744 1946.9625,2256.9463 L1946.5562,2257.9541 Q1946.2437,2257.7979 1945.9703,2257.7354 Q1945.7047,2257.6729 1945.4625,2257.6729 Q1944.8766,2257.6729 1944.525,2257.9385 Q1944.1734,2258.2041 1944.025,2258.6807 Q1943.8766,2259.1572 1943.8766,2259.7901 Q1943.8766,2260.7979 1944.2359,2261.2822 Q1944.5953,2261.7588 1945.3922,2261.7588 Q1945.6891,2261.7588 1946.0016,2261.6807 Q1946.3141,2261.6026 1946.7281,2261.4151 L1946.7281,2262.5244 Q1946.3609,2262.6807 1945.9625,2262.7588 Q1945.5719,2262.8369 1945.1891,2262.8369 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="101.1776" x="1953.3713" y="2262.092">ManagementMessageProvider</text><line style="stroke:#181818;stroke-width:0.25;" x1="1934.33" x2="2059.6736" y1="2267.376" y2="2267.376"/><line style="stroke:#181818;stroke-width:0.5;" x1="1934.33" x2="2059.6736" y1="2271.376" y2="2271.376"/><ellipse cx="1939.33" cy="2278.893" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="79.2887" x="1943.83" y="2280.859">getType(): MessageType</text><ellipse cx="1939.33" cy="2288.4269" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="113.3436" x="1943.83" y="2290.3929">createInstance(): ProtocolMessage</text></g><!--class MediaMessageProvider--><g class="entity" data-entity="MediaMessageProvider" data-source-line="206" data-uid="ent0042" id="entity_MediaMessageProvider"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="126.3436" x="2281.83" y="2251.376"/><ellipse cx="2304.1844" cy="2259.376" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2303.9188,2262.8369 Q2303.0438,2262.8369 2302.4735,2262.4697 Q2301.911,2262.0947 2301.6297,2261.4229 Q2301.3563,2260.7432 2301.3563,2259.8447 Q2301.3563,2258.8291 2301.6844,2258.1026 Q2302.0126,2257.376 2302.6532,2256.9854 Q2303.2938,2256.5947 2304.2313,2256.5947 Q2304.6766,2256.5947 2305.0126,2256.6885 Q2305.3485,2256.7744 2305.6922,2256.9463 L2305.286,2257.9541 Q2304.9735,2257.7979 2304.7001,2257.7354 Q2304.4344,2257.6729 2304.1922,2257.6729 Q2303.6063,2257.6729 2303.2547,2257.9385 Q2302.9032,2258.2041 2302.7547,2258.6807 Q2302.6063,2259.1572 2302.6063,2259.7901 Q2302.6063,2260.7979 2302.9657,2261.2822 Q2303.3251,2261.7588 2304.1219,2261.7588 Q2304.4188,2261.7588 2304.7313,2261.6807 Q2305.0438,2261.6026 2305.4579,2261.4151 L2305.4579,2262.5244 Q2305.0907,2262.6807 2304.6922,2262.7588 Q2304.3016,2262.8369 2303.9188,2262.8369 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="77.3847" x="2314.4344" y="2262.092">MediaMessageProvider</text><line style="stroke:#181818;stroke-width:0.25;" x1="2282.33" x2="2407.6736" y1="2267.376" y2="2267.376"/><line style="stroke:#181818;stroke-width:0.5;" x1="2282.33" x2="2407.6736" y1="2271.376" y2="2271.376"/><ellipse cx="2287.33" cy="2278.893" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="79.2887" x="2291.83" y="2280.859">getType(): MessageType</text><ellipse cx="2287.33" cy="2288.4269" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="113.3436" x="2291.83" y="2290.3929">createInstance(): ProtocolMessage</text></g><!--class ReactionMessageProvider--><g class="entity" data-entity="ReactionMessageProvider" data-source-line="212" data-uid="ent0044" id="entity_ReactionMessageProvider"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="126.3436" x="1501.83" y="2251.376"/><ellipse cx="1520.4949" cy="2259.376" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1520.2293,2262.8369 Q1519.3543,2262.8369 1518.784,2262.4697 Q1518.2215,2262.0947 1517.9402,2261.4229 Q1517.6668,2260.7432 1517.6668,2259.8447 Q1517.6668,2258.8291 1517.9949,2258.1026 Q1518.323,2257.376 1518.9637,2256.9854 Q1519.6043,2256.5947 1520.5418,2256.5947 Q1520.9871,2256.5947 1521.323,2256.6885 Q1521.659,2256.7744 1522.0027,2256.9463 L1521.5965,2257.9541 Q1521.284,2257.7979 1521.0105,2257.7354 Q1520.7449,2257.6729 1520.5027,2257.6729 Q1519.9168,2257.6729 1519.5652,2257.9385 Q1519.2137,2258.2041 1519.0652,2258.6807 Q1518.9168,2259.1572 1518.9168,2259.7901 Q1518.9168,2260.7979 1519.2762,2261.2822 Q1519.6355,2261.7588 1520.4324,2261.7588 Q1520.7293,2261.7588 1521.0418,2261.6807 Q1521.3543,2261.6026 1521.7683,2261.4151 L1521.7683,2262.5244 Q1521.4012,2262.6807 1521.0027,2262.7588 Q1520.6121,2262.8369 1520.2293,2262.8369 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="85.5327" x="1529.976" y="2262.092">ReactionMessageProvider</text><line style="stroke:#181818;stroke-width:0.25;" x1="1502.33" x2="1627.6736" y1="2267.376" y2="2267.376"/><line style="stroke:#181818;stroke-width:0.5;" x1="1502.33" x2="1627.6736" y1="2271.376" y2="2271.376"/><ellipse cx="1507.33" cy="2278.893" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="79.2887" x="1511.83" y="2280.859">getType(): MessageType</text><ellipse cx="1507.33" cy="2288.4269" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="113.3436" x="1511.83" y="2290.3929">createInstance(): ProtocolMessage</text></g><!--class NotificationMessageProvider--><g class="entity" data-entity="NotificationMessageProvider" data-source-line="218" data-uid="ent0046" id="entity_NotificationMessageProvider"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="126.3436" x="1645.83" y="2251.376"/><ellipse cx="1660.0849" cy="2259.376" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1659.8193,2262.8369 Q1658.9443,2262.8369 1658.374,2262.4697 Q1657.8115,2262.0947 1657.5302,2261.4229 Q1657.2568,2260.7432 1657.2568,2259.8447 Q1657.2568,2258.8291 1657.5849,2258.1026 Q1657.913,2257.376 1658.5537,2256.9854 Q1659.1943,2256.5947 1660.1318,2256.5947 Q1660.5771,2256.5947 1660.913,2256.6885 Q1661.249,2256.7744 1661.5927,2256.9463 L1661.1865,2257.9541 Q1660.874,2257.7979 1660.6005,2257.7354 Q1660.3349,2257.6729 1660.0927,2257.6729 Q1659.5068,2257.6729 1659.1552,2257.9385 Q1658.8037,2258.2041 1658.6552,2258.6807 Q1658.5068,2259.1572 1658.5068,2259.7901 Q1658.5068,2260.7979 1658.8662,2261.2822 Q1659.2255,2261.7588 1660.0224,2261.7588 Q1660.3193,2261.7588 1660.6318,2261.6807 Q1660.9443,2261.6026 1661.3584,2261.4151 L1661.3584,2262.5244 Q1660.9912,2262.6807 1660.5927,2262.7588 Q1660.2021,2262.8369 1659.8193,2262.8369 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="95.3326" x="1668.586" y="2262.092">NotificationMessageProvider</text><line style="stroke:#181818;stroke-width:0.25;" x1="1646.33" x2="1771.6736" y1="2267.376" y2="2267.376"/><line style="stroke:#181818;stroke-width:0.5;" x1="1646.33" x2="1771.6736" y1="2271.376" y2="2271.376"/><ellipse cx="1651.33" cy="2278.893" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="79.2887" x="1655.83" y="2280.859">getType(): MessageType</text><ellipse cx="1651.33" cy="2288.4269" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="113.3436" x="1655.83" y="2290.3929">createInstance(): ProtocolMessage</text></g><!--class MessageFactory--><g class="entity" data-entity="MessageFactory" data-source-line="231" data-uid="ent0053" id="entity_MessageFactory"><rect fill="#F1F1F1" height="52.6019" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="216.0902" x="1748.455" y="1895.496"/><ellipse cx="1827.7122" cy="1903.496" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1827.4466,1906.9569 Q1826.5716,1906.9569 1826.0013,1906.5897 Q1825.4388,1906.2147 1825.1575,1905.5429 Q1824.8841,1904.8632 1824.8841,1903.9647 Q1824.8841,1902.9491 1825.2122,1902.2226 Q1825.5403,1901.496 1826.181,1901.1054 Q1826.8216,1900.7147 1827.7591,1900.7147 Q1828.2044,1900.7147 1828.5403,1900.8085 Q1828.8763,1900.8944 1829.22,1901.0663 L1828.8138,1902.0741 Q1828.5013,1901.9179 1828.2278,1901.8554 Q1827.9622,1901.7929 1827.72,1901.7929 Q1827.1341,1901.7929 1826.7825,1902.0585 Q1826.431,1902.3241 1826.2825,1902.8007 Q1826.1341,1903.2772 1826.1341,1903.9101 Q1826.1341,1904.9179 1826.4935,1905.4022 Q1826.8528,1905.8788 1827.6497,1905.8788 Q1827.9466,1905.8788 1828.2591,1905.8007 Q1828.5716,1905.7226 1828.9856,1905.5351 L1828.9856,1906.6444 Q1828.6185,1906.8007 1828.22,1906.8788 Q1827.8294,1906.9569 1827.4466,1906.9569 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="53.3258" x="1837.9622" y="1906.212">MessageFactory</text><line style="stroke:#181818;stroke-width:0.25;" x1="1748.955" x2="1964.0452" y1="1911.496" y2="1911.496"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="1752.455" y="1917.513"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" text-decoration="underline" textLength="192.1142" x="1758.455" y="1920.979">registry: Map&lt;MessageType, Supplier&lt;ProtocolMessage&gt;&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="1748.955" x2="1964.0452" y1="1925.0299" y2="1925.0299"/><ellipse cx="1753.955" cy="1932.5469" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" text-decoration="underline" textLength="149.6525" x="1758.455" y="1934.5129">fromPacket(packet: Packet): ProtocolMessage</text><ellipse cx="1753.955" cy="1942.0809" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" text-decoration="underline" textLength="203.0902" x="1758.455" y="1944.0469">create(type: MessageType, from: int, to: int): ProtocolMessage</text></g><g class="entity" data-entity="GMN54" data-source-line="238" data-uid="ent0055" id="entity_GMN54"><path d="M1982.125,1914.866 L1982.125,1920.036 L1964.7,1922.036 L1982.125,1924.036 L1982.125,1928.719 A0,0 0 0 0 1982.125,1928.719 L2097.8796,1928.719 A0,0 0 0 0 2097.8796,1928.719 L2097.8796,1919.866 L2092.8796,1914.866 L1982.125,1914.866 A0,0 0 0 0 1982.125,1914.866" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M2092.8796,1914.866 L2092.8796,1919.866 L2097.8796,1919.866 L2092.8796,1914.866" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="105.2546" x="1985.125" y="1924.3145">Pattern: Factory + ServiceLoader</text></g><!--class MessageIdGenerator--><g class="entity" data-entity="MessageIdGenerator" data-source-line="244" data-uid="ent0058" id="entity_MessageIdGenerator"><rect fill="#F1F1F1" height="33.534" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="168.1894" x="2144.405" y="1765.221"/><ellipse cx="2193.9403" cy="1773.221" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2191.956,1776.471 L2191.956,1775.6194 L2193.1356,1775.4866 L2193.1356,1771.3851 L2191.956,1771.2522 L2191.956,1770.4007 L2195.5263,1770.4007 L2195.5263,1771.2522 L2194.3153,1771.3851 L2194.3153,1775.4866 L2195.5263,1775.6194 L2195.5263,1776.471 L2191.956,1776.471 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="64.8688" x="2204.1903" y="1775.937">MessageIdGenerator</text><line style="stroke:#181818;stroke-width:0.25;" x1="2144.905" x2="2312.0944" y1="1781.221" y2="1781.221"/><line style="stroke:#181818;stroke-width:0.25;" x1="2144.905" x2="2312.0944" y1="1785.221" y2="1785.221"/><ellipse cx="2149.905" cy="1792.738" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="155.1894" x="2154.405" y="1794.704">generateId(userId: int, timestamp: long): String</text></g><!--class ShaIdGenerator--><g class="entity" data-entity="ShaIdGenerator" data-source-line="247" data-uid="ent0059" id="entity_ShaIdGenerator"><rect fill="#F1F1F1" height="71.6698" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="225.9813" x="2115.51" y="1885.961"/><ellipse cx="2200.0942" cy="1893.961" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2199.8286,1897.4219 Q2198.9536,1897.4219 2198.3833,1897.0547 Q2197.8208,1896.6797 2197.5395,1896.0079 Q2197.2661,1895.3282 2197.2661,1894.4297 Q2197.2661,1893.4141 2197.5942,1892.6876 Q2197.9224,1891.961 2198.563,1891.5704 Q2199.2036,1891.1797 2200.1411,1891.1797 Q2200.5864,1891.1797 2200.9224,1891.2735 Q2201.2583,1891.3594 2201.602,1891.5313 L2201.1958,1892.5391 Q2200.8833,1892.3829 2200.6099,1892.3204 Q2200.3442,1892.2579 2200.102,1892.2579 Q2199.5161,1892.2579 2199.1645,1892.5235 Q2198.813,1892.7891 2198.6645,1893.2657 Q2198.5161,1893.7422 2198.5161,1894.3751 Q2198.5161,1895.3829 2198.8755,1895.8672 Q2199.2349,1896.3438 2200.0317,1896.3438 Q2200.3286,1896.3438 2200.6411,1896.2657 Q2200.9536,1896.1876 2201.3677,1896.0001 L2201.3677,1897.1094 Q2201.0005,1897.2657 2200.602,1897.3438 Q2200.2114,1897.4219 2199.8286,1897.4219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="52.5628" x="2210.3442" y="1896.677">ShaIdGenerator</text><line style="stroke:#181818;stroke-width:0.25;" x1="2116.01" x2="2340.9913" y1="1901.961" y2="1901.961"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2119.51" y="1907.978"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="68.7887" x="2125.51" y="1911.444">counter: AtomicLong</text><line style="stroke:#181818;stroke-width:0.5;" x1="2116.01" x2="2340.9913" y1="1915.4949" y2="1915.4949"/><ellipse cx="2121.01" cy="1923.0119" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.7628" x="2125.51" y="1924.9779">ShaIdGenerator()</text><ellipse cx="2121.01" cy="1932.5459" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="117.0326" x="2125.51" y="1934.5119">ShaIdGenerator(startCounter: long)</text><ellipse cx="2121.01" cy="1942.0798" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="155.1894" x="2125.51" y="1944.0458">generateId(userId: int, timestamp: long): String</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2119.51" y="1950.1138"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="212.9813" x="2125.51" y="1953.5798">generateHash(userId: int, timestamp: long, counter: long): String</text></g><g class="entity" data-entity="GMN61" data-source-line="256" data-uid="ent0062" id="entity_GMN61"><path d="M2358.84,1914.866 L2358.84,1928.719 L2425.162,1928.719 L2425.162,1919.866 L2420.162,1914.866 L2358.84,1914.866" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M2420.162,1914.866 L2420.162,1919.866 L2425.162,1919.866 L2420.162,1914.866" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="55.822" x="2361.84" y="1924.3145">Pattern: Strategy</text></g><!--class CryptoStrategy--><g class="entity" data-entity="CryptoStrategy" data-source-line="260" data-uid="ent0064" id="entity_CryptoStrategy"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="102.1167" x="2362.94" y="2732.766"/><ellipse cx="2388.7524" cy="2740.766" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2386.768,2744.016 L2386.768,2743.1644 L2387.9477,2743.0316 L2387.9477,2738.9301 L2386.768,2738.7972 L2386.768,2737.9457 L2390.3384,2737.9457 L2390.3384,2738.7972 L2389.1274,2738.9301 L2389.1274,2743.0316 L2390.3384,2743.1644 L2390.3384,2744.016 L2386.768,2744.016 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="46.2418" x="2399.0024" y="2743.482">CryptoStrategy</text><line style="stroke:#181818;stroke-width:0.25;" x1="2363.44" x2="2464.5567" y1="2748.766" y2="2748.766"/><line style="stroke:#181818;stroke-width:0.25;" x1="2363.44" x2="2464.5567" y1="2752.766" y2="2752.766"/><ellipse cx="2368.44" cy="2760.283" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="89.1167" x="2372.94" y="2762.249">encrypt(data: byte[]): byte[]</text><ellipse cx="2368.44" cy="2769.8169" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="89.0957" x="2372.94" y="2771.7829">decrypt(data: byte[]): byte[]</text></g><g class="entity" data-entity="GMN65" data-source-line="265" data-uid="ent0066" id="entity_GMN65"><path d="M2380.84,2650.471 L2380.84,2664.324 A0,0 0 0 0 2380.84,2664.324 L2412,2664.324 L2414,2732.601 L2416,2664.324 L2447.162,2664.324 A0,0 0 0 0 2447.162,2664.324 L2447.162,2655.471 L2442.162,2650.471 L2380.84,2650.471 A0,0 0 0 0 2380.84,2650.471" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M2442.162,2650.471 L2442.162,2655.471 L2447.162,2655.471 L2442.162,2650.471" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="55.822" x="2383.84" y="2659.9195">Pattern: Strategy</text></g><!--class AESCryptoStrategy--><g class="entity" data-entity="AESCryptoStrategy" data-source-line="268" data-uid="ent0068" id="entity_AESCryptoStrategy"><rect fill="#F1F1F1" height="62.1358" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="126.2176" x="2264.89" y="2815.366"/><ellipse cx="2295.0249" cy="2823.366" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2294.7593,2826.8269 Q2293.8843,2826.8269 2293.314,2826.4597 Q2292.7515,2826.0847 2292.4702,2825.4129 Q2292.1968,2824.7332 2292.1968,2823.8347 Q2292.1968,2822.8191 2292.5249,2822.0926 Q2292.853,2821.366 2293.4936,2820.9754 Q2294.1343,2820.5847 2295.0718,2820.5847 Q2295.5171,2820.5847 2295.853,2820.6785 Q2296.189,2820.7644 2296.5327,2820.9363 L2296.1265,2821.9441 Q2295.814,2821.7879 2295.5405,2821.7254 Q2295.2749,2821.6629 2295.0327,2821.6629 Q2294.4468,2821.6629 2294.0952,2821.9285 Q2293.7436,2822.1941 2293.5952,2822.6707 Q2293.4468,2823.1472 2293.4468,2823.7801 Q2293.4468,2824.7879 2293.8061,2825.2722 Q2294.1655,2825.7488 2294.9624,2825.7488 Q2295.2593,2825.7488 2295.5718,2825.6707 Q2295.8843,2825.5926 2296.2983,2825.4051 L2296.2983,2826.5144 Q2295.9311,2826.6707 2295.5327,2826.7488 Q2295.1421,2826.8269 2294.7593,2826.8269 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="61.6978" x="2305.2749" y="2826.082">AESCryptoStrategy</text><line style="stroke:#181818;stroke-width:0.25;" x1="2265.39" x2="2390.6076" y1="2831.366" y2="2831.366"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2268.89" y="2837.383"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="47.3198" x="2274.89" y="2840.849">key: SecretKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="2265.39" x2="2390.6076" y1="2844.8999" y2="2844.8999"/><ellipse cx="2270.39" cy="2852.4169" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="113.2176" x="2274.89" y="2854.3829">AESCryptoStrategy(key: SecretKey)</text><ellipse cx="2270.39" cy="2861.9509" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="89.1167" x="2274.89" y="2863.9169">encrypt(data: byte[]): byte[]</text><ellipse cx="2270.39" cy="2871.4848" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="89.0957" x="2274.89" y="2873.4508">decrypt(data: byte[]): byte[]</text></g><!--class E2ECryptoStrategy--><g class="entity" data-entity="E2ECryptoStrategy" data-source-line="276" data-uid="ent0070" id="entity_E2ECryptoStrategy"><rect fill="#F1F1F1" height="81.2038" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="183.4144" x="2408.795" y="2805.831"/><ellipse cx="2467.7383" cy="2813.831" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2467.4727,2817.2919 Q2466.5977,2817.2919 2466.0274,2816.9247 Q2465.4649,2816.5497 2465.1836,2815.8779 Q2464.9102,2815.1982 2464.9102,2814.2997 Q2464.9102,2813.2841 2465.2383,2812.5576 Q2465.5664,2811.831 2466.207,2811.4404 Q2466.8477,2811.0497 2467.7852,2811.0497 Q2468.2305,2811.0497 2468.5664,2811.1435 Q2468.9024,2811.2294 2469.2461,2811.4013 L2468.8399,2812.4091 Q2468.5274,2812.2529 2468.2539,2812.1904 Q2467.9883,2812.1279 2467.7461,2812.1279 Q2467.1602,2812.1279 2466.8086,2812.3935 Q2466.457,2812.6591 2466.3086,2813.1357 Q2466.1602,2813.6122 2466.1602,2814.2451 Q2466.1602,2815.2529 2466.5195,2815.7372 Q2466.8789,2816.2138 2467.6758,2816.2138 Q2467.9727,2816.2138 2468.2852,2816.1357 Q2468.5977,2816.0576 2469.0117,2815.8701 L2469.0117,2816.9794 Q2468.6445,2817.1357 2468.2461,2817.2138 Q2467.8555,2817.2919 2467.4727,2817.2919 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="61.2778" x="2477.9883" y="2816.547">E2ECryptoStrategy</text><line style="stroke:#181818;stroke-width:0.25;" x1="2409.295" x2="2591.7094" y1="2821.831" y2="2821.831"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2412.795" y="2827.848"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="73.2477" x="2418.795" y="2831.314">privateKey: PrivateKey</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2412.795" y="2837.3819"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="121.0995" x="2418.795" y="2840.8479">publicKeys: Map&lt;Integer, PublicKey&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="2409.295" x2="2591.7094" y1="2844.8989" y2="2844.8989"/><ellipse cx="2414.295" cy="2852.4159" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="138.7255" x="2418.795" y="2854.3819">E2ECryptoStrategy(privateKey: PrivateKey)</text><ellipse cx="2414.295" cy="2861.9498" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="170.4144" x="2418.795" y="2863.9158">addPublicKey(userId: int, publicKey: PublicKey): void</text><ellipse cx="2414.295" cy="2871.4838" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="89.1167" x="2418.795" y="2873.4498">encrypt(data: byte[]): byte[]</text><ellipse cx="2414.295" cy="2881.0178" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="89.0957" x="2418.795" y="2882.9838">decrypt(data: byte[]): byte[]</text></g><!--class ProtocolMessageDecorator--><g class="entity" data-entity="ProtocolMessageDecorator" data-source-line="286" data-uid="ent0072" id="entity_ProtocolMessageDecorator"><rect fill="#F1F1F1" height="90.7377" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="181.6364" x="2097.18" y="2429.316"/><ellipse cx="2143.9153" cy="2437.316" fill="#A9DCDF" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2141.5013,2440.191 L2143.1732,2434.0972 L2144.7435,2434.0972 L2146.431,2440.191 L2145.1966,2440.191 L2144.8294,2438.6832 L2143.0716,2438.6832 L2142.6966,2440.191 L2141.5013,2440.191 Z M2143.7044,2436.1676 L2143.3294,2437.6676 L2144.5872,2437.6676 L2144.2278,2436.1676 Q2144.1575,2435.8785 2144.095,2435.6051 Q2144.0325,2435.3238 2143.9622,2435.0347 Q2143.9075,2435.3238 2143.8372,2435.6051 Q2143.7669,2435.8785 2143.7044,2436.1676 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="83.9157" x="2154.1653" y="2440.032">ProtocolMessageDecorator</text><line style="stroke:#181818;stroke-width:0.25;" x1="2097.68" x2="2278.3164" y1="2445.316" y2="2445.316"/><polygon fill="none" points="2102.68,2450.333,2104.68,2452.333,2102.68,2454.333,2100.68,2452.333" style="stroke:#B38D22;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="123.0315" x="2107.18" y="2454.799">decoratedMessage: ProtocolMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="2097.68" x2="2278.3164" y1="2458.8499" y2="2458.8499"/><ellipse cx="2102.68" cy="2466.3669" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="168.6364" x="2107.18" y="2468.3329">ProtocolMessageDecorator(msg: ProtocolMessage)</text><ellipse cx="2102.68" cy="2475.9009" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58.1278" x="2107.18" y="2477.8669">toPacket(): Packet</text><ellipse cx="2102.68" cy="2485.4348" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="106.8476" x="2107.18" y="2487.4008">fromPacket(packet: Packet): void</text><ellipse cx="2102.68" cy="2494.9688" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="108.4716" x="2107.18" y="2496.9348">getMessageType(): MessageType</text><ellipse cx="2102.68" cy="2504.5028" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="44.6388" x="2107.18" y="2506.4688">getFrom(): int</text><ellipse cx="2102.68" cy="2514.0367" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="35.4619" x="2107.18" y="2516.0027">getTo(): int</text></g><g class="entity" data-entity="GMN74" data-source-line="297" data-uid="ent0075" id="entity_GMN74"><path d="M2569.88,2467.761 L2569.88,2481.614 L2641.1225,2481.614 L2641.1225,2472.761 L2636.1225,2467.761 L2569.88,2467.761" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M2636.1225,2467.761 L2636.1225,2472.761 L2641.1225,2472.761 L2636.1225,2467.761" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="60.7425" x="2572.88" y="2477.2095">Pattern: Decorator</text></g><!--class EncryptedMessage--><g class="entity" data-entity="EncryptedMessage" data-source-line="300" data-uid="ent0077" id="entity_EncryptedMessage"><rect fill="#F1F1F1" height="90.7377" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="231.8822" x="2120.56" y="2612.026"/><ellipse cx="2203.2227" cy="2620.026" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2202.9571,2623.4869 Q2202.0821,2623.4869 2201.5118,2623.1197 Q2200.9493,2622.7447 2200.668,2622.0729 Q2200.3946,2621.3932 2200.3946,2620.4947 Q2200.3946,2619.4791 2200.7227,2618.7526 Q2201.0509,2618.026 2201.6915,2617.6354 Q2202.3321,2617.2447 2203.2696,2617.2447 Q2203.7149,2617.2447 2204.0509,2617.3385 Q2204.3868,2617.4244 2204.7305,2617.5963 L2204.3243,2618.6041 Q2204.0118,2618.4479 2203.7384,2618.3854 Q2203.4727,2618.3229 2203.2305,2618.3229 Q2202.6446,2618.3229 2202.293,2618.5885 Q2201.9415,2618.8541 2201.793,2619.3307 Q2201.6446,2619.8072 2201.6446,2620.4401 Q2201.6446,2621.4479 2202.004,2621.9322 Q2202.3634,2622.4088 2203.1602,2622.4088 Q2203.4571,2622.4088 2203.7696,2622.3307 Q2204.0821,2622.2526 2204.4962,2622.0651 L2204.4962,2623.1744 Q2204.129,2623.3307 2203.7305,2623.4088 Q2203.3399,2623.4869 2202.9571,2623.4869 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="62.3068" x="2213.4727" y="2622.742">EncryptedMessage</text><line style="stroke:#181818;stroke-width:0.25;" x1="2121.06" x2="2351.9422" y1="2628.026" y2="2628.026"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2124.56" y="2634.043"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="101.6116" x="2130.56" y="2637.509">cryptoStrategy: CryptoStrategy</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2124.56" y="2643.5769"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="68.7607" x="2130.56" y="2647.0429">isEncrypted: boolean</text><line style="stroke:#181818;stroke-width:0.5;" x1="2121.06" x2="2351.9422" y1="2651.0939" y2="2651.0939"/><ellipse cx="2126.06" cy="2658.6109" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="218.8822" x="2130.56" y="2660.5769">EncryptedMessage(msg: ProtocolMessage, crypto: CryptoStrategy)</text><ellipse cx="2126.06" cy="2668.1448" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58.1278" x="2130.56" y="2670.1108">toPacket(): Packet</text><ellipse cx="2126.06" cy="2677.6788" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="106.8476" x="2130.56" y="2679.6448">fromPacket(packet: Packet): void</text><ellipse cx="2126.06" cy="2687.2128" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="89.5087" x="2130.56" y="2689.1788">decrypt(): ProtocolMessage</text><ellipse cx="2126.06" cy="2696.7467" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="72.9607" x="2130.56" y="2698.7127">isEncrypted(): boolean</text></g><!--class Repository--><g class="entity" data-entity="Repository" data-source-line="314" data-uid="ent0080" id="entity_Repository"><rect fill="#F1F1F1" height="81.2038" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="101.2977" x="2449.35" y="1881.191"/><ellipse cx="2479.0469" cy="1889.191" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2477.0625,1892.441 L2477.0625,1891.5894 L2478.2422,1891.4566 L2478.2422,1887.3551 L2477.0625,1887.2222 L2477.0625,1886.3707 L2480.6328,1886.3707 L2480.6328,1887.2222 L2479.4219,1887.3551 L2479.4219,1891.4566 L2480.6328,1891.5894 L2480.6328,1892.441 L2477.0625,1892.441 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="32.6479" x="2489.2969" y="1891.907">Repository</text><rect fill="#FFFFFF" height="9.1721" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,1;" width="4.006" x="2548.1416" y="1879.691"/><text fill="#000000" font-family="sans-serif" font-size="6" font-style="italic" lengthAdjust="spacing" textLength="3.006" x="2548.6416" y="1886.605">T</text><line style="stroke:#181818;stroke-width:0.25;" x1="2449.85" x2="2550.1477" y1="1897.191" y2="1897.191"/><line style="stroke:#181818;stroke-width:0.25;" x1="2449.85" x2="2550.1477" y1="1901.191" y2="1901.191"/><ellipse cx="2454.85" cy="1908.708" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.7488" x="2459.35" y="1910.674">add(item: T): void</text><ellipse cx="2454.85" cy="1918.2419" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="67.5497" x="2459.35" y="1920.2079">update(item: T): void</text><ellipse cx="2454.85" cy="1927.7759" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="64.6937" x="2459.35" y="1929.7419">delete(item: T): void</text><ellipse cx="2454.85" cy="1937.3098" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="88.2977" x="2459.35" y="1939.2758">deleteById(id: Object): void</text><ellipse cx="2454.85" cy="1946.8438" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="70.6507" x="2459.35" y="1948.8098">findById(id: Object): T</text><ellipse cx="2454.85" cy="1956.3778" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="52.0798" x="2459.35" y="1958.3438">findAll(): List&lt;T&gt;</text></g><g class="entity" data-entity="GMN81" data-source-line="323" data-uid="ent0082" id="entity_GMN81"><path d="M2463.19,1775.061 L2463.19,1788.914 A0,0 0 0 0 2463.19,1788.914 L2498,1788.914 L2500,1880.976 L2502,1788.914 L2536.8115,1788.914 A0,0 0 0 0 2536.8115,1788.914 L2536.8115,1780.061 L2531.8115,1775.061 L2463.19,1775.061 A0,0 0 0 0 2463.19,1775.061" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M2531.8115,1775.061 L2531.8115,1780.061 L2536.8115,1780.061 L2531.8115,1775.061" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="63.1215" x="2466.19" y="1784.5095">Pattern: Repository</text></g><!--class IdGenerator--><g class="entity" data-entity="IdGenerator" data-source-line="337" data-uid="ent0088" id="entity_IdGenerator"><rect fill="#F1F1F1" height="33.534" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="66.0528" x="2790.975" y="2256.146"/><ellipse cx="2803.9353" cy="2264.146" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2801.9509,2267.396 L2801.9509,2266.5444 L2803.1306,2266.4116 L2803.1306,2262.3101 L2801.9509,2262.1772 L2801.9509,2261.3257 L2805.5212,2261.3257 L2805.5212,2262.1772 L2804.3103,2262.3101 L2804.3103,2266.4116 L2805.5212,2266.5444 L2805.5212,2267.396 L2801.9509,2267.396 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="37.9189" x="2812.1487" y="2266.862">IdGenerator</text><line style="stroke:#181818;stroke-width:0.25;" x1="2791.475" x2="2856.5278" y1="2272.146" y2="2272.146"/><line style="stroke:#181818;stroke-width:0.25;" x1="2791.475" x2="2856.5278" y1="2276.146" y2="2276.146"/><ellipse cx="2796.475" cy="2283.663" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="53.0528" x="2800.975" y="2285.629">generateId(): int</text></g><g class="entity" data-entity="GMN89" data-source-line="341" data-uid="ent0090" id="entity_GMN89"><path d="M2707.34,2265.986 L2707.34,2279.839 A0,0 0 0 0 2707.34,2279.839 L2773.662,2279.839 A0,0 0 0 0 2773.662,2279.839 L2773.662,2275.036 L2790.735,2273.036 L2773.662,2271.036 L2773.662,2270.986 L2768.662,2265.986 L2707.34,2265.986 A0,0 0 0 0 2707.34,2265.986" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M2768.662,2265.986 L2768.662,2270.986 L2773.662,2270.986 L2768.662,2265.986" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="55.822" x="2710.34" y="2275.4345">Pattern: Strategy</text></g><!--class SequentialIdGenerator--><g class="entity" data-entity="SequentialIdGenerator" data-source-line="344" data-uid="ent0092" id="entity_SequentialIdGenerator"><rect fill="#F1F1F1" height="52.6019" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="120.0086" x="2763.995" y="2448.386"/><ellipse cx="2784.4459" cy="2456.386" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2784.1803,2459.8469 Q2783.3053,2459.8469 2782.735,2459.4797 Q2782.1725,2459.1047 2781.8913,2458.4329 Q2781.6178,2457.7532 2781.6178,2456.8547 Q2781.6178,2455.8391 2781.9459,2455.1126 Q2782.2741,2454.386 2782.9147,2453.9954 Q2783.5553,2453.6047 2784.4928,2453.6047 Q2784.9381,2453.6047 2785.2741,2453.6985 Q2785.61,2453.7844 2785.9538,2453.9563 L2785.5475,2454.9641 Q2785.235,2454.8079 2784.9616,2454.7454 Q2784.6959,2454.6829 2784.4538,2454.6829 Q2783.8678,2454.6829 2783.5163,2454.9485 Q2783.1647,2455.2141 2783.0163,2455.6907 Q2782.8678,2456.1672 2782.8678,2456.8001 Q2782.8678,2457.8079 2783.2272,2458.2922 Q2783.5866,2458.7688 2784.3834,2458.7688 Q2784.6803,2458.7688 2784.9928,2458.6907 Q2785.3053,2458.6126 2785.7194,2458.4251 L2785.7194,2459.5344 Q2785.3522,2459.6907 2784.9538,2459.7688 Q2784.5631,2459.8469 2784.1803,2459.8469 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="75.2287" x="2794.3239" y="2459.102">SequentialIdGenerator</text><line style="stroke:#181818;stroke-width:0.25;" x1="2764.495" x2="2883.5036" y1="2464.386" y2="2464.386"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2767.995" y="2470.403"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="76.5727" x="2773.995" y="2473.869">counter: AtomicInteger</text><line style="stroke:#181818;stroke-width:0.5;" x1="2764.495" x2="2883.5036" y1="2477.9199" y2="2477.9199"/><ellipse cx="2769.495" cy="2485.4369" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="107.0086" x="2773.995" y="2487.4029">SequentialIdGenerator(start: int)</text><ellipse cx="2769.495" cy="2494.9709" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="53.0528" x="2773.995" y="2496.9369">generateId(): int</text></g><!--class ConnectionState--><g class="entity" data-entity="ConnectionState" data-source-line="352" data-uid="ent0094" id="entity_ConnectionState"><rect fill="#F1F1F1" height="90.7377" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="127.2745" x="2847.865" y="1620.651"/><ellipse cx="2882.2349" cy="1628.651" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2881.9693,1632.1119 Q2881.0943,1632.1119 2880.5239,1631.7447 Q2879.9614,1631.3697 2879.6802,1630.6979 Q2879.4068,1630.0182 2879.4068,1629.1197 Q2879.4068,1628.1041 2879.7349,1627.3776 Q2880.063,1626.651 2880.7036,1626.2604 Q2881.3443,1625.8697 2882.2818,1625.8697 Q2882.7271,1625.8697 2883.063,1625.9635 Q2883.3989,1626.0494 2883.7427,1626.2213 L2883.3364,1627.2291 Q2883.0239,1627.0729 2882.7505,1627.0104 Q2882.4849,1626.9479 2882.2427,1626.9479 Q2881.6568,1626.9479 2881.3052,1627.2135 Q2880.9536,1627.4791 2880.8052,1627.9557 Q2880.6568,1628.4322 2880.6568,1629.0651 Q2880.6568,1630.0729 2881.0161,1630.5572 Q2881.3755,1631.0338 2882.1724,1631.0338 Q2882.4693,1631.0338 2882.7818,1630.9557 Q2883.0943,1630.8776 2883.5083,1630.6901 L2883.5083,1631.7994 Q2883.1411,1631.9557 2882.7427,1632.0338 Q2882.3521,1632.1119 2881.9693,1632.1119 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="54.2848" x="2892.4849" y="1631.367">ConnectionState</text><line style="stroke:#181818;stroke-width:0.25;" x1="2848.365" x2="2974.6395" y1="1636.651" y2="1636.651"/><ellipse cx="2853.365" cy="1644.168" fill="none" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="99.8616" x="2857.865" y="1646.134">channel: SocketChannel {final}</text><ellipse cx="2853.365" cy="1653.7019" fill="none" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="36.8059" x="2857.865" y="1655.6679">clientId: int</text><ellipse cx="2853.365" cy="1663.2359" fill="none" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="89.8027" x="2857.865" y="1665.2019">connectedAt: Instant {final}</text><ellipse cx="2853.365" cy="1672.7698" fill="none" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="95.8366" x="2857.865" y="1674.7358">readBuffer: ByteBuffer {final}</text><ellipse cx="2853.365" cy="1682.3038" fill="none" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="92.4136" x="2857.865" y="1684.2698">identified: boolean {volatile}</text><ellipse cx="2853.365" cy="1691.8378" fill="none" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="95.0666" x="2857.865" y="1693.8038">currentPacket: PacketBuilder</text><line style="stroke:#181818;stroke-width:0.5;" x1="2848.365" x2="2974.6395" y1="1697.8547" y2="1697.8547"/><ellipse cx="2853.365" cy="1705.3717" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="114.2745" x="2857.865" y="1707.3377">ConnectionState(c: SocketChannel)</text></g><g class="entity" data-entity="GMN95" data-source-line="363" data-uid="ent0096" id="entity_GMN95"><path d="M2669.145,1654.666 L2669.145,1677.372 A0,0 0 0 0 2669.145,1677.372 L2811.8551,1677.372 A0,0 0 0 0 2811.8551,1677.372 L2811.8551,1668.036 L2847.745,1666.036 L2811.8551,1664.036 L2811.8551,1659.666 L2806.8551,1654.666 L2669.145,1654.666 A0,0 0 0 0 2669.145,1654.666" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M2806.8551,1654.666 L2806.8551,1659.666 L2811.8551,1659.666 L2806.8551,1654.666" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="132.2101" x="2672.145" y="1664.1145">Classe interne statique de TchatsAppServer</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="122.2521" x="2672.145" y="1672.9675">ReprÃ©sente l'Ã©tat d'une connexion client</text></g><!--class ServerContext--><g class="entity" data-entity="ServerContext" data-source-line="368" data-uid="ent0098" id="entity_ServerContext"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="135.4295" x="3137.785" y="1900.261"/><ellipse cx="3179.9913" cy="1908.261" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M3179.7257,1911.7219 Q3178.8507,1911.7219 3178.2804,1911.3547 Q3177.7179,1910.9797 3177.4367,1910.3079 Q3177.1632,1909.6282 3177.1632,1908.7297 Q3177.1632,1907.7141 3177.4913,1906.9876 Q3177.8195,1906.261 3178.4601,1905.8704 Q3179.1007,1905.4797 3180.0382,1905.4797 Q3180.4835,1905.4797 3180.8195,1905.5735 Q3181.1554,1905.6594 3181.4992,1905.8313 L3181.0929,1906.8391 Q3180.7804,1906.6829 3180.507,1906.6204 Q3180.2413,1906.5579 3179.9992,1906.5579 Q3179.4132,1906.5579 3179.0617,1906.8235 Q3178.7101,1907.0891 3178.5617,1907.5657 Q3178.4132,1908.0422 3178.4132,1908.6751 Q3178.4132,1909.6829 3178.7726,1910.1672 Q3179.132,1910.6438 3179.9288,1910.6438 Q3180.2257,1910.6438 3180.5382,1910.5657 Q3180.8507,1910.4876 3181.2648,1910.3001 L3181.2648,1911.4094 Q3180.8976,1911.5657 3180.4992,1911.6438 Q3180.1085,1911.7219 3179.7257,1911.7219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="46.7668" x="3190.2413" y="1910.977">ServerContext</text><line style="stroke:#181818;stroke-width:0.25;" x1="3138.285" x2="3272.7145" y1="1916.261" y2="1916.261"/><line style="stroke:#181818;stroke-width:0.5;" x1="3138.285" x2="3272.7145" y1="1920.261" y2="1920.261"/><ellipse cx="3143.285" cy="1927.778" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="122.4295" x="3147.785" y="1929.744">sendPacketToClient(pkt: Packet): void</text><ellipse cx="3143.285" cy="1937.3119" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="71.8897" x="3147.785" y="1939.2779">generateClientId(): int</text></g><g class="entity" data-entity="GMN99" data-source-line="374" data-uid="ent0100" id="entity_GMN99"><path d="M3290.66,1897.161 L3290.66,1920.036 L3273.28,1922.036 L3290.66,1924.036 L3290.66,1946.426 A0,0 0 0 0 3290.66,1946.426 L3463.3351,1946.426 A0,0 0 0 0 3463.3351,1946.426 L3463.3351,1902.161 L3458.3351,1897.161 L3290.66,1897.161 A0,0 0 0 0 3290.66,1897.161" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M3458.3351,1897.161 L3458.3351,1902.161 L3463.3351,1902.161 L3458.3351,1897.161" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="105.7096" x="3293.66" y="1906.6095">Classe interne de TchatsAppServer</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="125.1316" x="3293.66" y="1915.4625">Fournit accÃ¨s aux fonctionnalitÃ©s serveur</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="53.287" x="3293.66" y="1924.3155">pour les handlers</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="1.69" x="3293.66" y="1933.1685">Â </text><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="20.618" x="3293.66" y="1942.0215">TODO:</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="139.8671" x="3315.968" y="1942.0215">Ajouter accÃ¨s aux dÃ©pÃ´ts utilisateurs/groupes</text></g><!--class TchatsAppServer--><g class="entity" data-entity="TchatsAppServer" data-source-line="382" data-uid="ent0102" id="entity_TchatsAppServer"><rect fill="#F1F1F1" height="290.9508" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="205.9893" x="2767.505" y="1299.701"/><ellipse cx="2840.6022" cy="1307.701" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2840.3366,1311.1619 Q2839.4616,1311.1619 2838.8913,1310.7947 Q2838.3288,1310.4197 2838.0476,1309.7479 Q2837.7741,1309.0682 2837.7741,1308.1697 Q2837.7741,1307.1541 2838.1022,1306.4276 Q2838.4304,1305.701 2839.071,1305.3104 Q2839.7116,1304.9197 2840.6491,1304.9197 Q2841.0944,1304.9197 2841.4304,1305.0135 Q2841.7663,1305.0994 2842.1101,1305.2713 L2841.7038,1306.2791 Q2841.3913,1306.1229 2841.1179,1306.0604 Q2840.8522,1305.9979 2840.6101,1305.9979 Q2840.0241,1305.9979 2839.6726,1306.2635 Q2839.321,1306.5291 2839.1726,1307.0057 Q2839.0241,1307.4822 2839.0241,1308.1151 Q2839.0241,1309.1229 2839.3835,1309.6072 Q2839.7429,1310.0838 2840.5397,1310.0838 Q2840.8366,1310.0838 2841.1491,1310.0057 Q2841.4616,1309.9276 2841.8757,1309.7401 L2841.8757,1310.8494 Q2841.5085,1311.0057 2841.1101,1311.0838 Q2840.7194,1311.1619 2840.3366,1311.1619 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="55.5448" x="2850.8522" y="1310.417">TchatsAppServer</text><line style="stroke:#181818;stroke-width:0.25;" x1="2768.005" x2="2972.9943" y1="1315.701" y2="1315.701"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1321.718"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" text-decoration="underline" textLength="62.8948" x="2777.505" y="1325.184">MAX_MSG_SIZE: int</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1331.2519"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" text-decoration="underline" textLength="67.6967" x="2777.505" y="1334.7179">BUFFER_LENGTH: int</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1340.7859"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="76.9997" x="2777.505" y="1344.2519">IDENTIFY_TIMEOUT: int</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1350.3198"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="192.9893" x="2777.505" y="1353.7858">activeConnections: Map&lt;SocketChannel, ConnectionState&gt;</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1359.8538"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="165.1084" x="2777.505" y="1363.3198">connectedClients: Map&lt;Integer, ConnectionState&gt;</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1369.3878"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="162.5883" x="2777.505" y="1372.8538">clientQueues: Map&lt;Integer, Queue&lt;ByteBuffer&gt;&gt;</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1378.9217"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="112.2376" x="2777.505" y="1382.3877">packetProcessor: PacketProcessor</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1388.4557"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="84.0627" x="2777.505" y="1391.9217">idGenerator: IdGenerator</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1397.9896"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="82.4877" x="2777.505" y="1401.4556">workers: ExecutorService</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1407.5236"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="122.3595" x="2777.505" y="1410.9896">scheduler: ScheduledExecutorService</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1417.0576"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.3218" x="2777.505" y="1420.5235">selector: Selector</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1426.5915"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="84.7067" x="2777.505" y="1430.0575">started: boolean {volatile}</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1436.1255"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="96.7396" x="2777.505" y="1439.5915">serverContext: ServerContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="2768.005" x2="2972.9943" y1="1443.6425" y2="1443.6425"/><ellipse cx="2773.005" cy="1451.1594" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="151.9554" x="2777.505" y="1453.1254">TchatsAppServer(port: int, workerThreads: int)</text><ellipse cx="2773.005" cy="1460.6934" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="37.0229" x="2777.505" y="1462.6594">start(): void</text><ellipse cx="2773.005" cy="1470.2273" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="36.2179" x="2777.505" y="1472.1933">stop(): void</text><ellipse cx="2773.005" cy="1479.7613" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="152.4034" x="2777.505" y="1481.7273">setPacketProcessor(pp: PacketProcessor): void</text><ellipse cx="2773.005" cy="1489.2953" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="147.6714" x="2777.505" y="1491.2613">setClientIdGenerator(gen: IdGenerator): void</text><ellipse cx="2773.005" cy="1498.8292" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="95.4656" x="2777.505" y="1500.7952">sendPacket(pkt: Packet): void</text><ellipse cx="2773.005" cy="1508.3632" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="102.5636" x="2777.505" y="1510.3292">removeClient(clientId: int): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1516.3971"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="99.8266" x="2777.505" y="1519.8631">accept(key: SelectionKey): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1525.9311"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="93.4706" x="2777.505" y="1529.3971">read(key: SelectionKey): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1535.4651"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="186.4233" x="2777.505" y="1538.931">readPacket(buf: ByteBuffer, state: ConnectionState): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1544.999"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="95.0736" x="2777.505" y="1548.465">write(key: SelectionKey): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1554.533"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="166.2074" x="2777.505" y="1557.999">processMessage(message: ProtocolMessage): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1564.0669"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="124.7255" x="2777.505" y="1567.5329">closeChannel(sc: SocketChannel): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1573.6009"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="106.9526" x="2777.505" y="1577.0669">closeKey(key: SelectionKey): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2771.505" y="1583.1348"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="164.4294" x="2777.505" y="1586.6008">wakeupSendQueue(channel: SocketChannel): void</text></g><!--class ServerPacketHandler--><g class="entity" data-entity="ServerPacketHandler" data-source-line="415" data-uid="ent0103" id="entity_ServerPacketHandler"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="197.7153" x="2922.64" y="1900.261"/><ellipse cx="2987.0293" cy="1908.261" fill="#A9DCDF" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2984.6152,1911.136 L2986.2871,1905.0422 L2987.8574,1905.0422 L2989.5449,1911.136 L2988.3105,1911.136 L2987.9433,1909.6282 L2986.1855,1909.6282 L2985.8105,1911.136 L2984.6152,1911.136 Z M2986.8183,1907.1126 L2986.4433,1908.6126 L2987.7011,1908.6126 L2987.3418,1907.1126 Q2987.2714,1906.8235 2987.2089,1906.5501 Q2987.1464,1906.2688 2987.0761,1905.9797 Q2987.0214,1906.2688 2986.9511,1906.5501 Q2986.8808,1906.8235 2986.8183,1907.1126 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="64.6868" x="2997.2793" y="1910.977">ServerPacketHandler</text><line style="stroke:#181818;stroke-width:0.25;" x1="2923.14" x2="3119.8553" y1="1916.261" y2="1916.261"/><line style="stroke:#181818;stroke-width:0.5;" x1="2923.14" x2="3119.8553" y1="1920.261" y2="1920.261"/><ellipse cx="2928.14" cy="1927.778" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="184.7153" x="2932.64" y="1929.744">handle(msg: ProtocolMessage, context: ServerContext): void</text><ellipse cx="2928.14" cy="1937.3119" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="124.2985" x="2932.64" y="1939.2779">canHandle(type: MessageType): boolean</text></g><!--class TextMessageHandler--><g class="entity" data-entity="TextMessageHandler" data-source-line="421" data-uid="ent0104" id="entity_TextMessageHandler"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="210.8263" x="3144.585" y="2078.201"/><ellipse cx="3213.0518" cy="2086.201" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M3212.7861,2089.6619 Q3211.9111,2089.6619 3211.3408,2089.2947 Q3210.7783,2088.9197 3210.4971,2088.2479 Q3210.2236,2087.5682 3210.2236,2086.6697 Q3210.2236,2085.6541 3210.5518,2084.9276 Q3210.8799,2084.201 3211.5205,2083.8104 Q3212.1611,2083.4197 3213.0986,2083.4197 Q3213.544,2083.4197 3213.8799,2083.5135 Q3214.2158,2083.5994 3214.5596,2083.7713 L3214.1533,2084.7791 Q3213.8408,2084.6229 3213.5674,2084.5604 Q3213.3018,2084.4979 3213.0596,2084.4979 Q3212.4736,2084.4979 3212.1221,2084.7635 Q3211.7705,2085.0291 3211.6221,2085.5057 Q3211.4736,2085.9822 3211.4736,2086.6151 Q3211.4736,2087.6229 3211.833,2088.1072 Q3212.1924,2088.5838 3212.9893,2088.5838 Q3213.2861,2088.5838 3213.5986,2088.5057 Q3213.9111,2088.4276 3214.3252,2088.2401 L3214.3252,2089.3494 Q3213.958,2089.5057 3213.5596,2089.5838 Q3213.169,2089.6619 3212.7861,2089.6619 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="69.6427" x="3223.3018" y="2088.917">TextMessageHandler</text><line style="stroke:#181818;stroke-width:0.25;" x1="3145.085" x2="3354.9113" y1="2094.201" y2="2094.201"/><line style="stroke:#181818;stroke-width:0.5;" x1="3145.085" x2="3354.9113" y1="2098.201" y2="2098.201"/><ellipse cx="3150.085" cy="2105.718" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="197.8263" x="3154.585" y="2107.684">handle(msg: ProtocolMessage, context: ServerContext): void</text><ellipse cx="3150.085" cy="2115.2519" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="132.7335" x="3154.585" y="2117.2179">canHandle(type: MessageType): boolean</text></g><!--class MediaMessageHandler--><g class="entity" data-entity="MediaMessageHandler" data-source-line="427" data-uid="ent0106" id="entity_MediaMessageHandler"><rect fill="#F1F1F1" height="62.1358" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="210.8263" x="2916.085" y="2068.666"/><ellipse cx="2981.4193" cy="2076.666" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2981.1536,2080.1269 Q2980.2786,2080.1269 2979.7083,2079.7597 Q2979.1458,2079.3847 2978.8646,2078.7129 Q2978.5911,2078.0332 2978.5911,2077.1347 Q2978.5911,2076.1191 2978.9193,2075.3926 Q2979.2474,2074.666 2979.888,2074.2754 Q2980.5286,2073.8847 2981.4661,2073.8847 Q2981.9115,2073.8847 2982.2474,2073.9785 Q2982.5833,2074.0644 2982.9271,2074.2363 L2982.5208,2075.2441 Q2982.2083,2075.0879 2981.9349,2075.0254 Q2981.6693,2074.9629 2981.4271,2074.9629 Q2980.8411,2074.9629 2980.4896,2075.2285 Q2980.138,2075.4941 2979.9896,2075.9707 Q2979.8411,2076.4472 2979.8411,2077.0801 Q2979.8411,2078.0879 2980.2005,2078.5722 Q2980.5599,2079.0488 2981.3568,2079.0488 Q2981.6536,2079.0488 2981.9661,2078.9707 Q2982.2786,2078.8926 2982.6927,2078.7051 L2982.6927,2079.8144 Q2982.3255,2079.9707 2981.9271,2080.0488 Q2981.5365,2080.1269 2981.1536,2080.1269 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="75.9077" x="2991.6693" y="2079.382">MediaMessageHandler</text><line style="stroke:#181818;stroke-width:0.25;" x1="2916.585" x2="3126.4113" y1="2084.666" y2="2084.666"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2920.085" y="2090.683"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="95.9137" x="2926.085" y="2094.149">mediaStorage: MediaStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="2916.585" x2="3126.4113" y1="2098.1999" y2="2098.1999"/><ellipse cx="2921.585" cy="2105.7169" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="155.0004" x="2926.085" y="2107.6829">MediaMessageHandler(storage: MediaStorage)</text><ellipse cx="2921.585" cy="2115.2509" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="197.8263" x="2926.085" y="2117.2169">handle(msg: ProtocolMessage, context: ServerContext): void</text><ellipse cx="2921.585" cy="2124.7848" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="132.7335" x="2926.085" y="2126.7508">canHandle(type: MessageType): boolean</text></g><!--class ReactionHandler--><g class="entity" data-entity="ReactionHandler" data-source-line="435" data-uid="ent0108" id="entity_ReactionHandler"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="210.8263" x="2687.585" y="2078.201"/><ellipse cx="2763.4367" cy="2086.201" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2763.1711,2089.6619 Q2762.2961,2089.6619 2761.7258,2089.2947 Q2761.1633,2088.9197 2760.8821,2088.2479 Q2760.6086,2087.5682 2760.6086,2086.6697 Q2760.6086,2085.6541 2760.9367,2084.9276 Q2761.2649,2084.201 2761.9055,2083.8104 Q2762.5461,2083.4197 2763.4836,2083.4197 Q2763.9289,2083.4197 2764.2649,2083.5135 Q2764.6008,2083.5994 2764.9446,2083.7713 L2764.5383,2084.7791 Q2764.2258,2084.6229 2763.9524,2084.5604 Q2763.6867,2084.4979 2763.4446,2084.4979 Q2762.8586,2084.4979 2762.5071,2084.7635 Q2762.1555,2085.0291 2762.0071,2085.5057 Q2761.8586,2085.9822 2761.8586,2086.6151 Q2761.8586,2087.6229 2762.218,2088.1072 Q2762.5774,2088.5838 2763.3742,2088.5838 Q2763.6711,2088.5838 2763.9836,2088.5057 Q2764.2961,2088.4276 2764.7102,2088.2401 L2764.7102,2089.3494 Q2764.343,2089.5057 2763.9446,2089.5838 Q2763.5539,2089.6619 2763.1711,2089.6619 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="54.8728" x="2773.6867" y="2088.917">ReactionHandler</text><line style="stroke:#181818;stroke-width:0.25;" x1="2688.085" x2="2897.9113" y1="2094.201" y2="2094.201"/><line style="stroke:#181818;stroke-width:0.5;" x1="2688.085" x2="2897.9113" y1="2098.201" y2="2098.201"/><ellipse cx="2693.085" cy="2105.718" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="197.8263" x="2697.585" y="2107.684">handle(msg: ProtocolMessage, context: ServerContext): void</text><ellipse cx="2693.085" cy="2115.2519" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="132.7335" x="2697.585" y="2117.2179">canHandle(type: MessageType): boolean</text></g><!--class GroupManagementHandler--><g class="entity" data-entity="GroupManagementHandler" data-source-line="441" data-uid="ent0110" id="entity_GroupManagementHandler"><rect fill="#F1F1F1" height="100.2717" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="232.7782" x="3373.11" y="2049.601"/><ellipse cx="3441.6888" cy="2057.601" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M3441.4231,2061.0619 Q3440.5481,2061.0619 3439.9778,2060.6947 Q3439.4153,2060.3197 3439.1341,2059.6479 Q3438.8606,2058.9682 3438.8606,2058.0697 Q3438.8606,2057.0541 3439.1888,2056.3276 Q3439.5169,2055.601 3440.1575,2055.2104 Q3440.7981,2054.8197 3441.7356,2054.8197 Q3442.181,2054.8197 3442.5169,2054.9135 Q3442.8528,2054.9994 3443.1966,2055.1713 L3442.7903,2056.1791 Q3442.4778,2056.0229 3442.2044,2055.9604 Q3441.9388,2055.8979 3441.6966,2055.8979 Q3441.1106,2055.8979 3440.7591,2056.1635 Q3440.4075,2056.4291 3440.2591,2056.9057 Q3440.1106,2057.3822 3440.1106,2058.0151 Q3440.1106,2059.0229 3440.47,2059.5072 Q3440.8294,2059.9838 3441.6263,2059.9838 Q3441.9231,2059.9838 3442.2356,2059.9057 Q3442.5481,2059.8276 3442.9622,2059.6401 L3442.9622,2060.7494 Q3442.595,2060.9057 3442.1966,2060.9838 Q3441.806,2061.0619 3441.4231,2061.0619 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="91.3707" x="3451.9388" y="2060.317">GroupManagementHandler</text><line style="stroke:#181818;stroke-width:0.25;" x1="3373.61" x2="3605.3882" y1="2065.601" y2="2065.601"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="3377.11" y="2071.618"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="111.9086" x="3383.11" y="2075.084">groups: Map&lt;Integer, GroupInfo&gt;</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="3377.11" y="2081.1519"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="104.6916" x="3383.11" y="2084.6179">groupIdGenerator: IdGenerator</text><line style="stroke:#181818;stroke-width:0.5;" x1="3373.61" x2="3605.3882" y1="2088.6689" y2="2088.6689"/><ellipse cx="3378.61" cy="2096.1859" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="197.8263" x="3383.11" y="2098.1519">handle(msg: ProtocolMessage, context: ServerContext): void</text><ellipse cx="3378.61" cy="2105.7198" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="132.7335" x="3383.11" y="2107.6858">canHandle(type: MessageType): boolean</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="3377.11" y="2113.7538"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="143.7865" x="3383.11" y="2117.2198">createGroup(adminId: int, name: String): int</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="3377.11" y="2123.2878"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="207.1922" x="3383.11" y="2126.7538">addMember(groupId: int, memberId: int, requesterId: int): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="3377.11" y="2132.8217"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="219.7782" x="3383.11" y="2136.2877">removeMember(groupId: int, memberId: int, requesterId: int): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="3377.11" y="2142.3557"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="157.0934" x="3383.11" y="2145.8217">deleteGroup(groupId: int, requesterId: int): void</text></g><!--class ServerPacketRouter--><g class="entity" data-entity="ServerPacketRouter" data-source-line="453" data-uid="ent0112" id="entity_ServerPacketRouter"><rect fill="#F1F1F1" height="81.2038" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="184.7373" x="2929.13" y="1741.386"/><ellipse cx="2986.8273" cy="1749.386" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2986.5617,1752.8469 Q2985.6867,1752.8469 2985.1164,1752.4797 Q2984.5539,1752.1047 2984.2726,1751.4329 Q2983.9992,1750.7532 2983.9992,1749.8547 Q2983.9992,1748.8391 2984.3273,1748.1126 Q2984.6554,1747.386 2985.296,1746.9954 Q2985.9367,1746.6047 2986.8742,1746.6047 Q2987.3195,1746.6047 2987.6554,1746.6985 Q2987.9914,1746.7844 2988.3351,1746.9563 L2987.9289,1747.9641 Q2987.6164,1747.8079 2987.3429,1747.7454 Q2987.0773,1747.6829 2986.8351,1747.6829 Q2986.2492,1747.6829 2985.8976,1747.9485 Q2985.546,1748.2141 2985.3976,1748.6907 Q2985.2492,1749.1672 2985.2492,1749.8001 Q2985.2492,1750.8079 2985.6085,1751.2922 Q2985.9679,1751.7688 2986.7648,1751.7688 Q2987.0617,1751.7688 2987.3742,1751.6907 Q2987.6867,1751.6126 2988.1007,1751.4251 L2988.1007,1752.5344 Q2987.7335,1752.6907 2987.3351,1752.7688 Q2986.9445,1752.8469 2986.5617,1752.8469 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="65.0928" x="2997.0773" y="1752.102">ServerPacketRouter</text><line style="stroke:#181818;stroke-width:0.25;" x1="2929.63" x2="3113.3673" y1="1757.386" y2="1757.386"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2933.13" y="1763.403"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="121.1415" x="2939.13" y="1766.869">handlers: List&lt;ServerPacketHandler&gt;</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2933.13" y="1772.9369"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="96.7396" x="2939.13" y="1776.4029">serverContext: ServerContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="2929.63" x2="3113.3673" y1="1780.4539" y2="1780.4539"/><ellipse cx="2934.63" cy="1787.9709" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="144.3815" x="2939.13" y="1789.9369">ServerPacketRouter(context: ServerContext)</text><ellipse cx="2934.63" cy="1797.5048" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="159.1514" x="2939.13" y="1799.4708">addHandler(handler: ServerPacketHandler): void</text><ellipse cx="2934.63" cy="1807.0388" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="171.7373" x="2939.13" y="1809.0048">removeHandler(handler: ServerPacketHandler): void</text><ellipse cx="2934.63" cy="1816.5728" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="137.0245" x="2939.13" y="1818.5388">process(message: ProtocolMessage): void</text></g><!--class PacketProcessor--><g class="entity" data-entity="PacketProcessor" data-source-line="454" data-uid="ent0113" id="entity_PacketProcessor"><rect fill="#F1F1F1" height="24" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="66.5328" x="2992.735" y="1654.016"/><ellipse cx="3000.235" cy="1662.016" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2998.2506,1665.266 L2998.2506,1664.4144 L2999.4303,1664.2816 L2999.4303,1660.1801 L2998.2506,1660.0472 L2998.2506,1659.1957 L3001.8209,1659.1957 L3001.8209,1660.0472 L3000.61,1660.1801 L3000.61,1664.2816 L3001.8209,1664.4144 L3001.8209,1665.266 L2998.2506,1665.266 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="50.5328" x="3007.235" y="1664.732">PacketProcessor</text><line style="stroke:#181818;stroke-width:0.25;" x1="2993.235" x2="3058.7678" y1="1670.016" y2="1670.016"/><line style="stroke:#181818;stroke-width:0.25;" x1="2993.235" x2="3058.7678" y1="1674.016" y2="1674.016"/></g><g class="entity" data-entity="GMN115" data-source-line="463" data-uid="ent0116" id="entity_GMN115"><path d="M2792.755,1914.866 L2792.755,1928.719 L2905.2466,1928.719 L2905.2466,1919.866 L2900.2466,1914.866 L2792.755,1914.866" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M2900.2466,1914.866 L2900.2466,1919.866 L2905.2466,1919.866 L2900.2466,1914.866" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="101.9916" x="2795.755" y="1924.3145">Pattern: Chain of Responsibility</text></g><!--class GroupInfo--><g class="entity" data-entity="GroupInfo" data-source-line="467" data-uid="ent0118" id="entity_GroupInfo"><rect fill="#F1F1F1" height="128.8735" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="179.9634" x="3475.52" y="2208.476"/><ellipse cx="3546.2793" cy="2216.476" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M3546.0136,2219.9369 Q3545.1386,2219.9369 3544.5683,2219.5697 Q3544.0058,2219.1947 3543.7246,2218.5229 Q3543.4511,2217.8432 3543.4511,2216.9447 Q3543.4511,2215.9291 3543.7793,2215.2026 Q3544.1074,2214.476 3544.748,2214.0854 Q3545.3886,2213.6947 3546.3261,2213.6947 Q3546.7714,2213.6947 3547.1074,2213.7885 Q3547.4433,2213.8744 3547.7871,2214.0463 L3547.3808,2215.0541 Q3547.0683,2214.8979 3546.7949,2214.8354 Q3546.5293,2214.7729 3546.2871,2214.7729 Q3545.7011,2214.7729 3545.3496,2215.0385 Q3544.998,2215.3041 3544.8496,2215.7807 Q3544.7011,2216.2572 3544.7011,2216.8901 Q3544.7011,2217.8979 3545.0605,2218.3822 Q3545.4199,2218.8588 3546.2168,2218.8588 Q3546.5136,2218.8588 3546.8261,2218.7807 Q3547.1386,2218.7026 3547.5527,2218.5151 L3547.5527,2219.6244 Q3547.1855,2219.7807 3546.7871,2219.8588 Q3546.3964,2219.9369 3546.0136,2219.9369 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="34.1949" x="3556.5293" y="2219.192">GroupInfo</text><line style="stroke:#181818;stroke-width:0.25;" x1="3476.02" x2="3654.9834" y1="2224.476" y2="2224.476"/><ellipse cx="3481.02" cy="2231.993" fill="none" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="60.5078" x="3485.52" y="2233.959">groupId: int {final}</text><ellipse cx="3481.02" cy="2241.5269" fill="none" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="61.3548" x="3485.52" y="2243.4929">adminId: int {final}</text><ellipse cx="3481.02" cy="2251.0609" fill="none" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="77.8747" x="3485.52" y="2253.0269">members: Set&lt;Integer&gt;</text><ellipse cx="3481.02" cy="2260.5948" fill="none" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="42.1398" x="3485.52" y="2262.5608">name: String</text><line style="stroke:#181818;stroke-width:0.5;" x1="3476.02" x2="3654.9834" y1="2266.6118" y2="2266.6118"/><ellipse cx="3481.02" cy="2274.1288" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="166.9634" x="3485.52" y="2276.0948">GroupInfo(groupId: int, adminId: int, name: String)</text><ellipse cx="3481.02" cy="2283.6628" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="109.5356" x="3485.52" y="2285.6288">addMember(memberId: int): void</text><ellipse cx="3481.02" cy="2293.1967" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="122.1215" x="3485.52" y="2295.1627">removeMember(memberId: int): void</text><ellipse cx="3481.02" cy="2302.7307" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="101.3736" x="3485.52" y="2304.6967">isMember(userId: int): boolean</text><ellipse cx="3481.02" cy="2312.2646" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="94.8426" x="3485.52" y="2314.2306">isAdmin(userId: int): boolean</text><ellipse cx="3481.02" cy="2321.7986" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58.1138" x="3485.52" y="2323.7646">getName(): String</text><ellipse cx="3481.02" cy="2331.3326" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="93.5056" x="3485.52" y="2333.2985">setName(name: String): void</text></g><!--class MediaStorage--><g class="entity" data-entity="MediaStorage" data-source-line="483" data-uid="ent0119" id="entity_MediaStorage"><rect fill="#F1F1F1" height="62.1358" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="163.7234" x="2939.64" y="2241.841"/><ellipse cx="2997.7153" cy="2249.841" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2995.7309,2253.091 L2995.7309,2252.2394 L2996.9106,2252.1066 L2996.9106,2248.0051 L2995.7309,2247.8722 L2995.7309,2247.0207 L2999.3012,2247.0207 L2999.3012,2247.8722 L2998.0903,2248.0051 L2998.0903,2252.1066 L2999.3012,2252.2394 L2999.3012,2253.091 L2995.7309,2253.091 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="43.3228" x="3007.9653" y="2252.557">MediaStorage</text><line style="stroke:#181818;stroke-width:0.25;" x1="2940.14" x2="3102.8634" y1="2257.841" y2="2257.841"/><line style="stroke:#181818;stroke-width:0.25;" x1="2940.14" x2="3102.8634" y1="2261.841" y2="2261.841"/><ellipse cx="2945.14" cy="2269.358" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="150.7234" x="2949.64" y="2271.324">storeMedia(mediaId: String, data: byte[]): void</text><ellipse cx="2945.14" cy="2278.8919" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="123.3045" x="2949.64" y="2280.8579">retrieveMedia(mediaId: String): byte[]</text><ellipse cx="2945.14" cy="2288.4259" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="113.2176" x="2949.64" y="2290.3919">deleteMedia(mediaId: String): void</text><ellipse cx="2945.14" cy="2297.9598" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="103.9706" x="2949.64" y="2299.9258">exists(mediaId: String): boolean</text></g><!--class FileSystemMediaStorage--><g class="entity" data-entity="FileSystemMediaStorage" data-source-line="490" data-uid="ent0120" id="entity_FileSystemMediaStorage"><rect fill="#F1F1F1" height="81.2038" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="163.7234" x="2939.64" y="2434.086"/><ellipse cx="2978.8819" cy="2442.086" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2978.6162,2445.5469 Q2977.7412,2445.5469 2977.1709,2445.1797 Q2976.6084,2444.8047 2976.3272,2444.1329 Q2976.0537,2443.4532 2976.0537,2442.5547 Q2976.0537,2441.5391 2976.3819,2440.8126 Q2976.71,2440.086 2977.3506,2439.6954 Q2977.9912,2439.3047 2978.9287,2439.3047 Q2979.3741,2439.3047 2979.71,2439.3985 Q2980.0459,2439.4844 2980.3897,2439.6563 L2979.9834,2440.6641 Q2979.6709,2440.5079 2979.3975,2440.4454 Q2979.1319,2440.3829 2978.8897,2440.3829 Q2978.3037,2440.3829 2977.9522,2440.6485 Q2977.6006,2440.9141 2977.4522,2441.3907 Q2977.3037,2441.8672 2977.3037,2442.5001 Q2977.3037,2443.5079 2977.6631,2443.9922 Q2978.0225,2444.4688 2978.8194,2444.4688 Q2979.1162,2444.4688 2979.4287,2444.3907 Q2979.7412,2444.3126 2980.1553,2444.1251 L2980.1553,2445.2344 Q2979.7881,2445.3907 2979.3897,2445.4688 Q2978.9991,2445.5469 2978.6162,2445.5469 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="80.9897" x="2989.1319" y="2444.802">FileSystemMediaStorage</text><line style="stroke:#181818;stroke-width:0.25;" x1="2940.14" x2="3102.8634" y1="2450.086" y2="2450.086"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="2943.64" y="2456.103"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="44.0508" x="2949.64" y="2459.569">baseDir: Path</text><line style="stroke:#181818;stroke-width:0.5;" x1="2940.14" x2="3102.8634" y1="2463.6199" y2="2463.6199"/><ellipse cx="2945.14" cy="2471.1369" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="129.2405" x="2949.64" y="2473.1029">FileSystemMediaStorage(baseDir: Path)</text><ellipse cx="2945.14" cy="2480.6709" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="150.7234" x="2949.64" y="2482.6369">storeMedia(mediaId: String, data: byte[]): void</text><ellipse cx="2945.14" cy="2490.2048" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="123.3045" x="2949.64" y="2492.1708">retrieveMedia(mediaId: String): byte[]</text><ellipse cx="2945.14" cy="2499.7388" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="113.2176" x="2949.64" y="2501.7048">deleteMedia(mediaId: String): void</text><ellipse cx="2945.14" cy="2509.2728" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="103.9706" x="2949.64" y="2511.2388">exists(mediaId: String): boolean</text></g><!--class UserRepository--><g class="entity" data-entity="UserRepository" data-source-line="501" data-uid="ent0122" id="entity_UserRepository"><rect fill="#F1F1F1" height="90.7377" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="113.8206" x="3766.09" y="2054.366"/><ellipse cx="3795.6089" cy="2062.366" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M3795.3433,2065.8269 Q3794.4683,2065.8269 3793.898,2065.4597 Q3793.3355,2065.0847 3793.0542,2064.4129 Q3792.7808,2063.7332 3792.7808,2062.8347 Q3792.7808,2061.8191 3793.1089,2061.0926 Q3793.437,2060.366 3794.0777,2059.9754 Q3794.7183,2059.5847 3795.6558,2059.5847 Q3796.1011,2059.5847 3796.437,2059.6785 Q3796.773,2059.7644 3797.1167,2059.9363 L3796.7105,2060.9441 Q3796.398,2060.7879 3796.1245,2060.7254 Q3795.8589,2060.6629 3795.6167,2060.6629 Q3795.0308,2060.6629 3794.6792,2060.9285 Q3794.3277,2061.1941 3794.1792,2061.6707 Q3794.0308,2062.1472 3794.0308,2062.7801 Q3794.0308,2063.7879 3794.3902,2064.2722 Q3794.7495,2064.7488 3795.5464,2064.7488 Q3795.8433,2064.7488 3796.1558,2064.6707 Q3796.4683,2064.5926 3796.8823,2064.4051 L3796.8823,2065.5144 Q3796.5152,2065.6707 3796.1167,2065.7488 Q3795.7261,2065.8269 3795.3433,2065.8269 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="50.5328" x="3805.8589" y="2065.082">UserRepository</text><line style="stroke:#181818;stroke-width:0.25;" x1="3766.59" x2="3879.4106" y1="2070.366" y2="2070.366"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="3770.09" y="2076.383"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="100.8206" x="3776.09" y="2079.849">users: Map&lt;Integer, UserInfo&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="3766.59" x2="3879.4106" y1="2083.8999" y2="2083.8999"/><ellipse cx="3771.59" cy="2091.4169" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="81.1997" x="3776.09" y="2093.3829">add(user: UserInfo): void</text><ellipse cx="3771.59" cy="2100.9509" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="92.0006" x="3776.09" y="2102.9169">update(user: UserInfo): void</text><ellipse cx="3771.59" cy="2110.4848" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="89.1447" x="3776.09" y="2112.4508">delete(user: UserInfo): void</text><ellipse cx="3771.59" cy="2120.0188" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="88.2977" x="3776.09" y="2121.9848">deleteById(id: Object): void</text><ellipse cx="3771.59" cy="2129.5528" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="95.4096" x="3776.09" y="2131.5188">findById(id: Object): UserInfo</text><ellipse cx="3771.59" cy="2139.0867" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="76.8387" x="3776.09" y="2141.0527">findAll(): List&lt;UserInfo&gt;</text></g><!--class Repository--><g class="entity" data-entity="Repository" data-source-line="502" data-uid="ent0123" id="entity_Repository"><rect fill="#F1F1F1" height="24" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="48.6479" x="3730.175" y="1909.796"/><ellipse cx="3737.675" cy="1917.796" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M3735.6906,1921.046 L3735.6906,1920.1944 L3736.8703,1920.0616 L3736.8703,1915.9601 L3735.6906,1915.8272 L3735.6906,1914.9757 L3739.2609,1914.9757 L3739.2609,1915.8272 L3738.05,1915.9601 L3738.05,1920.0616 L3739.2609,1920.1944 L3739.2609,1921.046 L3735.6906,1921.046 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="32.6479" x="3744.675" y="1920.512">Repository</text><line style="stroke:#181818;stroke-width:0.25;" x1="3730.675" x2="3778.3229" y1="1925.796" y2="1925.796"/><line style="stroke:#181818;stroke-width:0.25;" x1="3730.675" x2="3778.3229" y1="1929.796" y2="1929.796"/></g><!--class GroupRepository--><g class="entity" data-entity="GroupRepository" data-source-line="512" data-uid="ent0125" id="entity_GroupRepository"><rect fill="#F1F1F1" height="90.7377" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="124.9086" x="3623.545" y="2054.366"/><ellipse cx="3655.8359" cy="2062.366" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M3655.5703,2065.8269 Q3654.6953,2065.8269 3654.125,2065.4597 Q3653.5625,2065.0847 3653.2812,2064.4129 Q3653.0078,2063.7332 3653.0078,2062.8347 Q3653.0078,2061.8191 3653.3359,2061.0926 Q3653.664,2060.366 3654.3046,2059.9754 Q3654.9453,2059.5847 3655.8828,2059.5847 Q3656.3281,2059.5847 3656.664,2059.6785 Q3657,2059.7644 3657.3437,2059.9363 L3656.9375,2060.9441 Q3656.625,2060.7879 3656.3515,2060.7254 Q3656.0859,2060.6629 3655.8437,2060.6629 Q3655.2578,2060.6629 3654.9062,2060.9285 Q3654.5546,2061.1941 3654.4062,2061.6707 Q3654.2578,2062.1472 3654.2578,2062.7801 Q3654.2578,2063.7879 3654.6171,2064.2722 Q3654.9765,2064.7488 3655.7734,2064.7488 Q3656.0703,2064.7488 3656.3828,2064.6707 Q3656.6953,2064.5926 3657.1093,2064.4051 L3657.1093,2065.5144 Q3656.7421,2065.6707 3656.3437,2065.7488 Q3655.9531,2065.8269 3655.5703,2065.8269 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.0768" x="3666.0859" y="2065.082">GroupRepository</text><line style="stroke:#181818;stroke-width:0.25;" x1="3624.045" x2="3747.9536" y1="2070.366" y2="2070.366"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="3627.545" y="2076.383"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="111.9086" x="3633.545" y="2079.849">groups: Map&lt;Integer, GroupInfo&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="3624.045" x2="3747.9536" y1="2083.8999" y2="2083.8999"/><ellipse cx="3629.045" cy="2091.4169" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="92.2877" x="3633.545" y="2093.3829">add(group: GroupInfo): void</text><ellipse cx="3629.045" cy="2100.9509" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="103.0886" x="3633.545" y="2102.9169">update(group: GroupInfo): void</text><ellipse cx="3629.045" cy="2110.4848" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="100.2326" x="3633.545" y="2112.4508">delete(group: GroupInfo): void</text><ellipse cx="3629.045" cy="2120.0188" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="88.2977" x="3633.545" y="2121.9848">deleteById(id: Object): void</text><ellipse cx="3629.045" cy="2129.5528" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="100.9536" x="3633.545" y="2131.5188">findById(id: Object): GroupInfo</text><ellipse cx="3629.045" cy="2139.0867" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="82.3827" x="3633.545" y="2141.0527">findAll(): List&lt;GroupInfo&gt;</text></g><!--class UserInfo--><g class="entity" data-entity="UserInfo" data-source-line="523" data-uid="ent0127" id="entity_UserInfo"><rect fill="#F1F1F1" height="119.3396" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="130.9636" x="3749.02" y="2213.241"/><ellipse cx="3798.0513" cy="2221.241" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M3797.7857,2224.7019 Q3796.9107,2224.7019 3796.3404,2224.3347 Q3795.7779,2223.9597 3795.4966,2223.2879 Q3795.2232,2222.6082 3795.2232,2221.7097 Q3795.2232,2220.6941 3795.5513,2219.9676 Q3795.8795,2219.241 3796.5201,2218.8504 Q3797.1607,2218.4597 3798.0982,2218.4597 Q3798.5435,2218.4597 3798.8795,2218.5535 Q3799.2154,2218.6394 3799.5591,2218.8113 L3799.1529,2219.8191 Q3798.8404,2219.6629 3798.567,2219.6004 Q3798.3013,2219.5379 3798.0591,2219.5379 Q3797.4732,2219.5379 3797.1216,2219.8035 Q3796.7701,2220.0691 3796.6216,2220.5457 Q3796.4732,2221.0222 3796.4732,2221.6551 Q3796.4732,2222.6629 3796.8326,2223.1472 Q3797.192,2223.6238 3797.9888,2223.6238 Q3798.2857,2223.6238 3798.5982,2223.5457 Q3798.9107,2223.4676 3799.3248,2223.2801 L3799.3248,2224.3894 Q3798.9576,2224.5457 3798.5591,2224.6238 Q3798.1685,2224.7019 3797.7857,2224.7019 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="28.6509" x="3808.3013" y="2223.957">UserInfo</text><line style="stroke:#181818;stroke-width:0.25;" x1="3749.52" x2="3879.4836" y1="2229.241" y2="2229.241"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="3753.02" y="2235.258"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="54.9638" x="3759.02" y="2238.724">userId: int {final}</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="3753.02" y="2244.7919"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="47.8658" x="3759.02" y="2248.2579">pseudo: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="3753.02" y="2254.3259"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="73.9547" x="3759.02" y="2257.7919">contacts: Set&lt;Integer&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="3749.52" x2="3879.4836" y1="2261.8429" y2="2261.8429"/><ellipse cx="3754.52" cy="2269.3598" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="117.9636" x="3759.02" y="2271.3258">UserInfo(userId: int, pseudo: String)</text><ellipse cx="3754.52" cy="2278.8938" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="49.3218" x="3759.02" y="2280.8598">getUserId(): int</text><ellipse cx="3754.52" cy="2288.4278" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="62.7758" x="3759.02" y="2290.3938">getPseudo(): String</text><ellipse cx="3754.52" cy="2297.9617" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="103.8936" x="3759.02" y="2299.9277">setPseudo(pseudo: String): void</text><ellipse cx="3754.52" cy="2307.4957" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="102.9556" x="3759.02" y="2309.4617">addContact(contactId: int): void</text><ellipse cx="3754.52" cy="2317.0296" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="115.5416" x="3759.02" y="2318.9956">removeContact(contactId: int): void</text><ellipse cx="3754.52" cy="2326.5636" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="89.9987" x="3759.02" y="2328.5296">getContacts(): Set&lt;Integer&gt;</text></g><!--class User--><g class="entity" data-entity="User" data-source-line="556" data-uid="ent0140" id="entity_User"><rect fill="#F1F1F1" height="119.3396" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="213.4232" x="478.79" y="409.991"/><ellipse cx="575.7222" cy="417.991" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M575.4565,421.4519 Q574.5815,421.4519 574.0112,421.0847 Q573.4487,420.7097 573.1675,420.0379 Q572.894,419.3582 572.894,418.4597 Q572.894,417.4441 573.2222,416.7176 Q573.5503,415.991 574.1909,415.6004 Q574.8315,415.2097 575.769,415.2097 Q576.2143,415.2097 576.5503,415.3035 Q576.8862,415.3894 577.23,415.5613 L576.8237,416.5691 Q576.5112,416.4129 576.2378,416.3504 Q575.9722,416.2879 575.73,416.2879 Q575.144,416.2879 574.7925,416.5535 Q574.4409,416.8191 574.2925,417.2957 Q574.144,417.7722 574.144,418.4051 Q574.144,419.4129 574.5034,419.8972 Q574.8628,420.3738 575.6597,420.3738 Q575.9565,420.3738 576.269,420.2957 Q576.5815,420.2176 576.9956,420.0301 L576.9956,421.1394 Q576.6284,421.2957 576.23,421.3738 Q575.8393,421.4519 575.4565,421.4519 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="15.3089" x="585.9722" y="420.707">User</text><line style="stroke:#181818;stroke-width:0.25;" x1="479.29" x2="691.7132" y1="425.991" y2="425.991"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="482.79" y="432.008"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="54.9638" x="488.79" y="435.474">userId: int {final}</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="482.79" y="441.5419"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="47.8658" x="488.79" y="445.0079">pseudo: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="482.79" y="451.0759"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="67.1437" x="488.79" y="454.5419">publicKey: PublicKey</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="482.79" y="460.6098"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="73.2477" x="488.79" y="464.0758">privateKey: PrivateKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="479.29" x2="691.7132" y1="468.1268" y2="468.1268"/><ellipse cx="484.29" cy="475.6438" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="104.6216" x="488.79" y="477.6098">User(userId: int, pseudo: String)</text><ellipse cx="484.29" cy="485.1778" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="49.3218" x="488.79" y="487.1438">getUserId(): int</text><ellipse cx="484.29" cy="494.7117" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="62.7758" x="488.79" y="496.6777">getPseudo(): String</text><ellipse cx="484.29" cy="504.2457" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="103.8936" x="488.79" y="506.2117">setPseudo(pseudo: String): void</text><ellipse cx="484.29" cy="513.7796" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="82.0537" x="488.79" y="515.7456">getPublicKey(): PublicKey</text><ellipse cx="484.29" cy="523.3136" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="200.4232" x="488.79" y="525.2796">setKeyPair(publicKey: PublicKey, privateKey: PrivateKey): void</text></g><!--class Contact--><g class="entity" data-entity="Contact" data-source-line="571" data-uid="ent0141" id="entity_Contact"><rect fill="#F1F1F1" height="128.8735" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="137.3825" x="10.81" y="573.631"/><ellipse cx="64.7133" cy="581.631" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M64.4477,585.0919 Q63.5727,585.0919 63.0024,584.7247 Q62.4399,584.3497 62.1586,583.6779 Q61.8852,582.9982 61.8852,582.0997 Q61.8852,581.0841 62.2133,580.3576 Q62.5414,579.631 63.1821,579.2404 Q63.8227,578.8497 64.7602,578.8497 Q65.2055,578.8497 65.5414,578.9435 Q65.8774,579.0294 66.2211,579.2013 L65.8149,580.2091 Q65.5024,580.0529 65.2289,579.9904 Q64.9633,579.9279 64.7211,579.9279 Q64.1352,579.9279 63.7836,580.1935 Q63.4321,580.4591 63.2836,580.9357 Q63.1352,581.4122 63.1352,582.0451 Q63.1352,583.0529 63.4946,583.5372 Q63.8539,584.0138 64.6508,584.0138 Q64.9477,584.0138 65.2602,583.9357 Q65.5727,583.8576 65.9868,583.6701 L65.9868,584.7794 Q65.6196,584.9357 65.2211,585.0138 Q64.8305,585.0919 64.4477,585.0919 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="25.3259" x="74.9633" y="584.347">Contact</text><line style="stroke:#181818;stroke-width:0.25;" x1="11.31" x2="147.6925" y1="589.631" y2="589.631"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="14.81" y="595.648"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="64.7077" x="20.81" y="599.114">contactId: int {final}</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="14.81" y="605.1819"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="47.8658" x="20.81" y="608.6479">pseudo: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="14.81" y="614.7159"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="67.1437" x="20.81" y="618.1819">publicKey: PublicKey</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="14.81" y="624.2498"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="54.7328" x="20.81" y="627.7158">lastSeen: Instant</text><line style="stroke:#181818;stroke-width:0.5;" x1="11.31" x2="147.6925" y1="631.7668" y2="631.7668"/><ellipse cx="16.31" cy="639.2838" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="124.3825" x="20.81" y="641.2498">Contact(contactId: int, pseudo: String)</text><ellipse cx="16.31" cy="648.8178" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="59.3388" x="20.81" y="650.7838">getContactId(): int</text><ellipse cx="16.31" cy="658.3517" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="62.7758" x="20.81" y="660.3177">getPseudo(): String</text><ellipse cx="16.31" cy="667.8857" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="117.4036" x="20.81" y="669.8517">updatePseudo(pseudo: String): void</text><ellipse cx="16.31" cy="677.4196" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="74.6757" x="20.81" y="679.3856">updateLastSeen(): void</text><ellipse cx="16.31" cy="686.9536" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="82.0537" x="20.81" y="688.9196">getPublicKey(): PublicKey</text><ellipse cx="16.31" cy="696.4876" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="109.9556" x="20.81" y="698.4535">setPublicKey(key: PublicKey): void</text></g><!--class Group--><g class="entity" data-entity="Group" data-source-line="587" data-uid="ent0142" id="entity_Group"><rect fill="#F1F1F1" height="157.4754" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="166.6214" x="165.69" y="559.331"/><ellipse cx="236.4493" cy="567.331" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M236.1836,570.7919 Q235.3086,570.7919 234.7383,570.4247 Q234.1758,570.0497 233.8946,569.3779 Q233.6211,568.6982 233.6211,567.7997 Q233.6211,566.7841 233.9493,566.0576 Q234.2774,565.331 234.918,564.9404 Q235.5586,564.5497 236.4961,564.5497 Q236.9414,564.5497 237.2774,564.6435 Q237.6133,564.7294 237.9571,564.9013 L237.5508,565.9091 Q237.2383,565.7529 236.9649,565.6904 Q236.6993,565.6279 236.4571,565.6279 Q235.8711,565.6279 235.5196,565.8935 Q235.168,566.1591 235.0196,566.6357 Q234.8711,567.1122 234.8711,567.7451 Q234.8711,568.7529 235.2305,569.2372 Q235.5899,569.7138 236.3868,569.7138 Q236.6836,569.7138 236.9961,569.6357 Q237.3086,569.5576 237.7227,569.3701 L237.7227,570.4794 Q237.3555,570.6357 236.9571,570.7138 Q236.5664,570.7919 236.1836,570.7919 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="20.8529" x="246.6993" y="570.047">Group</text><line style="stroke:#181818;stroke-width:0.25;" x1="166.19" x2="331.8114" y1="575.331" y2="575.331"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="169.69" y="581.348"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="60.5078" x="175.69" y="584.814">groupId: int {final}</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="169.69" y="590.8819"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="42.1398" x="175.69" y="594.3479">name: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="169.69" y="600.4159"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="61.3548" x="175.69" y="603.8819">adminId: int {final}</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="169.69" y="609.9498"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="77.8747" x="175.69" y="613.4158">members: Set&lt;Integer&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="166.19" x2="331.8114" y1="617.4668" y2="617.4668"/><ellipse cx="171.19" cy="624.9838" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="153.6214" x="175.69" y="626.9498">Group(groupId: int, name: String, adminId: int)</text><ellipse cx="171.19" cy="634.5178" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="54.8658" x="175.69" y="636.4838">getGroupId(): int</text><ellipse cx="171.19" cy="644.0517" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58.1138" x="175.69" y="646.0177">getName(): String</text><ellipse cx="171.19" cy="653.5857" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="93.5056" x="175.69" y="655.5517">setName(name: String): void</text><ellipse cx="171.19" cy="663.1196" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="55.4678" x="175.69" y="665.0856">getAdminId(): int</text><ellipse cx="171.19" cy="672.6536" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="92.6586" x="175.69" y="674.6196">getMembers(): Set&lt;Integer&gt;</text><ellipse cx="171.19" cy="682.1876" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="109.5356" x="175.69" y="684.1535">addMember(memberId: int): void</text><ellipse cx="171.19" cy="691.7215" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="122.1215" x="175.69" y="693.6875">removeMember(memberId: int): void</text><ellipse cx="171.19" cy="701.2555" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="94.8426" x="175.69" y="703.2215">isAdmin(userId: int): boolean</text><ellipse cx="171.19" cy="710.7894" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="101.3736" x="175.69" y="712.7554">isMember(userId: int): boolean</text></g><!--class Message--><g class="entity" data-entity="Message" data-source-line="606" data-uid="ent0143" id="entity_Message"><rect fill="#F1F1F1" height="252.815" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="213.1153" x="370.94" y="746.806"/><ellipse cx="460.7812" cy="754.806" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M460.5156,758.2669 Q459.6406,758.2669 459.0703,757.8997 Q458.5078,757.5247 458.2265,756.8529 Q457.9531,756.1732 457.9531,755.2747 Q457.9531,754.2591 458.2812,753.5326 Q458.6093,752.806 459.2499,752.4154 Q459.8906,752.0247 460.8281,752.0247 Q461.2734,752.0247 461.6093,752.1185 Q461.9453,752.2044 462.289,752.3763 L461.8828,753.3841 Q461.5703,753.2279 461.2968,753.1654 Q461.0312,753.1029 460.789,753.1029 Q460.2031,753.1029 459.8515,753.3685 Q459.4999,753.6341 459.3515,754.1107 Q459.2031,754.5872 459.2031,755.2201 Q459.2031,756.2279 459.5624,756.7122 Q459.9218,757.1888 460.7187,757.1888 Q461.0156,757.1888 461.3281,757.1107 Q461.6406,757.0326 462.0546,756.8451 L462.0546,757.9544 Q461.6874,758.1107 461.289,758.1888 Q460.8984,758.2669 460.5156,758.2669 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="29.1829" x="471.0312" y="757.522">Message</text><line style="stroke:#181818;stroke-width:0.25;" x1="371.44" x2="583.5553" y1="762.806" y2="762.806"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="374.94" y="768.823"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="80.8637" x="380.94" y="772.289">messageId: String {final}</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="374.94" y="778.3569"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="28.4339" x="380.94" y="781.8229">from: int</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="374.94" y="787.8909"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="19.1169" x="380.94" y="791.3569">to: int</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="374.94" y="797.4248"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="48.6428" x="380.94" y="800.8908">content: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="374.94" y="806.9588"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="83.9507" x="380.94" y="810.4248">timestamp: Instant {final}</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="374.94" y="816.4928"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="52.1708" x="380.94" y="819.9588">isRead: boolean</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="374.94" y="826.0267"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="54.7188" x="380.94" y="829.4927">replyToId: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="374.94" y="835.5607"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="122.6955" x="380.94" y="839.0267">reactions: Map&lt;String, Set&lt;Integer&gt;&gt;</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="374.94" y="845.0946"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="83.0477" x="380.94" y="848.5606">mediaAttachment: Media</text><line style="stroke:#181818;stroke-width:0.5;" x1="371.44" x2="583.5553" y1="852.6116" y2="852.6116"/><ellipse cx="376.44" cy="860.1286" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="200.1153" x="380.94" y="862.0946">Message(messageId: String, from: int, to: int, content: String)</text><ellipse cx="376.44" cy="869.6626" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="74.2347" x="380.94" y="871.6285">getMessageId(): String</text><ellipse cx="376.44" cy="879.1965" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="44.6388" x="380.94" y="881.1625">getFrom(): int</text><ellipse cx="376.44" cy="888.7305" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="35.4619" x="380.94" y="890.6965">getTo(): int</text><ellipse cx="376.44" cy="898.2644" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="64.6868" x="380.94" y="900.2304">getContent(): String</text><ellipse cx="376.44" cy="907.7984" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="78.8827" x="380.94" y="909.7644">getTimestamp(): Instant</text><ellipse cx="376.44" cy="917.3323" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="63.2588" x="380.94" y="919.2983">markAsRead(): void</text><ellipse cx="376.44" cy="926.8663" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.3708" x="380.94" y="928.8323">isRead(): boolean</text><ellipse cx="376.44" cy="936.4003" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="117.1866" x="380.94" y="938.3663">setReplyTo(messageId: String): void</text><ellipse cx="376.44" cy="945.9342" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="71.1617" x="380.94" y="947.9002">getReplyToId(): String</text><ellipse cx="376.44" cy="955.4682" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="141.7985" x="380.94" y="957.4342">addReaction(emoji: String, userId: int): void</text><ellipse cx="376.44" cy="965.0021" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="154.3844" x="380.94" y="966.9681">removeReaction(emoji: String, userId: int): void</text><ellipse cx="376.44" cy="974.5361" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="139.1385" x="380.94" y="976.5021">getReactions(): Map&lt;String, Set&lt;Integer&gt;&gt;</text><ellipse cx="376.44" cy="984.0701" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="135.0085" x="380.94" y="986.036">setMediaAttachment(media: Media): void</text><ellipse cx="376.44" cy="993.604" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="97.8316" x="380.94" y="995.57">getMediaAttachment(): Media</text></g><!--class Media--><g class="entity" data-entity="Media" data-source-line="635" data-uid="ent0144" id="entity_Media"><rect fill="#F1F1F1" height="71.6698" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="87.4237" x="433.79" y="1029.621"/><ellipse cx="465.7694" cy="1037.621" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M463.785,1040.871 L463.785,1040.0194 L464.9647,1039.8866 L464.9647,1035.7851 L463.785,1035.6522 L463.785,1034.8007 L467.3553,1034.8007 L467.3553,1035.6522 L466.1444,1035.7851 L466.1444,1039.8866 L467.3553,1040.0194 L467.3553,1040.871 L463.785,1040.871 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="19.2149" x="476.0194" y="1040.337">Media</text><line style="stroke:#181818;stroke-width:0.25;" x1="434.29" x2="520.7137" y1="1045.621" y2="1045.621"/><line style="stroke:#181818;stroke-width:0.25;" x1="434.29" x2="520.7137" y1="1049.621" y2="1049.621"/><ellipse cx="439.29" cy="1057.138" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="65.3868" x="443.79" y="1059.104">getMediaId(): String</text><ellipse cx="439.29" cy="1066.6719" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="74.4237" x="443.79" y="1068.6379">getMediaType(): String</text><ellipse cx="439.29" cy="1076.2059" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="72.8907" x="443.79" y="1078.1719">getThumbnail(): byte[]</text><ellipse cx="439.29" cy="1085.7398" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="63.9448" x="443.79" y="1087.7058">getContent(): byte[]</text><ellipse cx="439.29" cy="1095.2738" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="64.2248" x="443.79" y="1097.2398">isLoaded(): boolean</text></g><g class="entity" data-entity="GMN145" data-source-line="643" data-uid="ent0146" id="entity_GMN145"><path d="M538.555,1054.101 L538.555,1063.536 L521.395,1065.536 L538.555,1067.536 L538.555,1076.807 A0,0 0 0 0 538.555,1076.807 L623.4476,1076.807 A0,0 0 0 0 623.4476,1076.807 L623.4476,1059.101 L618.4476,1054.101 L538.555,1054.101 A0,0 0 0 0 538.555,1054.101" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M618.4476,1054.101 L618.4476,1059.101 L623.4476,1059.101 L618.4476,1054.101" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="46.5725" x="541.555" y="1063.5495">Pattern: Proxy</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="74.3926" x="541.555" y="1072.4025">Lazy loading des mÃ©dias</text></g><!--class RealMedia--><g class="entity" data-entity="RealMedia" data-source-line="647" data-uid="ent0148" id="entity_RealMedia"><rect fill="#F1F1F1" height="119.3396" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="217.1052" x="368.945" y="1385.506"/><ellipse cx="458.1877" cy="1393.506" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M457.9221,1396.9669 Q457.0471,1396.9669 456.4767,1396.5997 Q455.9142,1396.2247 455.633,1395.5529 Q455.3596,1394.8732 455.3596,1393.9747 Q455.3596,1392.9591 455.6877,1392.2326 Q456.0158,1391.506 456.6564,1391.1154 Q457.2971,1390.7247 458.2346,1390.7247 Q458.6799,1390.7247 459.0158,1390.8185 Q459.3517,1390.9044 459.6955,1391.0763 L459.2892,1392.0841 Q458.9767,1391.9279 458.7033,1391.8654 Q458.4377,1391.8029 458.1955,1391.8029 Q457.6096,1391.8029 457.258,1392.0685 Q456.9064,1392.3341 456.758,1392.8107 Q456.6096,1393.2872 456.6096,1393.9201 Q456.6096,1394.9279 456.9689,1395.4122 Q457.3283,1395.8888 458.1252,1395.8888 Q458.4221,1395.8888 458.7346,1395.8107 Q459.0471,1395.7326 459.4611,1395.5451 L459.4611,1396.6544 Q459.0939,1396.8107 458.6955,1396.8888 Q458.3049,1396.9669 457.9221,1396.9669 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="34.3699" x="468.4377" y="1396.222">RealMedia</text><line style="stroke:#181818;stroke-width:0.25;" x1="369.445" x2="585.5502" y1="1401.506" y2="1401.506"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="372.945" y="1407.523"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="50.6028" x="378.945" y="1410.989">mediaId: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="372.945" y="1417.0569"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="59.6398" x="378.945" y="1420.5229">mediaType: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="372.945" y="1426.5909"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.5458" x="378.945" y="1430.0569">thumbnail: byte[]</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="372.945" y="1436.1248"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="47.9008" x="378.945" y="1439.5908">content: byte[]</text><line style="stroke:#181818;stroke-width:0.5;" x1="369.445" x2="585.5502" y1="1443.6418" y2="1443.6418"/><ellipse cx="374.445" cy="1451.1588" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="204.1052" x="378.945" y="1453.1248">RealMedia(mediaId: String, mediaType: String, content: byte[])</text><ellipse cx="374.445" cy="1460.6928" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="65.3868" x="378.945" y="1462.6588">getMediaId(): String</text><ellipse cx="374.445" cy="1470.2267" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="74.4237" x="378.945" y="1472.1927">getMediaType(): String</text><ellipse cx="374.445" cy="1479.7607" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="72.8907" x="378.945" y="1481.7267">getThumbnail(): byte[]</text><ellipse cx="374.445" cy="1489.2946" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="63.9448" x="378.945" y="1491.2606">getContent(): byte[]</text><ellipse cx="374.445" cy="1498.8286" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="64.2248" x="378.945" y="1500.7946">isLoaded(): boolean</text></g><!--class MediaProxy--><g class="entity" data-entity="MediaProxy" data-source-line="661" data-uid="ent0150" id="entity_MediaProxy"><rect fill="#F1F1F1" height="138.4075" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="274.351" x="417.825" y="1131.291"/><ellipse cx="533.3911" cy="1139.291" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M533.1255,1142.7519 Q532.2505,1142.7519 531.6801,1142.3847 Q531.1176,1142.0097 530.8364,1141.3379 Q530.563,1140.6582 530.563,1139.7597 Q530.563,1138.7441 530.8911,1138.0176 Q531.2192,1137.291 531.8598,1136.9004 Q532.5005,1136.5097 533.438,1136.5097 Q533.8833,1136.5097 534.2192,1136.6035 Q534.5551,1136.6894 534.8989,1136.8613 L534.4926,1137.8691 Q534.1801,1137.7129 533.9067,1137.6504 Q533.6411,1137.5879 533.3989,1137.5879 Q532.813,1137.5879 532.4614,1137.8535 Q532.1098,1138.1191 531.9614,1138.5957 Q531.813,1139.0722 531.813,1139.7051 Q531.813,1140.7129 532.1723,1141.1972 Q532.5317,1141.6738 533.3286,1141.6738 Q533.6255,1141.6738 533.938,1141.5957 Q534.2505,1141.5176 534.6645,1141.3301 L534.6645,1142.4394 Q534.2973,1142.5957 533.8989,1142.6738 Q533.5083,1142.7519 533.1255,1142.7519 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="38.9689" x="543.6411" y="1142.007">MediaProxy</text><line style="stroke:#181818;stroke-width:0.25;" x1="418.325" x2="691.676" y1="1147.291" y2="1147.291"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="421.825" y="1153.308"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="50.6028" x="427.825" y="1156.774">mediaId: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="421.825" y="1162.8419"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="59.6398" x="427.825" y="1166.3079">mediaType: String</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="421.825" y="1172.3759"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.5458" x="427.825" y="1175.8419">thumbnail: byte[]</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="421.825" y="1181.9098"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="70.9727" x="427.825" y="1185.3758">realMedia: RealMedia</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="421.825" y="1191.4438"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="40.3058" x="427.825" y="1194.9098">client: Client</text><line style="stroke:#181818;stroke-width:0.5;" x1="418.325" x2="691.676" y1="1198.9608" y2="1198.9608"/><ellipse cx="423.325" cy="1206.4778" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="261.351" x="427.825" y="1208.4438">MediaProxy(mediaId: String, mediaType: String, thumbnail: byte[], client: Client)</text><ellipse cx="423.325" cy="1216.0117" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="65.3868" x="427.825" y="1217.9777">getMediaId(): String</text><ellipse cx="423.325" cy="1225.5457" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="74.4237" x="427.825" y="1227.5117">getMediaType(): String</text><ellipse cx="423.325" cy="1235.0796" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="72.8907" x="427.825" y="1237.0456">getThumbnail(): byte[]</text><ellipse cx="423.325" cy="1244.6136" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="63.9448" x="427.825" y="1246.5796">getContent(): byte[]</text><ellipse cx="423.325" cy="1254.1476" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="64.2248" x="427.825" y="1256.1135">isLoaded(): boolean</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="421.825" y="1262.1815"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.4058" x="427.825" y="1265.6475">loadMedia(): void</text></g><!--class Client--><g class="entity" data-entity="Client" data-source-line="678" data-uid="ent0153" id="entity_Client"><rect fill="#F1F1F1" height="167.0094" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="200.2003" x="795.4" y="1361.671"/><ellipse cx="883.9567" cy="1369.671" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M883.6911,1373.1319 Q882.8161,1373.1319 882.2457,1372.7647 Q881.6832,1372.3897 881.402,1371.7179 Q881.1286,1371.0382 881.1286,1370.1397 Q881.1286,1369.1241 881.4567,1368.3976 Q881.7848,1367.671 882.4254,1367.2804 Q883.0661,1366.8897 884.0036,1366.8897 Q884.4489,1366.8897 884.7848,1366.9835 Q885.1207,1367.0694 885.4645,1367.2413 L885.0582,1368.2491 Q884.7457,1368.0929 884.4723,1368.0304 Q884.2067,1367.9679 883.9645,1367.9679 Q883.3786,1367.9679 883.027,1368.2335 Q882.6754,1368.4991 882.527,1368.9757 Q882.3786,1369.4522 882.3786,1370.0851 Q882.3786,1371.0929 882.7379,1371.5772 Q883.0973,1372.0538 883.8942,1372.0538 Q884.1911,1372.0538 884.5036,1371.9757 Q884.8161,1371.8976 885.2301,1371.7101 L885.2301,1372.8194 Q884.8629,1372.9757 884.4645,1373.0538 Q884.0739,1373.1319 883.6911,1373.1319 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="18.8369" x="894.2067" y="1372.387">Client</text><line style="stroke:#181818;stroke-width:0.25;" x1="795.9" x2="995.1003" y1="1377.671" y2="1377.671"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="799.4" y="1383.688"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="36.8059" x="805.4" y="1387.154">clientId: int</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="799.4" y="1393.2219"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="36.7359" x="805.4" y="1396.6879">cnx: Socket</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="799.4" y="1402.7559"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="90.5027" x="805.4" y="1406.2219">processor: PacketProcessor</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="799.4" y="1412.2898"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="143.1915" x="805.4" y="1415.7558">messageIdGenerator: MessageIdGenerator</text><line style="stroke:#181818;stroke-width:0.5;" x1="795.9" x2="995.1003" y1="1419.8068" y2="1419.8068"/><ellipse cx="800.9" cy="1427.3238" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="23.0369" x="805.4" y="1429.2898">Client()</text><ellipse cx="800.9" cy="1436.8578" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="59.8428" x="805.4" y="1438.8238">Client(clientId: int)</text><ellipse cx="800.9" cy="1446.3917" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="128.6035" x="805.4" y="1448.3577">connect(host: String, port: int): boolean</text><ellipse cx="800.9" cy="1455.9257" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="57.3438" x="805.4" y="1457.8917">disconnect(): void</text><ellipse cx="800.9" cy="1465.4596" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="108.3456" x="805.4" y="1467.4256">sendPacket(pkt: Packet): boolean</text><ellipse cx="800.9" cy="1474.9936" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="187.2003" x="805.4" y="1476.9596">setMessageIdGenerator(gen: MessageIdGenerator): void</text><ellipse cx="800.9" cy="1484.5276" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="148.0984" x="805.4" y="1486.4935">setPacketProcessor(p: PacketProcessor): void</text><ellipse cx="800.9" cy="1494.0615" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="75.2357" x="805.4" y="1496.0275">isConnected(): boolean</text><ellipse cx="800.9" cy="1503.5955" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="52.8498" x="805.4" y="1505.5615">getClientId(): int</text><ellipse cx="800.9" cy="1513.1294" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="123.0875" x="805.4" y="1515.0954">requestMedia(mediaId: String): byte[]</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="799.4" y="1521.1634"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="134.2035" x="805.4" y="1524.6294">processReceivedPacket(pkt: Packet): void</text></g><!--class Conversation--><g class="entity" data-entity="Conversation" data-source-line="682" data-uid="ent0156" id="entity_Conversation"><rect fill="#F1F1F1" height="128.8735" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="255.2552" x="349.87" y="573.631"/><ellipse cx="453.5957" cy="581.631" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M453.33,585.0919 Q452.455,585.0919 451.8847,584.7247 Q451.3222,584.3497 451.041,583.6779 Q450.7675,582.9982 450.7675,582.0997 Q450.7675,581.0841 451.0957,580.3576 Q451.4238,579.631 452.0644,579.2404 Q452.705,578.8497 453.6425,578.8497 Q454.0878,578.8497 454.4238,578.9435 Q454.7597,579.0294 455.1035,579.2013 L454.6972,580.2091 Q454.3847,580.0529 454.1113,579.9904 Q453.8457,579.9279 453.6035,579.9279 Q453.0175,579.9279 452.666,580.1935 Q452.3144,580.4591 452.166,580.9357 Q452.0175,581.4122 452.0175,582.0451 Q452.0175,583.0529 452.3769,583.5372 Q452.7363,584.0138 453.5332,584.0138 Q453.83,584.0138 454.1425,583.9357 Q454.455,583.8576 454.8691,583.6701 L454.8691,584.7794 Q454.5019,584.9357 454.1035,585.0138 Q453.7128,585.0919 453.33,585.0919 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="43.5538" x="463.8457" y="584.347">Conversation</text><line style="stroke:#181818;stroke-width:0.25;" x1="350.37" x2="604.6252" y1="589.631" y2="589.631"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="353.87" y="595.648"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="82.9357" x="359.87" y="599.114">conversationId: int {final}</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="353.87" y="605.1819"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="111.5936" x="359.87" y="608.6479">messages: Map&lt;String, Message&gt;</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="353.87" y="614.7159"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="91.6367" x="359.87" y="618.1819">messageOrder: List&lt;String&gt;</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="353.87" y="624.2498"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.4898" x="359.87" y="627.7158">isGroup: boolean</text><line style="stroke:#181818;stroke-width:0.5;" x1="350.37" x2="604.6252" y1="631.7668" y2="631.7668"/><ellipse cx="355.37" cy="639.2838" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="169.4624" x="359.87" y="641.2498">Conversation(conversationId: int, isGroup: boolean)</text><ellipse cx="355.37" cy="648.8178" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="110.5996" x="359.87" y="650.7838">addMessage(msg: Message): void</text><ellipse cx="355.37" cy="658.3517" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="136.4925" x="359.87" y="660.3177">getMessage(messageId: String): Message</text><ellipse cx="355.37" cy="667.8857" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="99.7566" x="359.87" y="669.8517">getMessages(): List&lt;Message&gt;</text><ellipse cx="355.37" cy="677.4196" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="71.6867" x="359.87" y="679.3856">getUnreadCount(): int</text><ellipse cx="355.37" cy="686.9536" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="71.3437" x="359.87" y="688.9196">markAllAsRead(): void</text><ellipse cx="355.37" cy="696.4876" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="242.2552" x="359.87" y="698.4535">addReactionToMessage(messageId: String, emoji: String, userId: int): void</text></g><!--class ContactRepository--><g class="entity" data-entity="ContactRepository" data-source-line="698" data-uid="ent0157" id="entity_ContactRepository"><rect fill="#F1F1F1" height="90.7377" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="120.2396" x="10.88" y="424.291"/><ellipse cx="38.5999" cy="432.291" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.3343,435.7519 Q37.4593,435.7519 36.889,435.3847 Q36.3265,435.0097 36.0452,434.3379 Q35.7718,433.6582 35.7718,432.7597 Q35.7718,431.7441 36.0999,431.0176 Q36.428,430.291 37.0687,429.9004 Q37.7093,429.5097 38.6468,429.5097 Q39.0921,429.5097 39.428,429.6035 Q39.764,429.6894 40.1077,429.8613 L39.7015,430.8691 Q39.389,430.7129 39.1155,430.6504 Q38.8499,430.5879 38.6077,430.5879 Q38.0218,430.5879 37.6702,430.8535 Q37.3187,431.1191 37.1702,431.5957 Q37.0218,432.0722 37.0218,432.7051 Q37.0218,433.7129 37.3812,434.1972 Q37.7405,434.6738 38.5374,434.6738 Q38.8343,434.6738 39.1468,434.5957 Q39.4593,434.5176 39.8733,434.3301 L39.8733,435.4394 Q39.5062,435.5957 39.1077,435.6738 Q38.7171,435.7519 38.3343,435.7519 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="60.5498" x="48.8499" y="435.007">ContactRepository</text><line style="stroke:#181818;stroke-width:0.25;" x1="11.38" x2="130.6196" y1="440.291" y2="440.291"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="14.88" y="446.308"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="107.2396" x="20.88" y="449.774">contacts: Map&lt;Integer, Contact&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="11.38" x2="130.6196" y1="453.8249" y2="453.8249"/><ellipse cx="16.38" cy="461.3419" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="87.6187" x="20.88" y="463.3079">add(contact: Contact): void</text><ellipse cx="16.38" cy="470.8759" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="98.4196" x="20.88" y="472.8419">update(contact: Contact): void</text><ellipse cx="16.38" cy="480.4098" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="95.5636" x="20.88" y="482.3758">delete(contact: Contact): void</text><ellipse cx="16.38" cy="489.9438" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="88.2977" x="20.88" y="491.9098">deleteById(id: Object): void</text><ellipse cx="16.38" cy="499.4778" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="92.0846" x="20.88" y="501.4438">findById(id: Object): Contact</text><ellipse cx="16.38" cy="509.0117" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="73.5137" x="20.88" y="510.9777">findAll(): List&lt;Contact&gt;</text></g><!--class Repository--><g class="entity" data-entity="Repository" data-source-line="699" data-uid="ent0158" id="entity_Repository"><rect fill="#F1F1F1" height="24" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="48.6479" x="180.175" y="189.146"/><ellipse cx="187.675" cy="197.146" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M185.6906,200.396 L185.6906,199.5444 L186.8703,199.4116 L186.8703,195.3101 L185.6906,195.1772 L185.6906,194.3257 L189.2609,194.3257 L189.2609,195.1772 L188.05,195.3101 L188.05,199.4116 L189.2609,199.5444 L189.2609,200.396 L185.6906,200.396 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="32.6479" x="194.675" y="199.862">Repository</text><line style="stroke:#181818;stroke-width:0.25;" x1="180.675" x2="228.3229" y1="205.146" y2="205.146"/><line style="stroke:#181818;stroke-width:0.25;" x1="180.675" x2="228.3229" y1="209.146" y2="209.146"/></g><!--class GroupRepository--><g class="entity" data-entity="GroupRepository" data-source-line="709" data-uid="ent0160" id="entity_GroupRepository"><rect fill="#F1F1F1" height="90.7377" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="111.5666" x="148.715" y="424.291"/><ellipse cx="174.3349" cy="432.291" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M174.0693,435.7519 Q173.1943,435.7519 172.624,435.3847 Q172.0615,435.0097 171.7802,434.3379 Q171.5068,433.6582 171.5068,432.7597 Q171.5068,431.7441 171.8349,431.0176 Q172.163,430.291 172.8037,429.9004 Q173.4443,429.5097 174.3818,429.5097 Q174.8271,429.5097 175.163,429.6035 Q175.499,429.6894 175.8427,429.8613 L175.4365,430.8691 Q175.124,430.7129 174.8505,430.6504 Q174.5849,430.5879 174.3427,430.5879 Q173.7568,430.5879 173.4052,430.8535 Q173.0537,431.1191 172.9052,431.5957 Q172.7568,432.0722 172.7568,432.7051 Q172.7568,433.7129 173.1162,434.1972 Q173.4755,434.6738 174.2724,434.6738 Q174.5693,434.6738 174.8818,434.5957 Q175.1943,434.5176 175.6084,434.3301 L175.6084,435.4394 Q175.2412,435.5957 174.8427,435.6738 Q174.4521,435.7519 174.0693,435.7519 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.0768" x="184.5849" y="435.007">GroupRepository</text><line style="stroke:#181818;stroke-width:0.25;" x1="149.215" x2="259.7816" y1="440.291" y2="440.291"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="152.715" y="446.308"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="98.5666" x="158.715" y="449.774">groups: Map&lt;Integer, Group&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="149.215" x2="259.7816" y1="453.8249" y2="453.8249"/><ellipse cx="154.215" cy="461.3419" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="78.9457" x="158.715" y="463.3079">add(group: Group): void</text><ellipse cx="154.215" cy="470.8759" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="89.7467" x="158.715" y="472.8419">update(group: Group): void</text><ellipse cx="154.215" cy="480.4098" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="86.8907" x="158.715" y="482.3758">delete(group: Group): void</text><ellipse cx="154.215" cy="489.9438" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="88.2977" x="158.715" y="491.9098">deleteById(id: Object): void</text><ellipse cx="154.215" cy="499.4778" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="87.6117" x="158.715" y="501.4438">findById(id: Object): Group</text><ellipse cx="154.215" cy="509.0117" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="69.0407" x="158.715" y="510.9777">findAll(): List&lt;Group&gt;</text></g><!--class ConversationRepository--><g class="entity" data-entity="ConversationRepository" data-source-line="720" data-uid="ent0162" id="entity_ConversationRepository"><rect fill="#F1F1F1" height="100.2717" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="183.9044" x="277.55" y="419.526"/><ellipse cx="327.9883" cy="427.526" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M327.7227,430.9869 Q326.8477,430.9869 326.2774,430.6197 Q325.7149,430.2447 325.4336,429.5729 Q325.1602,428.8932 325.1602,427.9947 Q325.1602,426.9791 325.4883,426.2526 Q325.8165,425.526 326.4571,425.1354 Q327.0977,424.7447 328.0352,424.7447 Q328.4805,424.7447 328.8165,424.8385 Q329.1524,424.9244 329.4961,425.0963 L329.0899,426.1041 Q328.7774,425.9479 328.504,425.8854 Q328.2383,425.8229 327.9961,425.8229 Q327.4102,425.8229 327.0586,426.0885 Q326.7071,426.3541 326.5586,426.8307 Q326.4102,427.3072 326.4102,427.9401 Q326.4102,428.9479 326.7696,429.4322 Q327.129,429.9088 327.9258,429.9088 Q328.2227,429.9088 328.5352,429.8307 Q328.8477,429.7526 329.2618,429.5651 L329.2618,430.6744 Q328.8946,430.8307 328.4961,430.9088 Q328.1055,430.9869 327.7227,430.9869 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="78.7777" x="338.2383" y="430.242">ConversationRepository</text><line style="stroke:#181818;stroke-width:0.25;" x1="278.05" x2="460.9544" y1="435.526" y2="435.526"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="281.55" y="441.543"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="143.6954" x="287.55" y="445.009">conversations: Map&lt;Integer, Conversation&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="278.05" x2="460.9544" y1="449.0599" y2="449.0599"/><ellipse cx="283.05" cy="456.5769" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="124.0745" x="287.55" y="458.5429">add(conversation: Conversation): void</text><ellipse cx="283.05" cy="466.1109" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="134.8755" x="287.55" y="468.0769">update(conversation: Conversation): void</text><ellipse cx="283.05" cy="475.6448" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="132.0195" x="287.55" y="477.6108">delete(conversation: Conversation): void</text><ellipse cx="283.05" cy="485.1788" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="88.2977" x="287.55" y="487.1448">deleteById(id: Object): void</text><ellipse cx="283.05" cy="494.7128" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="110.3126" x="287.55" y="496.6788">findById(id: Object): Conversation</text><ellipse cx="283.05" cy="504.2467" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="91.7416" x="287.55" y="506.2127">findAll(): List&lt;Conversation&gt;</text><ellipse cx="283.05" cy="513.7807" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="170.9044" x="287.55" y="515.7467">getOrCreate(id: int, isGroup: boolean): Conversation</text></g><!--class ClientEventListener--><g class="entity" data-entity="ClientEventListener" data-source-line="733" data-uid="ent0164" id="entity_ClientEventListener"><rect fill="#F1F1F1" height="81.2038" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="235.3052" x="970.345" y="429.061"/><ellipse cx="1056.5462" cy="437.061" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1054.5618,440.311 L1054.5618,439.4594 L1055.7415,439.3266 L1055.7415,435.2251 L1054.5618,435.0922 L1054.5618,434.2407 L1058.1322,434.2407 L1058.1322,435.0922 L1056.9212,435.2251 L1056.9212,439.3266 L1058.1322,439.4594 L1058.1322,440.311 L1054.5618,440.311 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="58.6528" x="1066.7962" y="439.777">ClientEventListener</text><line style="stroke:#181818;stroke-width:0.25;" x1="970.845" x2="1205.1502" y1="445.061" y2="445.061"/><line style="stroke:#181818;stroke-width:0.25;" x1="970.845" x2="1205.1502" y1="449.061" y2="449.061"/><ellipse cx="975.845" cy="456.578" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="135.8485" x="980.345" y="458.544">onMessageReceived(msg: Message): void</text><ellipse cx="975.845" cy="466.1119" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="222.3052" x="980.345" y="468.0779">onReactionAdded(messageId: String, emoji: String, userId: int): void</text><ellipse cx="975.845" cy="475.6459" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="130.3045" x="980.345" y="477.6119">onContactAdded(contact: Contact): void</text><ellipse cx="975.845" cy="485.1798" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="124.2565" x="980.345" y="487.1458">onGroupUpdated(group: Group): void</text><ellipse cx="975.845" cy="494.7138" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="179.0173" x="980.345" y="496.6798">onConnectionStateChanged(connected: boolean): void</text><ellipse cx="975.845" cy="504.2478" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="87.4087" x="980.345" y="506.2138">onError(error: String): void</text></g><g class="entity" data-entity="GMN165" data-source-line="742" data-uid="ent0166" id="entity_GMN165"><path d="M1223.3,462.736 L1223.3,467.536 L1205.725,469.536 L1223.3,471.536 L1223.3,476.589 A0,0 0 0 0 1223.3,476.589 L1291.6955,476.589 A0,0 0 0 0 1291.6955,476.589 L1291.6955,467.736 L1286.6955,462.736 L1223.3,462.736 A0,0 0 0 0 1223.3,462.736" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M1286.6955,462.736 L1286.6955,467.736 L1291.6955,467.736 L1286.6955,462.736" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="57.8955" x="1226.3" y="472.1845">Pattern: Observer</text></g><!--class ClientPacketHandler--><g class="entity" data-entity="ClientPacketHandler" data-source-line="746" data-uid="ent0168" id="entity_ClientPacketHandler"><rect fill="#F1F1F1" height="62.1358" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="157.5564" x="816.72" y="1890.726"/><ellipse cx="861.9153" cy="1898.726" fill="#A9DCDF" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M859.5013,1901.601 L861.1731,1895.5072 L862.7435,1895.5072 L864.431,1901.601 L863.1966,1901.601 L862.8294,1900.0932 L861.0716,1900.0932 L860.6966,1901.601 L859.5013,1901.601 Z M861.7044,1897.5776 L861.3294,1899.0776 L862.5872,1899.0776 L862.2278,1897.5776 Q862.1575,1897.2885 862.095,1897.0151 Q862.0325,1896.7338 861.9622,1896.4447 Q861.9075,1896.7338 861.8372,1897.0151 Q861.7669,1897.2885 861.7044,1897.5776 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="62.9158" x="872.1653" y="1901.442">ClientPacketHandler</text><line style="stroke:#181818;stroke-width:0.25;" x1="817.22" x2="973.7764" y1="1906.726" y2="1906.726"/><polygon fill="none" points="822.22,1911.743,824.22,1913.743,822.22,1915.743,820.22,1913.743" style="stroke:#B38D22;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="73.3947" x="826.72" y="1916.209">client: ClientController</text><line style="stroke:#181818;stroke-width:0.5;" x1="817.22" x2="973.7764" y1="1920.2599" y2="1920.2599"/><ellipse cx="822.22" cy="1927.7769" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="144.5564" x="826.72" y="1929.7429">ClientPacketHandler(client: ClientController)</text><ellipse cx="822.22" cy="1937.3109" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="111.8176" x="826.72" y="1939.2769">handle(msg: ProtocolMessage): void</text><ellipse cx="822.22" cy="1946.8448" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="124.2985" x="826.72" y="1948.8108">canHandle(type: MessageType): boolean</text></g><!--class ClientTextMessageHandler--><g class="entity" data-entity="ClientTextMessageHandler" data-source-line="754" data-uid="ent0169" id="entity_ClientTextMessageHandler"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="145.7335" x="624.635" y="2078.201"/><ellipse cx="651.1369" cy="2086.201" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M650.8713,2089.6619 Q649.9963,2089.6619 649.426,2089.2947 Q648.8635,2088.9197 648.5822,2088.2479 Q648.3088,2087.5682 648.3088,2086.6697 Q648.3088,2085.6541 648.6369,2084.9276 Q648.965,2084.201 649.6057,2083.8104 Q650.2463,2083.4197 651.1838,2083.4197 Q651.6291,2083.4197 651.965,2083.5135 Q652.301,2083.5994 652.6447,2083.7713 L652.2385,2084.7791 Q651.926,2084.6229 651.6525,2084.5604 Q651.3869,2084.4979 651.1447,2084.4979 Q650.5588,2084.4979 650.2072,2084.7635 Q649.8557,2085.0291 649.7072,2085.5057 Q649.5588,2085.9822 649.5588,2086.6151 Q649.5588,2087.6229 649.9182,2088.1072 Q650.2775,2088.5838 651.0744,2088.5838 Q651.3713,2088.5838 651.6838,2088.5057 Q651.9963,2088.4276 652.4104,2088.2401 L652.4104,2089.3494 Q652.0432,2089.5057 651.6447,2089.5838 Q651.2541,2089.6619 650.8713,2089.6619 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="88.4797" x="661.3869" y="2088.917">ClientTextMessageHandler</text><line style="stroke:#181818;stroke-width:0.25;" x1="625.135" x2="769.8685" y1="2094.201" y2="2094.201"/><line style="stroke:#181818;stroke-width:0.5;" x1="625.135" x2="769.8685" y1="2098.201" y2="2098.201"/><ellipse cx="630.135" cy="2105.718" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="119.0415" x="634.635" y="2107.684">handle(msg: ProtocolMessage): void</text><ellipse cx="630.135" cy="2115.2519" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="132.7335" x="634.635" y="2117.2179">canHandle(type: MessageType): boolean</text></g><!--class ClientMediaMessageHandler--><g class="entity" data-entity="ClientMediaMessageHandler" data-source-line="760" data-uid="ent0171" id="entity_ClientMediaMessageHandler"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="145.7335" x="787.635" y="2078.201"/><ellipse cx="811.0044" cy="2086.201" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M810.7388,2089.6619 Q809.8638,2089.6619 809.2935,2089.2947 Q808.731,2088.9197 808.4497,2088.2479 Q808.1763,2087.5682 808.1763,2086.6697 Q808.1763,2085.6541 808.5044,2084.9276 Q808.8326,2084.201 809.4732,2083.8104 Q810.1138,2083.4197 811.0513,2083.4197 Q811.4966,2083.4197 811.8326,2083.5135 Q812.1685,2083.5994 812.5122,2083.7713 L812.106,2084.7791 Q811.7935,2084.6229 811.5201,2084.5604 Q811.2544,2084.4979 811.0122,2084.4979 Q810.4263,2084.4979 810.0747,2084.7635 Q809.7232,2085.0291 809.5747,2085.5057 Q809.4263,2085.9822 809.4263,2086.6151 Q809.4263,2087.6229 809.7857,2088.1072 Q810.1451,2088.5838 810.9419,2088.5838 Q811.2388,2088.5838 811.5513,2088.5057 Q811.8638,2088.4276 812.2779,2088.2401 L812.2779,2089.3494 Q811.9107,2089.5057 811.5122,2089.5838 Q811.1216,2089.6619 810.7388,2089.6619 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="94.7446" x="821.2544" y="2088.917">ClientMediaMessageHandler</text><line style="stroke:#181818;stroke-width:0.25;" x1="788.135" x2="932.8685" y1="2094.201" y2="2094.201"/><line style="stroke:#181818;stroke-width:0.5;" x1="788.135" x2="932.8685" y1="2098.201" y2="2098.201"/><ellipse cx="793.135" cy="2105.718" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="119.0415" x="797.635" y="2107.684">handle(msg: ProtocolMessage): void</text><ellipse cx="793.135" cy="2115.2519" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="132.7335" x="797.635" y="2117.2179">canHandle(type: MessageType): boolean</text></g><!--class ClientReactionHandler--><g class="entity" data-entity="ClientReactionHandler" data-source-line="766" data-uid="ent0173" id="entity_ClientReactionHandler"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="145.7335" x="950.635" y="2078.201"/><ellipse cx="984.5219" cy="2086.201" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M984.2563,2089.6619 Q983.3813,2089.6619 982.811,2089.2947 Q982.2485,2088.9197 981.9672,2088.2479 Q981.6938,2087.5682 981.6938,2086.6697 Q981.6938,2085.6541 982.0219,2084.9276 Q982.35,2084.201 982.9906,2083.8104 Q983.6313,2083.4197 984.5688,2083.4197 Q985.0141,2083.4197 985.35,2083.5135 Q985.686,2083.5994 986.0297,2083.7713 L985.6235,2084.7791 Q985.311,2084.6229 985.0375,2084.5604 Q984.7719,2084.4979 984.5297,2084.4979 Q983.9438,2084.4979 983.5922,2084.7635 Q983.2406,2085.0291 983.0922,2085.5057 Q982.9438,2085.9822 982.9438,2086.6151 Q982.9438,2087.6229 983.3031,2088.1072 Q983.6625,2088.5838 984.4594,2088.5838 Q984.7563,2088.5838 985.0688,2088.5057 Q985.3813,2088.4276 985.7953,2088.2401 L985.7953,2089.3494 Q985.4281,2089.5057 985.0297,2089.5838 Q984.6391,2089.6619 984.2563,2089.6619 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="73.7097" x="994.7719" y="2088.917">ClientReactionHandler</text><line style="stroke:#181818;stroke-width:0.25;" x1="951.135" x2="1095.8685" y1="2094.201" y2="2094.201"/><line style="stroke:#181818;stroke-width:0.5;" x1="951.135" x2="1095.8685" y1="2098.201" y2="2098.201"/><ellipse cx="956.135" cy="2105.718" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="119.0415" x="960.635" y="2107.684">handle(msg: ProtocolMessage): void</text><ellipse cx="956.135" cy="2115.2519" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="132.7335" x="960.635" y="2117.2179">canHandle(type: MessageType): boolean</text></g><!--class ClientManagementHandler--><g class="entity" data-entity="ClientManagementHandler" data-source-line="772" data-uid="ent0175" id="entity_ClientManagementHandler"><rect fill="#F1F1F1" height="43.0679" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="145.7335" x="1113.635" y="2078.201"/><ellipse cx="1139.6994" cy="2086.201" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1139.4338,2089.6619 Q1138.5588,2089.6619 1137.9885,2089.2947 Q1137.426,2088.9197 1137.1447,2088.2479 Q1136.8713,2087.5682 1136.8713,2086.6697 Q1136.8713,2085.6541 1137.1994,2084.9276 Q1137.5275,2084.201 1138.1682,2083.8104 Q1138.8088,2083.4197 1139.7463,2083.4197 Q1140.1916,2083.4197 1140.5275,2083.5135 Q1140.8635,2083.5994 1141.2072,2083.7713 L1140.801,2084.7791 Q1140.4885,2084.6229 1140.215,2084.5604 Q1139.9494,2084.4979 1139.7072,2084.4979 Q1139.1213,2084.4979 1138.7697,2084.7635 Q1138.4182,2085.0291 1138.2697,2085.5057 Q1138.1213,2085.9822 1138.1213,2086.6151 Q1138.1213,2087.6229 1138.4807,2088.1072 Q1138.84,2088.5838 1139.6369,2088.5838 Q1139.9338,2088.5838 1140.2463,2088.5057 Q1140.5588,2088.4276 1140.9729,2088.2401 L1140.9729,2089.3494 Q1140.6057,2089.5057 1140.2072,2089.5838 Q1139.8166,2089.6619 1139.4338,2089.6619 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="89.3547" x="1149.9494" y="2088.917">ClientManagementHandler</text><line style="stroke:#181818;stroke-width:0.25;" x1="1114.135" x2="1258.8685" y1="2094.201" y2="2094.201"/><line style="stroke:#181818;stroke-width:0.5;" x1="1114.135" x2="1258.8685" y1="2098.201" y2="2098.201"/><ellipse cx="1119.135" cy="2105.718" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="119.0415" x="1123.635" y="2107.684">handle(msg: ProtocolMessage): void</text><ellipse cx="1119.135" cy="2115.2519" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="132.7335" x="1123.635" y="2117.2179">canHandle(type: MessageType): boolean</text></g><!--class ClientPacketRouter--><g class="entity" data-entity="ClientPacketRouter" data-source-line="778" data-uid="ent0177" id="entity_ClientPacketRouter"><rect fill="#F1F1F1" height="71.6698" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="182.4973" x="804.25" y="1746.156"/><ellipse cx="861.9473" cy="1754.156" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M861.6817,1757.6169 Q860.8067,1757.6169 860.2364,1757.2497 Q859.6739,1756.8747 859.3926,1756.2029 Q859.1192,1755.5232 859.1192,1754.6247 Q859.1192,1753.6091 859.4473,1752.8826 Q859.7754,1752.156 860.416,1751.7654 Q861.0567,1751.3747 861.9942,1751.3747 Q862.4395,1751.3747 862.7754,1751.4685 Q863.1114,1751.5544 863.4551,1751.7263 L863.0489,1752.7341 Q862.7364,1752.5779 862.4629,1752.5154 Q862.1973,1752.4529 861.9551,1752.4529 Q861.3692,1752.4529 861.0176,1752.7185 Q860.666,1752.9841 860.5176,1753.4607 Q860.3692,1753.9372 860.3692,1754.5701 Q860.3692,1755.5779 860.7285,1756.0622 Q861.0879,1756.5388 861.8848,1756.5388 Q862.1817,1756.5388 862.4942,1756.4607 Q862.8067,1756.3826 863.2207,1756.1951 L863.2207,1757.3044 Q862.8535,1757.4607 862.4551,1757.5388 Q862.0645,1757.6169 861.6817,1757.6169 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="62.8528" x="872.1973" y="1756.872">ClientPacketRouter</text><line style="stroke:#181818;stroke-width:0.25;" x1="804.75" x2="986.2473" y1="1762.156" y2="1762.156"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="808.25" y="1768.173"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="118.9015" x="814.25" y="1771.639">handlers: List&lt;ClientPacketHandler&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="804.75" x2="986.2473" y1="1775.6899" y2="1775.6899"/><ellipse cx="809.75" cy="1783.2069" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="67.0527" x="814.25" y="1785.1729">ClientPacketRouter()</text><ellipse cx="809.75" cy="1792.7409" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="156.9114" x="814.25" y="1794.7069">addHandler(handler: ClientPacketHandler): void</text><ellipse cx="809.75" cy="1802.2748" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="169.4973" x="814.25" y="1804.2408">removeHandler(handler: ClientPacketHandler): void</text><ellipse cx="809.75" cy="1811.8088" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="137.0245" x="814.25" y="1813.7748">process(message: ProtocolMessage): void</text></g><!--class PacketProcessor--><g class="entity" data-entity="PacketProcessor" data-source-line="779" data-uid="ent0178" id="entity_PacketProcessor"><rect fill="#F1F1F1" height="24" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="66.5328" x="862.235" y="1654.016"/><ellipse cx="869.735" cy="1662.016" fill="#B4A7E5" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M867.7506,1665.266 L867.7506,1664.4144 L868.9303,1664.2816 L868.9303,1660.1801 L867.7506,1660.0472 L867.7506,1659.1957 L871.3209,1659.1957 L871.3209,1660.0472 L870.11,1660.1801 L870.11,1664.2816 L871.3209,1664.4144 L871.3209,1665.266 L867.7506,1665.266 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="50.5328" x="876.735" y="1664.732">PacketProcessor</text><line style="stroke:#181818;stroke-width:0.25;" x1="862.735" x2="928.2678" y1="1670.016" y2="1670.016"/><line style="stroke:#181818;stroke-width:0.25;" x1="862.735" x2="928.2678" y1="1674.016" y2="1674.016"/></g><!--class ClientController--><g class="entity" data-entity="ClientController" data-source-line="808" data-uid="ent0180" id="entity_ClientController"><rect fill="#F1F1F1" height="357.6885" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="258.5031" x="589.75" y="22.301"/><ellipse cx="690.9137" cy="30.301" fill="#ADD1B2" rx="5.5" ry="5.5" style="stroke:#181818;stroke-width:0.5;"/><path d="M690.648,33.7619 Q689.773,33.7619 689.2027,33.3947 Q688.6402,33.0197 688.359,32.3479 Q688.0855,31.6682 688.0855,30.7697 Q688.0855,29.7541 688.4137,29.0276 Q688.7418,28.301 689.3824,27.9104 Q690.023,27.5197 690.9605,27.5197 Q691.4058,27.5197 691.7418,27.6135 Q692.0777,27.6994 692.4215,27.8713 L692.0152,28.8791 Q691.7027,28.7229 691.4293,28.6604 Q691.1637,28.5979 690.9215,28.5979 Q690.3355,28.5979 689.984,28.8635 Q689.6324,29.1291 689.484,29.6057 Q689.3355,30.0822 689.3355,30.7151 Q689.3355,31.7229 689.6949,32.2072 Q690.0543,32.6838 690.8512,32.6838 Q691.148,32.6838 691.4605,32.6057 Q691.773,32.5276 692.1871,32.3401 L692.1871,33.4494 Q691.8199,33.6057 691.4215,33.6838 Q691.0308,33.7619 690.648,33.7619 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="51.9258" x="701.1637" y="33.017">ClientController</text><line style="stroke:#181818;stroke-width:0.25;" x1="590.25" x2="847.7531" y1="38.301" y2="38.301"/><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="44.318"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="40.3058" x="599.75" y="47.784">client: Client</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="53.8519"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58.5828" x="599.75" y="57.3179">currentUser: User</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="63.3859"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="123.7315" x="599.75" y="66.8519">contactRepository: ContactRepository</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="72.9198"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="115.0586" x="599.75" y="76.3858">groupRepository: GroupRepository</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="82.4538"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="160.1874" x="599.75" y="85.9198">conversationRepository: ConversationRepository</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="91.9878"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="114.5685" x="599.75" y="95.4538">listeners: List&lt;ClientEventListener&gt;</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="101.5217"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="110.6346" x="599.75" y="104.9877">packetRouter: ClientPacketRouter</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="111.0557"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="143.1915" x="599.75" y="114.5217">messageIdGenerator: MessageIdGenerator</text><rect fill="none" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="120.5896"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="101.6116" x="599.75" y="124.0556">cryptoStrategy: CryptoStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="590.25" x2="847.7531" y1="128.1066" y2="128.1066"/><ellipse cx="595.25" cy="135.6236" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.1258" x="599.75" y="137.5896">ClientController()</text><ellipse cx="595.25" cy="145.1576" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="165.8504" x="599.75" y="147.1235">connect(host: String, port: int, userId: int): boolean</text><ellipse cx="595.25" cy="154.6915" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="57.3438" x="599.75" y="156.6575">disconnect(): void</text><ellipse cx="595.25" cy="164.2255" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="74.6267" x="599.75" y="166.1915">getCurrentUser(): User</text><ellipse cx="595.25" cy="173.7594" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="152.6554" x="599.75" y="175.7254">addListener(listener: ClientEventListener): void</text><ellipse cx="595.25" cy="183.2934" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="165.2413" x="599.75" y="185.2594">removeListener(listener: ClientEventListener): void</text><ellipse cx="595.25" cy="192.8273" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="158.2344" x="599.75" y="194.7933">sendTextMessage(to: int, content: String): String</text><ellipse cx="595.25" cy="202.3613" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="216.6492" x="599.75" y="204.3273">sendTextMessage(to: int, content: String, replyToId: String): String</text><ellipse cx="595.25" cy="211.8953" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="222.3752" x="599.75" y="213.8613">sendMediaMessage(to: int, media: byte[], mediaType: String): String</text><ellipse cx="595.25" cy="221.4292" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="232.9172" x="599.75" y="223.3952">addReaction(conversationId: int, messageId: String, emoji: String): void</text><ellipse cx="595.25" cy="230.9632" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="245.5031" x="599.75" y="232.9292">removeReaction(conversationId: int, messageId: String, emoji: String): void</text><ellipse cx="595.25" cy="240.4971" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="102.9556" x="599.75" y="242.4631">addContact(contactId: int): void</text><ellipse cx="595.25" cy="250.0311" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="105.3916" x="599.75" y="251.9971">createGroup(name: String): void</text><ellipse cx="595.25" cy="259.5651" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="173.1794" x="599.75" y="261.531">addGroupMember(groupId: int, memberId: int): void</text><ellipse cx="595.25" cy="269.099" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="185.7653" x="599.75" y="271.065">removeGroupMember(groupId: int, memberId: int): void</text><ellipse cx="595.25" cy="278.633" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="98.9306" x="599.75" y="280.599">leaveGroup(groupId: int): void</text><ellipse cx="595.25" cy="288.1669" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="102.2276" x="599.75" y="290.1329">deleteGroup(groupId: int): void</text><ellipse cx="595.25" cy="297.7009" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="131.1095" x="599.75" y="299.6669">updatePseudo(newPseudo: String): void</text><ellipse cx="595.25" cy="307.2348" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="112.6226" x="599.75" y="309.2008">getContact(contactId: int): Contact</text><ellipse cx="595.25" cy="316.7688" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="99.4766" x="599.75" y="318.7348">getGroup(groupId: int): Group</text><ellipse cx="595.25" cy="326.3028" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="167.3064" x="599.75" y="328.2688">getConversation(conversationId: int): Conversation</text><ellipse cx="595.25" cy="335.8367" fill="#84BE84" rx="1.5" ry="1.5" style="stroke:#038048;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="161.3494" x="599.75" y="337.8027">setCryptoStrategy(strategy: CryptoStrategy): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="343.8707"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="146.1594" x="599.75" y="347.3367">notifyMessageReceived(msg: Message): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="353.4046"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="232.6162" x="599.75" y="356.8706">notifyReactionAdded(messageId: String, emoji: String, userId: int): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="362.9386"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="134.5675" x="599.75" y="366.4046">notifyGroupUpdated(group: Group): void</text><rect fill="#F24D5C" height="3" style="stroke:#C82930;stroke-width:0.5;" width="3" x="593.75" y="372.4726"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="97.7196" x="599.75" y="375.9385">notifyError(error: String): void</text></g><g class="entity" data-entity="GMN181" data-source-line="847" data-uid="ent0182" id="entity_GMN181"><path d="M746.34,458.306 L746.34,481.012 A0,0 0 0 0 746.34,481.012 L952.6592,481.012 A0,0 0 0 0 952.6592,481.012 L952.6592,463.306 L947.6592,458.306 L782.31,458.306 L780.31,380.061 L778.31,458.306 L746.34,458.306 A0,0 0 0 0 746.34,458.306" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M947.6592,458.306 L947.6592,463.306 L952.6592,463.306 L947.6592,458.306" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="50.7975" x="749.34" y="467.7545">Pattern: Facade</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="195.8192" x="749.34" y="476.6075">Fournit une interface simplifiÃ©e pour toutes les opÃ©rations client</text></g><!--link Packet to GMN4--><g class="link" data-entity-1="Packet" data-entity-2="GMN4" data-source-line="25" data-uid="lnk6" id="link_Packet_GMN4"><path d="M1511.56,2150.036 C1491.38,2150.036 1477.005,2150.036 1477.005,2150.036 C1477.005,2150.036 1477.005,2230.761 1477.005,2261.351" fill="none" id="Packet-GMN4" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/></g><!--link PacketBuilder to Packet--><g class="link" data-entity-1="PacketBuilder" data-entity-2="Packet" data-source-line="49" data-uid="lnk11" id="link_PacketBuilder_Packet"><path codeLine="49" d="M1639,1991.231 C1639,2000.931 1639,2007.961 1639,2017.826" fill="none" id="PacketBuilder-to-Packet" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="1639,2020.826,1641,2016.326,1639,2018.326,1637,2016.326,1639,2020.826" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="22.243" x="1616.5" y="2003.9745">creates</text></g><!--reverse link ProtocolMessage to TextMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="TextMessage" data-source-line="101" data-uid="lnk19" id="link_ProtocolMessage_TextMessage"><path d="M2092.195,2320.036 C1990.38,2320.036 1831.755,2320.036 1831.755,2320.036 C1831.755,2320.036 1831.755,2357.651 1831.755,2395.776" fill="none" id="ProtocolMessage-backto-TextMessage" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="2101.195,2320.036,2092.195,2317.036,2092.195,2323.036,2101.195,2320.036" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ProtocolMessage to MediaMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="MediaMessage" data-source-line="123" data-uid="lnk24" id="link_ProtocolMessage_MediaMessage"><path d="M2262.87,2329.036 C2302.385,2329.036 2333.44,2329.036 2333.44,2329.036 C2333.44,2329.036 2333.44,2367.761 2333.44,2405.276" fill="none" id="ProtocolMessage-backto-MediaMessage" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="2253.87,2329.036,2262.87,2332.036,2262.87,2326.036,2253.87,2329.036" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ProtocolMessage to ManagementMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="ManagementMessage" data-source-line="139" data-uid="lnk26" id="link_ProtocolMessage_ManagementMessage"><path d="M2092.03,2328.536 C2074.505,2328.536 2069.905,2328.536 2069.905,2328.536 C2069.905,2328.536 2069.905,2382.116 2069.905,2424.391" fill="none" id="ProtocolMessage-backto-ManagementMessage" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="2101.03,2328.536,2092.03,2325.536,2092.03,2331.536,2101.03,2328.536" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ProtocolMessage to ReactionMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="ReactionMessage" data-source-line="155" data-uid="lnk31" id="link_ProtocolMessage_ReactionMessage"><path d="M2092.165,2303.036 C1892.565,2303.036 1379.5,2303.036 1379.5,2303.036 C1379.5,2303.036 1379.5,2369.461 1379.5,2419.666" fill="none" id="ProtocolMessage-backto-ReactionMessage" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="2101.165,2303.036,2092.165,2300.036,2092.165,2306.036,2101.165,2303.036" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ProtocolMessage to NotificationMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="NotificationMessage" data-source-line="168" data-uid="lnk33" id="link_ProtocolMessage_NotificationMessage"><path d="M2092.16,2311.536 C1922.785,2311.536 1539.375,2311.536 1539.375,2311.536 C1539.375,2311.536 1539.375,2390.636 1539.375,2438.681" fill="none" id="ProtocolMessage-backto-NotificationMessage" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="2101.16,2311.536,2092.16,2308.536,2092.16,2314.536,2101.16,2311.536" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link MessageProvider to TextMessageProvider--><g class="link" data-entity-1="MessageProvider" data-entity-2="TextMessageProvider" data-source-line="195" data-uid="lnk39" id="link_MessageProvider_TextMessageProvider"><path d="M1853,2130.496 C1853,2163.786 1853,2218.001 1853,2251.241" fill="none" id="MessageProvider-backto-TextMessageProvider" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="1853,2121.496,1850,2130.496,1856,2130.496,1853,2121.496" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link MessageProvider to ManagementMessageProvider--><g class="link" data-entity-1="MessageProvider" data-entity-2="ManagementMessageProvider" data-source-line="201" data-uid="lnk41" id="link_MessageProvider_ManagementMessageProvider"><path d="M1925.335,2107.036 C1925.335,2107.036 1924.86,2273.036 1924.86,2273.036 C1924.86,2273.036 1928.315,2273.036 1933.705,2273.036" fill="none" id="MessageProvider-backto-ManagementMessageProvider" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="1916.335,2107.036,1925.335,2110.036,1925.335,2104.036,1916.335,2107.036" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link MessageProvider to MediaMessageProvider--><g class="link" data-entity-1="MessageProvider" data-entity-2="MediaMessageProvider" data-source-line="207" data-uid="lnk43" id="link_MessageProvider_MediaMessageProvider"><path d="M1884.585,2130.506 C1884.585,2149.161 1884.585,2164.036 1884.585,2164.036 C1884.585,2164.036 2311.66,2164.036 2311.66,2164.036 C2311.66,2164.036 2311.66,2219.366 2311.66,2251.141" fill="none" id="MessageProvider-backto-MediaMessageProvider" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="1884.585,2121.506,1881.585,2130.506,1887.585,2130.506,1884.585,2121.506" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link MessageProvider to ReactionMessageProvider--><g class="link" data-entity-1="MessageProvider" data-entity-2="ReactionMessageProvider" data-source-line="213" data-uid="lnk45" id="link_MessageProvider_ReactionMessageProvider"><path d="M1821.415,2130.491 C1821.415,2158.201 1821.415,2193.536 1821.415,2193.536 C1821.415,2193.536 1569.975,2193.536 1569.975,2193.536 C1569.975,2193.536 1569.975,2227.721 1569.975,2251.221" fill="none" id="MessageProvider-backto-ReactionMessageProvider" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="1821.415,2121.491,1818.415,2130.491,1824.415,2130.491,1821.415,2121.491" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link MessageProvider to NotificationMessageProvider--><g class="link" data-entity-1="MessageProvider" data-entity-2="NotificationMessageProvider" data-source-line="219" data-uid="lnk47" id="link_MessageProvider_NotificationMessageProvider"><path d="M1780.695,2099.536 C1768.9,2099.536 1769.195,2099.536 1769.195,2099.536 C1769.195,2099.536 1769.195,2204.561 1769.195,2251.126" fill="none" id="MessageProvider-backto-NotificationMessageProvider" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="1789.695,2099.536,1780.695,2096.536,1780.695,2102.536,1789.695,2099.536" style="stroke:#181818;stroke-width:0.5;"/></g><!--link TextMessageProvider to TextMessage--><g class="link" data-entity-1="TextMessageProvider" data-entity-2="TextMessage" data-source-line="224" data-uid="lnk48" id="link_TextMessageProvider_TextMessage"><path codeLine="224" d="M1810.79,2294.506 C1810.79,2318.701 1810.79,2356.336 1810.79,2392.896" fill="none" id="TextMessageProvider-to-TextMessage" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="1810.79,2395.896,1812.79,2391.396,1810.79,2393.396,1808.79,2391.396,1810.79,2395.896" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="22.243" x="1788.29" y="2343.1495">creates</text></g><!--link ManagementMessageProvider to ManagementMessage--><g class="link" data-entity-1="ManagementMessageProvider" data-entity-2="ManagementMessage" data-source-line="225" data-uid="lnk49" id="link_ManagementMessageProvider_ManagementMessage"><path codeLine="225" d="M1997,2294.506 C1997,2325.256 1997,2379.566 1997,2421.321" fill="none" id="ManagementMessageProvider-to-ManagementMessage" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="1997,2424.321,1999,2419.821,1997,2421.821,1995,2419.821,1997,2424.321" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="22.243" x="1974.5" y="2357.3595">creates</text></g><!--link MediaMessageProvider to MediaMessage--><g class="link" data-entity-1="MediaMessageProvider" data-entity-2="MediaMessage" data-source-line="226" data-uid="lnk50" id="link_MediaMessageProvider_MediaMessage"><path codeLine="226" d="M2370.805,2294.506 C2370.805,2320.786 2370.805,2363.456 2370.805,2402.241" fill="none" id="MediaMessageProvider-to-MediaMessage" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="2370.805,2405.241,2372.805,2400.741,2370.805,2402.741,2368.805,2400.741,2370.805,2405.241" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="22.243" x="2348.305" y="2347.8195">creates</text></g><!--link ReactionMessageProvider to ReactionMessage--><g class="link" data-entity-1="ReactionMessageProvider" data-entity-2="ReactionMessage" data-source-line="227" data-uid="lnk51" id="link_ReactionMessageProvider_ReactionMessage"><path codeLine="227" d="M1520.6,2294.691 C1520.6,2337.726 1520.6,2429.536 1520.6,2429.536 C1520.6,2429.536 1480.95,2429.536 1442.545,2429.536" fill="none" id="ReactionMessageProvider-to-ReactionMessage" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="1439.545,2429.536,1444.045,2431.536,1442.045,2429.536,1444.045,2427.536,1439.545,2429.536" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="22.243" x="1498.1" y="2400.5895">creates</text></g><!--link NotificationMessageProvider to NotificationMessage--><g class="link" data-entity-1="NotificationMessageProvider" data-entity-2="NotificationMessage" data-source-line="228" data-uid="lnk52" id="link_NotificationMessageProvider_NotificationMessage"><path codeLine="228" d="M1709,2294.686 C1709,2327.676 1709,2386.536 1709,2386.536 C1709,2386.536 1558.15,2386.536 1558.15,2386.536 C1558.15,2386.536 1558.15,2411.331 1558.15,2435.706" fill="none" id="NotificationMessageProvider-to-NotificationMessage" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="1558.15,2438.706,1560.15,2434.206,1558.15,2436.206,1556.15,2434.206,1558.15,2438.706" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="22.243" x="1630.915" y="2384.4845">creates</text></g><!--link MessageFactory to MessageProvider--><g class="link" data-entity-1="MessageFactory" data-entity-2="MessageProvider" data-source-line="241" data-uid="lnk57" id="link_MessageFactory_MessageProvider"><path codeLine="241" d="M1853,1948.241 C1853,1983.531 1853,2042.356 1853,2075.046" fill="none" id="MessageFactory-to-MessageProvider" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="1853,2078.046,1855,2073.546,1853,2075.546,1851,2073.546,1853,2078.046" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="71.3895" x="1781.5" y="2011.0945">loads via ServiceLoader</text></g><!--reverse link MessageIdGenerator to ShaIdGenerator--><g class="link" data-entity-1="MessageIdGenerator" data-entity-2="ShaIdGenerator" data-source-line="248" data-uid="lnk60" id="link_MessageIdGenerator_ShaIdGenerator"><path d="M2228.5,1807.991 C2228.5,1829.421 2228.5,1857.831 2228.5,1885.741" fill="none" id="MessageIdGenerator-backto-ShaIdGenerator" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="2228.5,1798.991,2225.5,1807.991,2231.5,1807.991,2228.5,1798.991" style="stroke:#181818;stroke-width:0.5;"/></g><!--link MessageIdGenerator to GMN61--><g class="link" data-entity-1="MessageIdGenerator" data-entity-2="GMN61" data-source-line="256" data-uid="lnk63" id="link_MessageIdGenerator_GMN61"><path d="M2312.645,1794.036 C2352.705,1794.036 2392,1794.036 2392,1794.036 C2392,1794.036 2392,1887.961 2392,1914.746" fill="none" id="MessageIdGenerator-GMN61" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/></g><!--reverse link CryptoStrategy to AESCryptoStrategy--><g class="link" data-entity-1="CryptoStrategy" data-entity-2="AESCryptoStrategy" data-source-line="269" data-uid="lnk69" id="link_CryptoStrategy_AESCryptoStrategy"><path d="M2377.025,2784.901 C2377.025,2796.601 2377.025,2802.271 2377.025,2815.196" fill="none" id="CryptoStrategy-backto-AESCryptoStrategy" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="2377.025,2775.901,2374.025,2784.901,2380.025,2784.901,2377.025,2775.901" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link CryptoStrategy to E2ECryptoStrategy--><g class="link" data-entity-1="CryptoStrategy" data-entity-2="E2ECryptoStrategy" data-source-line="277" data-uid="lnk71" id="link_CryptoStrategy_E2ECryptoStrategy"><path d="M2436.925,2784.901 C2436.925,2793.781 2436.925,2795.376 2436.925,2805.616" fill="none" id="CryptoStrategy-backto-E2ECryptoStrategy" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="2436.925,2775.901,2433.925,2784.901,2439.925,2784.901,2436.925,2775.901" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ProtocolMessage to ProtocolMessageDecorator--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="ProtocolMessageDecorator" data-source-line="287" data-uid="lnk73" id="link_ProtocolMessage_ProtocolMessageDecorator"><path d="M2177.5,2346.586 C2177.5,2376.441 2177.5,2402.176 2177.5,2429.211" fill="none" id="ProtocolMessage-backto-ProtocolMessageDecorator" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="2177.5,2337.586,2174.5,2346.586,2180.5,2346.586,2177.5,2337.586" style="stroke:#181818;stroke-width:0.5;"/></g><!--link ProtocolMessageDecorator to GMN74--><g class="link" data-entity-1="ProtocolMessageDecorator" data-entity-2="GMN74" data-source-line="297" data-uid="lnk76" id="link_ProtocolMessageDecorator_GMN74"><path d="M2266.275,2429.201 C2266.275,2394.471 2266.275,2352.536 2266.275,2352.536 C2266.275,2352.536 2605.5,2352.536 2605.5,2352.536 C2605.5,2352.536 2605.5,2441.521 2605.5,2467.591" fill="none" id="ProtocolMessageDecorator-GMN74" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/></g><!--reverse link ProtocolMessageDecorator to EncryptedMessage--><g class="link" data-entity-1="ProtocolMessageDecorator" data-entity-2="EncryptedMessage" data-source-line="301" data-uid="lnk78" id="link_ProtocolMessageDecorator_EncryptedMessage"><path d="M2199.69,2529.086 C2199.69,2557.091 2199.69,2583.891 2199.69,2611.916" fill="none" id="ProtocolMessageDecorator-backto-EncryptedMessage" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="2199.69,2520.086,2196.69,2529.086,2202.69,2529.086,2199.69,2520.086" style="stroke:#181818;stroke-width:0.5;"/></g><!--link EncryptedMessage to CryptoStrategy--><g class="link" data-entity-1="EncryptedMessage" data-entity-2="CryptoStrategy" data-source-line="311" data-uid="lnk79" id="link_EncryptedMessage_CryptoStrategy"><path codeLine="311" d="M2352.635,2683.536 C2364.265,2683.536 2371.89,2683.536 2371.89,2683.536 C2371.89,2683.536 2371.89,2708.871 2371.89,2729.681" fill="none" id="EncryptedMessage-to-CryptoStrategy" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="2371.89,2732.681,2373.89,2728.181,2371.89,2730.181,2369.89,2728.181,2371.89,2732.681" style="stroke:#181818;stroke-width:0.5;"/></g><!--link MessageFactory to ProtocolMessage--><g class="link" data-entity-1="MessageFactory" data-entity-2="ProtocolMessage" data-source-line="326" data-uid="lnk84" id="link_MessageFactory_ProtocolMessage"><path codeLine="326" d="M1929.205,1948.341 C1929.205,2023.111 1929.205,2230.036 1929.205,2230.036 C1929.205,2230.036 2025.175,2230.036 2098.145,2230.036" fill="none" id="MessageFactory-to-ProtocolMessage" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="2101.145,2230.036,2096.645,2228.036,2098.645,2230.036,2096.645,2232.036,2101.145,2230.036" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="22.243" x="1906.705" y="2173.1095">creates</text></g><!--link MessageFactory to Packet--><g class="link" data-entity-1="MessageFactory" data-entity-2="Packet" data-source-line="327" data-uid="lnk85" id="link_MessageFactory_Packet"><path codeLine="327" d="M1757.335,1948.241 C1757.335,1967.556 1757.335,1991.821 1757.335,2017.906" fill="none" id="MessageFactory-to-Packet" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="1757.335,2020.906,1759.335,2016.406,1757.335,2018.406,1755.335,2016.406,1757.335,2020.906" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="13.91" x="1743.335" y="1982.5245">uses</text></g><!--link ProtocolMessage to MessageType--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="MessageType" data-source-line="328" data-uid="lnk86" id="link_ProtocolMessage_MessageType"><path codeLine="328" d="M2253.895,2312.536 C2332.675,2312.536 2444.1,2312.536 2444.1,2312.536 C2444.1,2312.536 2444.1,2334.156 2444.1,2364.206" fill="none" id="ProtocolMessage-to-MessageType" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="2444.1,2367.206,2446.1,2362.706,2444.1,2364.706,2442.1,2362.706,2444.1,2367.206" style="stroke:#181818;stroke-width:0.5;"/></g><!--link ProtocolMessage to MessageType--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="MessageType" data-source-line="877" data-uid="lnk202" id="link_ProtocolMessage_MessageType"><path codeLine="877" d="M2253.97,2320.536 C2331.095,2320.536 2438.845,2320.536 2438.845,2320.536 C2438.845,2320.536 2438.845,2338.101 2438.845,2364.206" fill="none" id="ProtocolMessage-to-MessageType-1" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="2438.845,2367.206,2440.845,2362.706,2438.845,2364.706,2436.845,2362.706,2438.845,2367.206" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link IdGenerator to SequentialIdGenerator--><g class="link" data-entity-1="IdGenerator" data-entity-2="SequentialIdGenerator" data-source-line="345" data-uid="lnk93" id="link_IdGenerator_SequentialIdGenerator"><path d="M2824,2298.766 C2824,2333.861 2824,2405.996 2824,2448.161" fill="none" id="IdGenerator-backto-SequentialIdGenerator" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="2824,2289.766,2821,2298.766,2827,2298.766,2824,2289.766" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ServerPacketHandler to TextMessageHandler--><g class="link" data-entity-1="ServerPacketHandler" data-entity-2="TextMessageHandler" data-source-line="422" data-uid="lnk105" id="link_ServerPacketHandler_TextMessageHandler"><path d="M3129.485,1922.036 C3136.775,1922.036 3132.35,1922.036 3132.35,1922.036 C3132.35,1922.036 3132.35,2099.536 3132.35,2099.536 C3132.35,2099.536 3137.02,2099.536 3144.495,2099.536" fill="none" id="ServerPacketHandler-backto-TextMessageHandler" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="3120.485,1922.036,3129.485,1925.036,3129.485,1919.036,3120.485,1922.036" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ServerPacketHandler to MediaMessageHandler--><g class="link" data-entity-1="ServerPacketHandler" data-entity-2="MediaMessageHandler" data-source-line="428" data-uid="lnk107" id="link_ServerPacketHandler_MediaMessageHandler"><path d="M2988.545,1952.436 C2988.545,1983.696 2988.545,2032.661 2988.545,2068.536" fill="none" id="ServerPacketHandler-backto-MediaMessageHandler" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="2988.545,1943.436,2985.545,1952.436,2991.545,1952.436,2988.545,1943.436" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ServerPacketHandler to ReactionHandler--><g class="link" data-entity-1="ServerPacketHandler" data-entity-2="ReactionHandler" data-source-line="436" data-uid="lnk109" id="link_ServerPacketHandler_ReactionHandler"><path d="M2913.485,1936.036 C2873.485,1936.036 2845.585,1936.036 2845.585,1936.036 C2845.585,1936.036 2845.585,2033.466 2845.585,2077.996" fill="none" id="ServerPacketHandler-backto-ReactionHandler" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="2922.485,1936.036,2913.485,1933.036,2913.485,1939.036,2922.485,1936.036" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ServerPacketHandler to GroupManagementHandler--><g class="link" data-entity-1="ServerPacketHandler" data-entity-2="GroupManagementHandler" data-source-line="442" data-uid="lnk111" id="link_ServerPacketHandler_GroupManagementHandler"><path d="M3054.455,1952.551 C3054.455,1991.711 3054.455,2061.036 3054.455,2061.036 C3054.455,2061.036 3244.05,2061.036 3372.915,2061.036" fill="none" id="ServerPacketHandler-backto-GroupManagementHandler" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="3054.455,1943.551,3051.455,1952.551,3057.455,1952.551,3054.455,1943.551" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link PacketProcessor to ServerPacketRouter--><g class="link" data-entity-1="PacketProcessor" data-entity-2="ServerPacketRouter" data-source-line="454" data-uid="lnk114" id="link_PacketProcessor_ServerPacketRouter"><path d="M3026,1687.211 C3026,1702.096 3026,1719.041 3026,1741.266" fill="none" id="PacketProcessor-backto-ServerPacketRouter" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="3026,1678.211,3023,1687.211,3029,1687.211,3026,1678.211" style="stroke:#181818;stroke-width:0.5;"/></g><!--link ServerPacketRouter to GMN115--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="GMN115" data-source-line="463" data-uid="lnk117" id="link_ServerPacketRouter_GMN115"><path d="M2928.885,1821.036 C2900.475,1821.036 2876.555,1821.036 2876.555,1821.036 C2876.555,1821.036 2876.555,1891.776 2876.555,1914.711" fill="none" id="ServerPacketRouter-GMN115" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/></g><!--reverse link MediaStorage to FileSystemMediaStorage--><g class="link" data-entity-1="MediaStorage" data-entity-2="FileSystemMediaStorage" data-source-line="491" data-uid="lnk121" id="link_MediaStorage_FileSystemMediaStorage"><path d="M3021.5,2313.216 C3021.5,2348.086 3021.5,2395.576 3021.5,2433.881" fill="none" id="MediaStorage-backto-FileSystemMediaStorage" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="3021.5,2304.216,3018.5,2313.216,3024.5,2313.216,3021.5,2304.216" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link Repository to UserRepository--><g class="link" data-entity-1="Repository" data-entity-2="UserRepository" data-source-line="502" data-uid="lnk124" id="link_Repository_UserRepository"><path d="M3772.455,1943.026 C3772.455,1967.406 3772.455,2014.161 3772.455,2054.266" fill="none" id="Repository-backto-UserRepository" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="3772.455,1934.026,3769.455,1943.026,3775.455,1943.026,3772.455,1934.026" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link Repository to GroupRepository--><g class="link" data-entity-1="Repository" data-entity-2="GroupRepository" data-source-line="513" data-uid="lnk126" id="link_Repository_GroupRepository"><path d="M3739.315,1943.026 C3739.315,1967.406 3739.315,2014.161 3739.315,2054.266" fill="none" id="Repository-backto-GroupRepository" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="3739.315,1934.026,3736.315,1943.026,3742.315,1943.026,3739.315,1934.026" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link TchatsAppServer to ConnectionState--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="ConnectionState" data-source-line="537" data-uid="lnk128" id="link_TchatsAppServer_ConnectionState"><path codeLine="537" d="M2910.68,1596.786 C2910.68,1607.351 2910.68,1611.431 2910.68,1620.586" fill="none" id="TchatsAppServer-backto-ConnectionState" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="2910.68,1590.786,2908.68,1593.786,2910.68,1596.786,2912.68,1593.786,2910.68,1590.786" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="2910.492" y="1601.3978">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="17.056" x="2892.8813" y="1614.78">many</text></g><!--reverse link TchatsAppServer to ServerContext--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="ServerContext" data-source-line="538" data-uid="lnk129" id="link_TchatsAppServer_ServerContext"><path codeLine="538" d="M2979.685,1396.536 C3085.305,1396.536 3228.07,1396.536 3228.07,1396.536 C3228.07,1396.536 3228.07,1800.936 3228.07,1900.061" fill="none" id="TchatsAppServer-backto-ServerContext" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="2973.685,1396.536,2976.685,1398.536,2979.685,1396.536,2976.685,1394.536,2973.685,1396.536" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="2977.6422" y="1391.1133">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="3227.9056" y="1894.3964">1</text></g><!--reverse link TchatsAppServer to IdGenerator--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="IdGenerator" data-source-line="539" data-uid="lnk130" id="link_TchatsAppServer_IdGenerator"><path codeLine="539" d="M2761.31,1575.036 C2707.93,1575.036 2659.805,1575.036 2659.805,1575.036 C2659.805,1575.036 2659.805,2261.036 2659.805,2261.036 C2659.805,2261.036 2742.795,2261.036 2790.77,2261.036" fill="none" id="TchatsAppServer-backto-IdGenerator" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="2767.31,1575.036,2764.31,1573.036,2761.31,1575.036,2764.31,1577.036,2767.31,1575.036" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link TchatsAppServer to PacketProcessor--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="PacketProcessor" data-source-line="540" data-uid="lnk131" id="link_TchatsAppServer_PacketProcessor"><path codeLine="540" d="M2979.57,1493.536 C3008.39,1493.536 3026,1493.536 3026,1493.536 C3026,1493.536 3026,1614.631 3026,1653.891" fill="none" id="TchatsAppServer-backto-PacketProcessor" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="2973.57,1493.536,2976.57,1495.536,2979.57,1493.536,2976.57,1491.536,2973.57,1493.536" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ServerPacketRouter to ServerPacketHandler--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="ServerPacketHandler" data-source-line="541" data-uid="lnk132" id="link_ServerPacketRouter_ServerPacketHandler"><path codeLine="541" d="M3021.5,1828.801 C3021.5,1854.111 3021.5,1879.611 3021.5,1900.186" fill="none" id="ServerPacketRouter-backto-ServerPacketHandler" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="3021.5,1822.801,3019.5,1825.801,3021.5,1828.801,3023.5,1825.801,3021.5,1822.801" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="3017.4569" y="1833.4195">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="17.056" x="3003.0972" y="1894.3808">many</text></g><!--link ServerPacketRouter to ServerContext--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="ServerContext" data-source-line="542" data-uid="lnk133" id="link_ServerPacketRouter_ServerContext"><path codeLine="542" d="M3114,1782.036 C3150.07,1782.036 3182.93,1782.036 3182.93,1782.036 C3182.93,1782.036 3182.93,1857.856 3182.93,1897.111" fill="none" id="ServerPacketRouter-to-ServerContext" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="3182.93,1900.111,3184.93,1895.611,3182.93,1897.611,3180.93,1895.611,3182.93,1900.111" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link GroupManagementHandler to GroupInfo--><g class="link" data-entity-1="GroupManagementHandler" data-entity-2="GroupInfo" data-source-line="543" data-uid="lnk134" id="link_GroupManagementHandler_GroupInfo"><path codeLine="543" d="M3540.705,2156.056 C3540.705,2174.231 3540.705,2189.011 3540.705,2208.241" fill="none" id="GroupManagementHandler-backto-GroupInfo" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="3540.705,2150.056,3538.705,2153.056,3540.705,2156.056,3542.705,2153.056,3540.705,2150.056" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="3550.5256" y="2160.933">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="17.056" x="3521.6777" y="2202.5003">many</text></g><!--reverse link GroupManagementHandler to IdGenerator--><g class="link" data-entity-1="GroupManagementHandler" data-entity-2="IdGenerator" data-source-line="544" data-uid="lnk135" id="link_GroupManagementHandler_IdGenerator"><path codeLine="544" d="M3367.01,2138.536 C3176.195,2138.536 2824,2138.536 2824,2138.536 C2824,2138.536 2824,2219.936 2824,2256.026" fill="none" id="GroupManagementHandler-backto-IdGenerator" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="3373.01,2138.536,3370.01,2136.536,3367.01,2138.536,3370.01,2140.536,3373.01,2138.536" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link MediaMessageHandler to MediaStorage--><g class="link" data-entity-1="MediaMessageHandler" data-entity-2="MediaStorage" data-source-line="545" data-uid="lnk136" id="link_MediaMessageHandler_MediaStorage"><path codeLine="545" d="M3021.5,2136.896 C3021.5,2168.251 3021.5,2210.336 3021.5,2241.711" fill="none" id="MediaMessageHandler-backto-MediaStorage" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="3021.5,2130.896,3019.5,2133.896,3021.5,2136.896,3023.5,2133.896,3021.5,2130.896" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link UserRepository to UserInfo--><g class="link" data-entity-1="UserRepository" data-entity-2="UserInfo" data-source-line="546" data-uid="lnk137" id="link_UserRepository_UserInfo"><path codeLine="546" d="M3823,2151.236 C3823,2171.981 3823,2190.821 3823,2213.051" fill="none" id="UserRepository-backto-UserInfo" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="3823,2145.236,3821,2148.236,3823,2151.236,3825,2148.236,3823,2145.236" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="3819.0179" y="2155.8539">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="17.056" x="3806.0017" y="2207.4038">many</text></g><!--reverse link GroupRepository to GroupInfo--><g class="link" data-entity-1="GroupRepository" data-entity-2="GroupInfo" data-source-line="547" data-uid="lnk138" id="link_GroupRepository_GroupInfo"><path codeLine="547" d="M3639.515,2151.236 C3639.515,2170.526 3639.515,2187.361 3639.515,2208.346" fill="none" id="GroupRepository-backto-GroupInfo" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="3639.515,2145.236,3637.515,2148.236,3639.515,2151.236,3641.515,2148.236,3639.515,2145.236" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="3621.8782" y="2155.8539">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="17.056" x="3626.5089" y="2202.6117">many</text></g><!--reverse link Media to RealMedia--><g class="link" data-entity-1="Media" data-entity-2="RealMedia" data-source-line="648" data-uid="lnk149" id="link_Media_RealMedia"><path d="M424.75,1065.536 C404.725,1065.536 394.385,1065.536 394.385,1065.536 C394.385,1065.536 394.385,1278.526 394.385,1385.436" fill="none" id="Media-backto-RealMedia" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="433.75,1065.536,424.75,1062.536,424.75,1068.536,433.75,1065.536" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link Media to MediaProxy--><g class="link" data-entity-1="Media" data-entity-2="MediaProxy" data-source-line="662" data-uid="lnk151" id="link_Media_MediaProxy"><path d="M477.5,1110.466 C477.5,1119.646 477.5,1120.831 477.5,1131.071" fill="none" id="Media-backto-MediaProxy" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="477.5,1101.466,474.5,1110.466,480.5,1110.466,477.5,1101.466" style="stroke:#181818;stroke-width:0.5;"/></g><!--link MediaProxy to RealMedia--><g class="link" data-entity-1="MediaProxy" data-entity-2="RealMedia" data-source-line="677" data-uid="lnk152" id="link_MediaProxy_RealMedia"><path codeLine="677" d="M501.94,1269.791 C501.94,1306.246 501.94,1347.496 501.94,1382.426" fill="none" id="MediaProxy-to-RealMedia" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="501.94,1385.426,503.94,1380.926,501.94,1382.926,499.94,1380.926,501.94,1385.426" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="58.9745" x="442.94" y="1325.5595">creates on demand</text></g><!--link MediaProxy to Client--><g class="link" data-entity-1="MediaProxy" data-entity-2="Client" data-source-line="678" data-uid="lnk154" id="link_MediaProxy_Client"><path codeLine="678" d="M658.405,1269.831 C658.405,1319.456 658.405,1377.536 658.405,1377.536 C658.405,1377.536 727.585,1377.536 792.295,1377.536" fill="none" id="MediaProxy-to-Client" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="795.295,1377.536,790.795,1375.536,792.795,1377.536,790.795,1379.536,795.295,1377.536" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="47.359" x="625.495" y="1375.4845">requests media</text></g><!--link Message to Media--><g class="link" data-entity-1="Message" data-entity-2="Media" data-source-line="679" data-uid="lnk155" id="link_Message_Media"><path codeLine="679" d="M477.5,999.836 C477.5,1010.451 477.5,1017.511 477.5,1026.421" fill="none" id="Message-to-Media" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="477.5,1029.421,479.5,1024.921,477.5,1026.921,475.5,1024.921,477.5,1029.421" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link Repository to ContactRepository--><g class="link" data-entity-1="Repository" data-entity-2="ContactRepository" data-source-line="699" data-uid="lnk159" id="link_Repository_ContactRepository"><path d="M171,201.036 C127.655,201.036 50.96,201.036 50.96,201.036 C50.96,201.036 50.96,347.451 50.96,424.091" fill="none" id="Repository-backto-ContactRepository" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="180,201.036,171,198.036,171,204.036,180,201.036" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link Repository to GroupRepository--><g class="link" data-entity-1="Repository" data-entity-2="GroupRepository" data-source-line="710" data-uid="lnk161" id="link_Repository_GroupRepository"><path d="M196.39,222.381 C196.39,259.136 196.39,360.926 196.39,424.156" fill="none" id="Repository-backto-GroupRepository-1" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="196.39,213.381,193.39,222.381,199.39,222.381,196.39,213.381" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link Repository to ConversationRepository--><g class="link" data-entity-1="Repository" data-entity-2="ConversationRepository" data-source-line="721" data-uid="lnk163" id="link_Repository_ConversationRepository"><path d="M212.61,222.336 C212.61,268.646 212.61,422.036 212.61,422.036 C212.61,422.036 243.175,422.036 277.33,422.036" fill="none" id="Repository-backto-ConversationRepository" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="212.61,213.336,209.61,222.336,215.61,222.336,212.61,213.336" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ClientPacketHandler to ClientTextMessageHandler--><g class="link" data-entity-1="ClientPacketHandler" data-entity-2="ClientTextMessageHandler" data-source-line="755" data-uid="lnk170" id="link_ClientPacketHandler_ClientTextMessageHandler"><path d="M807.515,1922.036 C777.03,1922.036 758.355,1922.036 758.355,1922.036 C758.355,1922.036 758.355,2030.766 758.355,2078.126" fill="none" id="ClientPacketHandler-backto-ClientTextMessageHandler" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="816.515,1922.036,807.515,1919.036,807.515,1925.036,816.515,1922.036" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ClientPacketHandler to ClientMediaMessageHandler--><g class="link" data-entity-1="ClientPacketHandler" data-entity-2="ClientMediaMessageHandler" data-source-line="761" data-uid="lnk172" id="link_ClientPacketHandler_ClientMediaMessageHandler"><path d="M875.045,1961.991 C875.045,1997.826 875.045,2046.686 875.045,2077.971" fill="none" id="ClientPacketHandler-backto-ClientMediaMessageHandler" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="875.045,1952.991,872.045,1961.991,878.045,1961.991,875.045,1952.991" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ClientPacketHandler to ClientReactionHandler--><g class="link" data-entity-1="ClientPacketHandler" data-entity-2="ClientReactionHandler" data-source-line="767" data-uid="lnk174" id="link_ClientPacketHandler_ClientReactionHandler"><path d="M962.455,1961.991 C962.455,1997.826 962.455,2046.686 962.455,2077.971" fill="none" id="ClientPacketHandler-backto-ClientReactionHandler" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="962.455,1952.991,959.455,1961.991,965.455,1961.991,962.455,1952.991" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ClientPacketHandler to ClientManagementHandler--><g class="link" data-entity-1="ClientPacketHandler" data-entity-2="ClientManagementHandler" data-source-line="773" data-uid="lnk176" id="link_ClientPacketHandler_ClientManagementHandler"><path d="M983.395,1922.036 C1061.23,1922.036 1159.645,1922.036 1159.645,1922.036 C1159.645,1922.036 1159.645,2030.766 1159.645,2078.126" fill="none" id="ClientPacketHandler-backto-ClientManagementHandler" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="974.395,1922.036,983.395,1925.036,983.395,1919.036,974.395,1922.036" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link PacketProcessor to ClientPacketRouter--><g class="link" data-entity-1="PacketProcessor" data-entity-2="ClientPacketRouter" data-source-line="779" data-uid="lnk179" id="link_PacketProcessor_ClientPacketRouter"><path d="M895.5,1687.211 C895.5,1703.171 895.5,1722.851 895.5,1746.021" fill="none" id="PacketProcessor-backto-ClientPacketRouter" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="none" points="895.5,1678.211,892.5,1687.211,898.5,1687.211,895.5,1678.211" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ClientController to Client--><g class="link" data-entity-1="ClientController" data-entity-2="Client" data-source-line="852" data-uid="lnk184" id="link_ClientController_Client"><path codeLine="852" d="M728.295,386.191 C728.295,713.601 728.295,1369.536 728.295,1369.536 C728.295,1369.536 759.73,1369.536 795.34,1369.536" fill="none" id="ClientController-backto-Client" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="728.295,380.191,726.295,383.191,728.295,386.191,730.295,383.191,728.295,380.191" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="725.3331" y="390.9422">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="787.5453" y="1364.6216">1</text></g><!--reverse link ClientController to User--><g class="link" data-entity-1="ClientController" data-entity-2="User" data-source-line="853" data-uid="lnk185" id="link_ClientController_User"><path codeLine="853" d="M640.98,386.061 C640.98,396.471 640.98,400.476 640.98,409.781" fill="none" id="ClientController-backto-User" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="640.98,380.061,638.98,383.061,640.98,386.061,642.98,383.061,640.98,380.061" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="631.8787" y="390.8031">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="640.929" y="404.1325">1</text></g><!--reverse link ClientController to ContactRepository--><g class="link" data-entity-1="ClientController" data-entity-2="ContactRepository" data-source-line="854" data-uid="lnk186" id="link_ClientController_ContactRepository"><path codeLine="854" d="M583.65,255.036 C399.82,255.036 91.04,255.036 91.04,255.036 C91.04,255.036 91.04,361.141 91.04,424.146" fill="none" id="ClientController-backto-ContactRepository" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="589.65,255.036,586.65,253.036,583.65,255.036,586.65,257.036,589.65,255.036" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="581.8518" y="255.1191">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="89.1212" y="418.3331">1</text></g><!--reverse link ClientController to GroupRepository--><g class="link" data-entity-1="ClientController" data-entity-2="GroupRepository" data-source-line="855" data-uid="lnk187" id="link_ClientController_GroupRepository"><path codeLine="855" d="M583.51,296.536 C443.035,296.536 244.555,296.536 244.555,296.536 C244.555,296.536 244.555,372.881 244.555,424.176" fill="none" id="ClientController-backto-GroupRepository" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="589.51,296.536,586.51,294.536,583.51,296.536,586.51,298.536,589.51,296.536" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="582.117" y="297.6955">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="244.3563" y="418.3657">1</text></g><!--reverse link ClientController to ConversationRepository--><g class="link" data-entity-1="ClientController" data-entity-2="ConversationRepository" data-source-line="856" data-uid="lnk188" id="link_ClientController_ConversationRepository"><path codeLine="856" d="M583.605,338.036 C484.09,338.036 369.5,338.036 369.5,338.036 C369.5,338.036 369.5,382.176 369.5,419.336" fill="none" id="ClientController-backto-ConversationRepository" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="589.605,338.036,586.605,336.036,583.605,338.036,586.605,340.036,589.605,338.036" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="582.2148" y="340.4275">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="365.8742" y="413.6195">1</text></g><!--reverse link ClientController to ClientPacketRouter--><g class="link" data-entity-1="ClientController" data-entity-2="ClientPacketRouter" data-source-line="857" data-uid="lnk189" id="link_ClientController_ClientPacketRouter"><path codeLine="857" d="M710.255,386.186 C710.255,800.086 710.255,1782.036 710.255,1782.036 C710.255,1782.036 757.385,1782.036 804.1,1782.036" fill="none" id="ClientController-backto-ClientPacketRouter" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="710.255,380.186,708.255,383.186,710.255,386.186,712.255,383.186,710.255,380.186" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="706.0246" y="390.9369">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="796.6749" y="1780.3145">1</text></g><!--reverse link ClientController to MessageIdGenerator--><g class="link" data-entity-1="ClientController" data-entity-2="MessageIdGenerator" data-source-line="858" data-uid="lnk190" id="link_ClientController_MessageIdGenerator"><path codeLine="858" d="M854.35,141.536 C1219.945,141.536 2228.5,141.536 2228.5,141.536 C2228.5,141.536 2228.5,1591.611 2228.5,1765.086" fill="none" id="ClientController-backto-MessageIdGenerator" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="848.35,141.536,851.35,143.536,854.35,141.536,851.35,139.536,848.35,141.536" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="852.2331" y="136.3028">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="2224.6616" y="1759.2083">1</text></g><!--reverse link ClientController to ClientEventListener--><g class="link" data-entity-1="ClientController" data-entity-2="ClientEventListener" data-source-line="859" data-uid="lnk191" id="link_ClientController_ClientEventListener"><path codeLine="859" d="M814.28,386.166 C814.28,422.341 814.28,443.536 814.28,443.536 C814.28,443.536 895.995,443.536 970.13,443.536" fill="none" id="ClientController-backto-ClientEventListener" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="814.28,380.166,812.28,383.166,814.28,386.166,816.28,383.166,814.28,380.166" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="817.3639" y="390.9155">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="17.056" x="949.3793" y="441.0879">many</text></g><!--reverse link ClientController to CryptoStrategy--><g class="link" data-entity-1="ClientController" data-entity-2="CryptoStrategy" data-source-line="860" data-uid="lnk192" id="link_ClientController_CryptoStrategy"><path codeLine="860" d="M854.455,260.536 C1027.2,260.536 1305.595,260.536 1305.595,260.536 C1305.595,260.536 1305.595,2754.536 1305.595,2754.536 C1305.595,2754.536 2144.77,2754.536 2362.76,2754.536" fill="none" id="ClientController-backto-CryptoStrategy" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="848.455,260.536,851.455,262.536,854.455,260.536,851.455,258.536,848.455,260.536" style="stroke:#181818;stroke-width:0.5;"/></g><!--reverse link ContactRepository to Contact--><g class="link" data-entity-1="ContactRepository" data-entity-2="Contact" data-source-line="862" data-uid="lnk193" id="link_ContactRepository_Contact"><path codeLine="862" d="M71,521.236 C71,539.156 71,554.061 71,573.491" fill="none" id="ContactRepository-backto-Contact" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="71,515.236,69,518.236,71,521.236,73,518.236,71,515.236" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="67.018" y="525.8759">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="17.056" x="52.9657" y="567.7561">many</text></g><!--reverse link GroupRepository to Group--><g class="link" data-entity-1="GroupRepository" data-entity-2="Group" data-source-line="863" data-uid="lnk194" id="link_GroupRepository_Group"><path codeLine="863" d="M212.985,521.236 C212.985,534.826 212.985,544.126 212.985,559.201" fill="none" id="GroupRepository-backto-Group" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="212.985,515.236,210.985,518.236,212.985,521.236,214.985,518.236,212.985,515.236" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="211.4959" y="525.8759">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="17.056" x="193.6911" y="553.3728">many</text></g><!--reverse link ConversationRepository to Conversation--><g class="link" data-entity-1="ConversationRepository" data-entity-2="Conversation" data-source-line="864" data-uid="lnk195" id="link_ConversationRepository_Conversation"><path codeLine="864" d="M405.66,525.961 C405.66,542.776 405.66,555.756 405.66,573.506" fill="none" id="ConversationRepository-backto-Conversation" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="405.66,519.961,403.66,522.961,405.66,525.961,407.66,522.961,405.66,519.961" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="411.4364" y="530.8326">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="17.056" x="383.7661" y="567.772">many</text></g><!--reverse link Conversation to Message--><g class="link" data-entity-1="Conversation" data-entity-2="Message" data-source-line="865" data-uid="lnk196" id="link_Conversation_Message"><path codeLine="865" d="M477.5,708.636 C477.5,722.436 477.5,731.466 477.5,746.701" fill="none" id="Conversation-backto-Message" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="477.5,702.636,475.5,705.636,477.5,708.636,479.5,705.636,477.5,702.636" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="473.662" y="713.5615">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="17.056" x="460.2221" y="740.8646">many</text></g><!--reverse link ClientPacketRouter to ClientPacketHandler--><g class="link" data-entity-1="ClientPacketRouter" data-entity-2="ClientPacketHandler" data-source-line="867" data-uid="lnk197" id="link_ClientPacketRouter_ClientPacketHandler"><path codeLine="867" d="M895.5,1823.991 C895.5,1846.486 895.5,1869.156 895.5,1890.661" fill="none" id="ClientPacketRouter-backto-ClientPacketHandler" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="895.5,1817.991,893.5,1820.991,895.5,1823.991,897.5,1820.991,895.5,1817.991" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="3.718" x="891.3749" y="1828.6115">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="17.056" x="877.4677" y="1884.8187">many</text></g><!--reverse link Client to PacketProcessor--><g class="link" data-entity-1="Client" data-entity-2="PacketProcessor" data-source-line="868" data-uid="lnk198" id="link_Client_PacketProcessor"><path codeLine="868" d="M895.5,1534.821 C895.5,1582.071 895.5,1630.276 895.5,1653.926" fill="none" id="Client-backto-PacketProcessor" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="none" points="895.5,1528.821,893.5,1531.821,895.5,1534.821,897.5,1531.821,895.5,1528.821" style="stroke:#181818;stroke-width:0.5;"/></g><!--link Client to Packet--><g class="link" data-entity-1="Client" data-entity-2="Packet" data-source-line="874" data-uid="lnk199" id="link_Client_Packet"><path codeLine="874" d="M991.175,1528.891 C991.175,1694.816 991.175,2049.536 991.175,2049.536 C991.175,2049.536 1319.895,2049.536 1508.59,2049.536" fill="none" id="Client-to-Packet" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="1511.59,2049.536,1507.09,2047.536,1509.09,2049.536,1507.09,2051.536,1511.59,2049.536" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="13.91" x="977.175" y="2047.3695">uses</text></g><!--link TchatsAppServer to Packet--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="Packet" data-source-line="875" data-uid="lnk200" id="link_TchatsAppServer_Packet"><path codeLine="875" d="M2767.405,1559.536 C2710.19,1559.536 2650.46,1559.536 2650.46,1559.536 C2650.46,1559.536 2650.46,2035.536 2650.46,2035.536 C2650.46,2035.536 2041.315,2035.536 1769.46,2035.536" fill="none" id="TchatsAppServer-to-Packet" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="1766.46,2035.536,1770.96,2037.536,1768.96,2035.536,1770.96,2033.536,1766.46,2035.536" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="13.91" x="2490.935" y="2033.4845">uses</text></g><!--link MessageFactory to MessageType--><g class="link" data-entity-1="MessageFactory" data-entity-2="MessageType" data-source-line="876" data-uid="lnk201" id="link_MessageFactory_MessageType"><path codeLine="876" d="M1920.515,1948.236 C1920.515,2045.396 1920.515,2377.036 1920.515,2377.036 C1920.515,2377.036 2283.725,2377.036 2430.355,2377.036" fill="none" id="MessageFactory-to-MessageType" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="2433.355,2377.036,2428.855,2375.036,2430.855,2377.036,2428.855,2379.036,2433.355,2377.036" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="13.91" x="1948.535" y="2374.9845">uses</text></g><!--link ServerPacketRouter to MessageFactory--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="MessageFactory" data-source-line="879" data-uid="lnk203" id="link_ServerPacketRouter_MessageFactory"><path codeLine="879" d="M2928.895,1819.536 C2663.9,1819.536 1921.47,1819.536 1921.47,1819.536 C1921.47,1819.536 1921.47,1862.031 1921.47,1892.326" fill="none" id="ServerPacketRouter-to-MessageFactory" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="1921.47,1895.326,1923.47,1890.826,1921.47,1892.826,1919.47,1890.826,1921.47,1895.326" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="13.91" x="2373.29" y="1817.4845">uses</text></g><!--link ClientPacketRouter to MessageFactory--><g class="link" data-entity-1="ClientPacketRouter" data-entity-2="MessageFactory" data-source-line="880" data-uid="lnk204" id="link_ClientPacketRouter_MessageFactory"><path codeLine="880" d="M986.835,1808.536 C1215.1,1808.536 1792.25,1808.536 1792.25,1808.536 C1792.25,1808.536 1792.25,1858.916 1792.25,1892.386" fill="none" id="ClientPacketRouter-to-MessageFactory" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="1792.25,1895.386,1794.25,1890.886,1792.25,1892.886,1790.25,1890.886,1792.25,1895.386" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="13.91" x="1418.965" y="1806.4845">uses</text></g><!--link TchatsAppServer to MessageFactory--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="MessageFactory" data-source-line="882" data-uid="lnk205" id="link_TchatsAppServer_MessageFactory"><path codeLine="882" d="M2767.37,1544.036 C2513.42,1544.036 1878.395,1544.036 1878.395,1544.036 C1878.395,1544.036 1878.395,1806.556 1878.395,1892.381" fill="none" id="TchatsAppServer-to-MessageFactory" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="1878.395,1895.381,1880.395,1890.881,1878.395,1892.881,1876.395,1890.881,1878.395,1895.381" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="13.91" x="2133.21" y="1541.9845">uses</text></g><!--link Client to MessageFactory--><g class="link" data-entity-1="Client" data-entity-2="MessageFactory" data-source-line="883" data-uid="lnk206" id="link_Client_MessageFactory"><path codeLine="883" d="M995.63,1445.036 C1237.795,1445.036 1835.325,1445.036 1835.325,1445.036 C1835.325,1445.036 1835.325,1792.136 1835.325,1892.311" fill="none" id="Client-to-MessageFactory" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:3.5,3.5;"/><polygon fill="#181818" points="1835.325,1895.311,1837.325,1890.811,1835.325,1892.811,1833.325,1890.811,1835.325,1895.311" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="13.91" x="1626.615" y="1442.9845">uses</text></g><!--SRC=[tJtPSjj8ak_-YWhtGuDgKXtjc2UEHn4m1RcvBHv3GexsR6mu8A8aeGq271oos6x_ptYVzm_qOrCNW3go052MTjNh1rj2PTQHbNTbbVEFKR8Bic2BuYZ1nNw7KPeLD-cB5xjWyp6unkZb9jrkq-Gb-lm2aJ_ih-_Ht-WVj7GdltW-MlkhYub_iVBuPmQoYOCyHqlI2Iu4AlqpGfVbrHNEnkZDli1lsC_eSuQ3S974-oyDtAZ-yGTqbQLRPp16KL98NulK_BOBzd4QXEleTsmsRd6UanNvP96qSTRyAW5TusB9Ew4mpIHLa5aQHbTHS1dZBk0WRpvt0BbP5kmfp2NvvJ__Ish_b4K5zbCdJFCnEWsAO54Mkx9O5uHmMu9mcqQX1FuvBu8Ysdn1bAvdb7XX912dYOp7jmV2t108CYI-AmIP7Be9ZA93GddnmoPD2fmKOqHwZ9Bh7ZtES1W5RLrkAG2TQKM67frwsrsnvq2MFkkTLhPTxPepNv8M65scHP5kKNgb3trqH5PQReeomoZ4AFuU9wFY_hyBF3uwge7ElVbR_sVdBmFq1_BVBpt-qzbgCHFV5lpVfVl-VE6UCZoSX6pe5uRml2cZEAH2eieGo4cAr2ZeZYGPZ2e32JB3EQ6S0J5Mkv0G23XZgvhOxR24SyLUjCD9M-CKriq2KIin58imcCT4kehYc2tYKg5b2qOFrH3bAo9oN8ZJDCP1eZHEqkqknWKEOO1BEgHZvSeYtJKigK_lw6WP50NE4Z8ptYHnfCf9E2zGcM3EPPXk2q73YCdKFql6sD84LCvKUngDJYeLFnQoc5kjn7Arc7ZhzM8bMGaszbMmgKPSPkc6R7agiplHwloh8-IOq2TBYtIJne8zP0qeqIkBhc-AXc9rtn3DY5YJoL_l1T7gHHkBcP4bk6yz9jXhQIKuARSokqeByBrV_VgNcNSwTUlV9YlFzRqF5sjlfNzxkrfSBEkF5yjJ-d6vzYvE5_LNz_JqmsGnzzs9htnZk1zctkoDrE_AcotUUN2Rw9wtpTsPLxUSUkUUCPjpptsdVnE4-K1cF_6dYtdTC5_uqxFfn5K-UhEb_xxvRRLQh2I4kGUhj5hlKyKpJGedghGARCmLU2gmpYNN35QC8cLWmWWh3Tp6qIR-ayHkAhkl5lvYiZYlMQLXak0o9tosAIe5hxAnn3BVMMsM159hN-cRqBCMybNZVo5mmbw2vhM1esC8o1txfm8tlOvhLO6tULXde4DtpIp5G5yIP6oKeRypR8pPt6LQDFqXMM791qBaHw8PsZPkL6tSD5JuXBTf_fBKak5TlFVJMGjo4P6kYs2x6wCubLlaBPOzje52smHJ3JV7d-end7ggRtbhcjLaaRwrxVGqrEIX1fZmfTgQLzfwGRYywSRqDBKvvK2VWgWDDS6b-1LTwHmKolxGBYQzP0FqAgLTaepHMPfjWwAAOMIFijweFsec-ADUd9EKSKn3aS4VWaeM4yRvMVR0lvcXcRVETHJS1dFoJRczJ88eblryKnWUBWLAb34ua7DdVDwsPb-UF1YjFHRJo9iM96JEMxAtX-mS2-n9u3SBTg_vKePeSVaRtXGd5hhfm-Z4Mz8UdOzuBqaKxn60StEcRYNe8LtExx-FqOIkwhL_Gj1zEGuEGsE48ReDuX9Nur2peizI2MMswIs6fjc6zKHYRX-oJTZ9j7_w6rlpJtybFx_YFx_ww_7nSQjWayXZKqHfSWY7544cYmGWRuIUlqN0zoXtmz0COXHsqcQaCvEl3cuJE8_E06naSu13gIUGmNbQH5VH9ZYKnec4Pr6L8TE3-cUPbC3W2ZaVTRrwh4CysdVJKs-5d3NERgCDFYSiIq9bC90JioCKkOtKl0NVz5RVaCUGquHe-6J3u3JAMcCyRLWmnkEJH_NKdFy8RWEahaaIn2PynjcMXBXnWCBxhvkqlCKP6JeeYPZN8NEEg5kPq-1P6CpykEaWBJEqkGaeQ4BnuvZ4sscPZqGC7c9zeUCQ-QTZDCdklvBvIa7xhtTtEg4ZcbkWoYQt4kFLCN9_Iqj23XJJcMo9Hyeo4YoP5LITXq6ID-EpsCvtHzFvsOyvfrN-urLsN5u7nz7sLN1D59Djm2Owv01dH26asPxIWiX-5iX4f5CdV5pcP6uvZVbPLtdTHL1Iyc-3BACITXjfEzUk72MFgmV1PFaTFHN_jfdtvpX7oQTwXjFJRCqpd26Wmf_LB24HEJu-KG9WDSjdPrkAP_gi6ZR4K0nHZb1K7DikKpJT_r4nswXFiI7htfBJh4pZcJln5wltni6NfkzaVq0wdRcEyYBRSmTTsiKXMfUxNHpXxBMsPoSdFH9ZDbCFxJzudc9cI8R8F5Svt3WBQa2skIBK3wfIjwPZDVfojb5tbGQ80V7D34jXtytfANhhpRsLwrkor6PsHFDlU9Q5EBCbCPNKeUOKKuDMA8N8sMPz4yXzcse17fbcbaewoJ5oYJsDDkVMq5WTGV4XjIOouQoOLFsoUN_hKlbSAzIVW_oc5NdOBCj6DZtYCgZqJSb-RpvPlL_In3N83PDilsDvOTQRmWausT169rHFCerSGOYxuCm387NO1osGSvlhhRKbI0ndNTm8yS2Qp1mNl-0zp6T6tuwADNX2OabBz5vv3rhYBejkoTTVw9oNzSyoG7aPHnloJUHNfeGhY4SxHCkgmQAgZHavy5W3BIzITQjAJ3sDSJEmcULy4WAt7sQSuatArLHtZFmT7PX2ut1cEUAp775RndIs-RLvIlYeuV9JdNc0vvUMPKAYNpTsoBx7MQAck6sRcdrKp8t2mMERIg9fedgWZcIHFY5m3uTYP7t4fzZRIXXQFITfVNeYIX8LWzZqu1oWcM9yLjvoiPvgtcLZV5Pub-OHzNvU-oUAxI7QmeaAJDmrtrnLkGkfXsTj3p4jKEXgVxCdTZyAfQIi1dOL9Q49v6iGRXnJgfqJDvWimcBkceL2_Dwq7k8hwhf8ZqnCXAhAWMXV3gHtGRTK5lulBrw8dUpvXu3JIWdgXwwzrJjlTIX-NR57ipGu0olsEZtS7gujhArYVCMKrRVwNi8HnlyiYOsEWjZY3_TqX8LPjlZ2q23SxpLgfDhMhr1uifZFFLO1WTQ-wviraPCqIJ2BLDSawi8AbJSt0McC2PbIocyJ_YlwJ8GbYB_8W2GwJ0hX1iZVUUSuTCaIUF1V0EYqCF0DK8Xf0998Ag61iQI-qUVRD2RXOeoL2PLPHa2NYbBLYvGKwcjqS3RQgWSs3jCGcy8PUpsJJmXRvEvkjsQYqTJ4u5rs_pKd4wV5VFTV2GeAlsTvLZh87Hb3aBeZKk0IIpUVLliOUyw7POVPTuKjfKEc4NAw-Uc43UhiFhOw7vmb9u8Nkjm8PH8sghKGwomjioGgKB3PtFyhHq5vXwxIX6q4uPge88H4JFMK3SwEPhvfFfViQHZBwLn9EVYBqyNuwAZEJKi3XFTVT_V_G-Iz90mNvMIrPPR_U9sbvKxeuSuzcRdJEPgSk-kriItQIk4qpSpzzSDi_VR3UleFJokkQO3UN9oTUQiFlFHJXvgUUdD_UlR-Wp-TUOiBNs-dUQjRtB1rTMGhIyDGP_iJjQw4Iprd1JqaQSDa27ylSObrBFRnTQCTvDmJsgabTMDhZHrn0UNo4iWwZD2dDFj8U6ECl3kyAKcRoDT88Fdc1eTbJ1NMMlmOja0JBsN31boBd-H6gk0x5Dg8St8bBMEByAYrDoetERjKs96XMA1_G_LkRjWMDY47g6aX7f03bhfer7PsEsC7GBnALJJMZYWHPLSWj4ejjQiZVlGk59TYdtHOol4RJ5nhaHA8ENC2eUk8MQg-S6AMMdNqa5a24b9gOc3smShi-mmc2bBhIAL7NMebRccEXKGxkM7nO7WQzFUOrAVW8ou9xoKXarm7zYKwZdo5pXGbkp-xyzDpRxMsbp1oLkU4_vchU9jvaweAkJ6mHNYWo06t79h-Da721mTh-on1cN4mMCs_YeGFMDkZBEWRLY4VcHou35wdjIQYprXu9ltMNLmb-YC-Cu0-U4O4gWw7_iHx_9OwFSsXsg7Rp7mctSQpFgV9LNgYGquxhVR_8Msg91GDsTaId23SHacT5Ks2BPPAlpHlAmndU7j9k5OijBubH3_MlsOqECoB-WjaSgZ1Uvo-U5g5hqNjgWttYnasDqomuiwq53FRxrYCQlzSP6C0RZhv9kV8d9bZuGirarLf636_CSJdDb_aORWFl6tI74APIuKI8SGUHmdFR-KxulD7boJ0ARhFfDYj2pITdosCSAQMPZLp8x4J4E7BaWCqSqxEAUsAIc-SIEsogC4xNyzAO-mMaLLPG4YO8bEsBUy76-K2JZfBiLpPSkaiE-6kSJ4d2x1LiRCsJIcr5zwTJbsqzXShzVw8V13Ts5bbjwabvhSi7Qq0UuYqOns3W0GCtyB8y6aHrLasSFq8wewebHpgjitcdP6WRBqdsc-hB5Wv5mS9CKANGOvF8nQP5ZSmPyAzEmhcuFyXRJLdlpvec7fcYkI2S7wJOvSfBtsLwKv5HNSpQ2UQbp7I3YmeshW6j9vRT869uuj-O0yynQYwRJdCK1SCkt87KRMtzwRJbI6E6r0hPRi11Mtx0ZwGkdM_BUJL5cxGjoA_mPWsEqT2-XoNOMgviqLY1vi5L0XUZQkTqIjTQqNm32K43uQN3CzcKqIhrhb1PC834xu2HwoamuBsXHPtl2Xfs1HruiYLXLgQzULFBz7HQ8HUReDa_nBCvrjHoB-cjwb3fmHIZraW62Xf2RZGsdm1BzA6IGy5pUbQ8Zbj65KGB3ZGIg5a08KpGdjDjslZAsfErrZMkNxBiUVaVEhD_GSVU_AS8tZiIIzO8-SytGGnlLr67pn82bRhEG0jtcCe3gWqvu0A8rslF2ETGlkfov46qF9OR-J3CeWo1oB4qBB-3iTON7Q7pbIf9j9EWcK5zeWxHqOirfZbpVa1g_Ly4r2a7LitgO0FtJrknNjk80S-5-jm7hp33Sn7QmNQ5ri82qQlfjDZtpyuz6mFQ4ST0QqPkMfHgpoe6iDgEybL8hoF3uuLwnvSFZ3OEuzjOQlyf45rlrYvH_3TSXVDeGOCXoYckZpU3soLz-rNc06-C5zJ69clARJSu9Tgbsrr5oFnFWoKp6oxyvo9vBLsbLVUt1CzeUyMH8_SRDbScU6t9VEL8omvektpuDE1LwiFUFUXpoC2oirzNHV_WBP1zj5b17SWRgqQJ0vjtX8mwG9Auwg-Ym_Db4XRTVpWADTfXqWL0L3u7eJAvYIOXbMbThADU819uHoUKH3yOob-LH46ChDP4rlMX9P-MRJZAlwiUdsWywu-U4zVPJ2ZEShPTH5BNQT-mKMMC2dBIsABkxtyDbZm-vxTIw5AYDuQtTv_9QXvrytkcDD7JtoP1ta7FzDGFyO0FCHGYxlUejtoZYr9CMFSeTxbu4-puVffAzlP_-qDoIfQZnko6zKyz7c5kcGDFhvba- -rNyPiXjeeVuOT57uxQUECQl5FfNsbWNiZTdLvC4eJ8hKavWqX14uG0YtEx79EKBccM9G9Lr_ruEQTjrgxsdsZEiAv9KuTYrdrCATkQFDw-PrqrHHKjmfDm4KMqWmgFmjaq2UA6_EM9m5RA_hbAJl0D8T6FyR1ZtGJm59J8piUeBKsQ_ORXBpEA1gKu85qGikAs1quu3bHwbx4iTN3aCn-_IWHv6Vri-jGCCpI9UtfUn5F7fHhRZAUUXKX_ToIQnQ8umhKcclk1XIvvhw03ymrYrvRCitAefyqZzypXzyhVzyhT_yKUVkkdBs5ZhAcE9HLQqI0N-ksTgQjmSOAKXlxzaPf6Fb0b8UpTDrrEry3n65ARv5D-2tmoAgcWM7i-kbyklRfbHFu2YqpcTuj-OlEY-QnbI2Wleo_mXiStHBJtcuCAFzmdUk6r15uiBwjkXCAWFVMhOxIX97gWZ5Ab-IotkMZ3rgZUSt7uVNSCiaDP2_Bqip1z6zxNO4Qfm3aXgAMnIKlyEaiHX5RtBjSb8zlArBxJdCjAPMpD8wjDqZCtXnR3uE3Ar6VgkAKpwobxhITI7thxXwrzf1FgQtAzDbEsbRv-NofR2tnVBPJVeI2Gs1j9zrIBoe9kse6WSvxrmpsmZsyPX1IezBLGSEFvw7bPoFOrwy0ak_9NLNpRrvPQB-gq-z1sBPjKRO2l0jYNbPqRjAyQ0noVMq6pCs6KLwX7N1L1SpncYlZjs7wF84BtS7fSGM7FW4lJBjZAoI4hlDL7ChI2ZsBoEezhrodzaiyhMpfhnRdvueB9xDbOsK11ZMpKTLTqOkwICiCFXj_Vsp6i7ey9GDh8PabLj2w1xxBUIFXAQcgId6YpAjnN3ED0Mtr3VBM-zq5Kp2RFN8E447TFJvG7YatDtlj3BJTPigw8g5JaNaCUQasTVrGRAefvBUoM_vB4-2GjX_k444FK8FTAGyMg_yNIfDtDRApNOTDOCwjAoBgF8Twf5uFA4oJBtgqduoJJdcXLEUb3Dio7unEvE8MkC1X2-_xG2er7Gd-jEokox6Ir4nrLJKA-YJqH0xljJMJQyyxq3kdwcj7kKLvcNTYsCEv-qFY_mhd4NC0LPUzm_eAeNzqtjmSiOQzwajvGOYb8yNgMZvzjQ19hEJK3O-kelklc5_2BwZnuM-hfhlxhndFcVLxtM3bdRDJYNNb4ZH-WE41o9MQakLlXQkjGdjle1_GYW9v0rrZs9o17Yirp7mhZiNIWpYfL2vhoU4OU1J7ziYGUIvW5kNM-g9FyMVLAvJ7DRjMLOLojgK1oyStqZBRwdE1Y4t210j_7rArsWW5aOYLLrMnhW_jIKpBV6L8hrWs8UolOBB_WaX0TRrKz08eN9QwgdeNlG7qjmE3QsZhjmNWtm00]--></g></svg>