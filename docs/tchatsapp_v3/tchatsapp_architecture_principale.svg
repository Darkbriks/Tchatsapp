<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="1305px" preserveAspectRatio="none" style="width:5957px;height:1305px;background:#FFFFFF;" version="1.1" viewBox="0 0 5957 1305" width="5957px" zoomAndPan="magnify"><defs/><g><!--cluster common--><g class="cluster" data-entity="common" data-source-line="12" data-uid="ent0002" id="cluster_common"><rect fill="#E8F4F8" height="953.63" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="1469" x="1591" y="345.68"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="61.1238" x="2294.9381" y="362.6459">common</text></g><!--cluster Packet System--><g class="cluster" data-entity="Packet System" data-source-line="15" data-uid="ent0003" id="cluster_Packet System"><rect fill="#FAFAFA" height="640.86" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="254" x="2297" y="391.68"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="101.8776" x="2373.0612" y="408.6459">Packet System</text></g><!--cluster Message Factory System--><g class="cluster" data-entity="Message Factory System" data-source-line="44" data-uid="ent0011" id="cluster_Message Factory System"><rect fill="#FAFAFA" height="824.45" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="368" x="1905" y="450.86"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="171.6814" x="2003.1593" y="467.8259">Message Factory System</text></g><!--cluster Processing System--><g class="cluster" data-entity="Processing System" data-source-line="80" data-uid="ent0021" id="cluster_Processing System"><rect fill="#FAFAFA" height="371.47" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="266" x="1615" y="468.56"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="129.9335" x="1683.0332" y="485.5259">Processing System</text></g><!--cluster Repository System--><g class="cluster" data-entity="Repository System" data-source-line="91" data-uid="ent0026" id="cluster_Repository System"><rect fill="#FAFAFA" height="467.42" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="461" x="2575" y="439.35"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="129.8915" x="2740.5542" y="456.3159">Repository System</text></g><!--cluster client--><g class="cluster" data-entity="client" data-source-line="130" data-uid="ent0035" id="cluster_client"><rect fill="#F0E8F8" height="1003.17" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="2867" x="3084" y="64.2"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="39.1158" x="4497.9421" y="81.1659">client</text></g><!--cluster Client Core--><g class="cluster" data-entity="Client Core" data-source-line="133" data-uid="ent0036" id="cluster_Client Core"><rect fill="#FAFAFA" height="756.45" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="501" x="3926" y="140.78"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="76.8737" x="4138.0631" y="157.7459">Client Core</text></g><!--cluster Packet Routing--><g class="cluster" data-entity="Packet Routing" data-source-line="169" data-uid="ent0045" id="cluster_Packet Routing"><rect fill="#FAFAFA" height="478.82" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="573" x="4451" y="110.2"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="106.3016" x="4684.3492" y="127.1659">Packet Routing</text></g><!--cluster Event System--><g class="cluster" data-entity="Event System" data-source-line="193" data-uid="ent0053" id="cluster_Event System"><rect fill="#FAFAFA" height="902.59" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="445" x="5048" y="140.78"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="93.8276" x="5223.5862" y="157.7459">Event System</text></g><!--cluster Command System--><g class="cluster" data-entity="Command System" data-source-line="232" data-uid="ent0064" id="cluster_Command System"><rect fill="#FAFAFA" height="727.85" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="410" x="5517" y="110.2"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="125.8315" x="5659.0842" y="127.1659">Command System</text></g><!--cluster Client Repositories--><g class="cluster" data-entity="Client Repositories" data-source-line="257" data-uid="ent0071" id="cluster_Client Repositories"><rect fill="#FAFAFA" height="159.21" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="794" x="3108" y="699.89"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="131.5295" x="3439.2353" y="716.8559">Client Repositories</text></g><!--cluster server--><g class="cluster" data-entity="server" data-source-line="279" data-uid="ent0081" id="cluster_server"><rect fill="#F8E8E8" height="876.1" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="1277" x="7" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="44.2538" x="623.3731" y="23.9659">server</text></g><!--cluster Server Core--><g class="cluster" data-entity="Server Core" data-source-line="282" data-uid="ent0082" id="cluster_Server Core"><rect fill="#FAFAFA" height="555.09" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="604" x="31" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="80.9337" x="292.5331" y="69.9659">Server Core</text></g><!--cluster Server Routing--><g class="cluster" data-entity="Server Routing" data-source-line="318" data-uid="ent0088" id="cluster_Server Routing"><rect fill="#FAFAFA" height="469.29" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="601" x="659" y="110.2"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="103.8236" x="907.5882" y="127.1659">Server Routing</text></g><!--cluster Server Repository--><g class="cluster" data-entity="Server Repository" data-source-line="341" data-uid="ent0096" id="cluster_Server Repository"><rect fill="#FAFAFA" height="159.21" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="260" x="547" y="699.89"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="124.0116" x="614.9942" y="716.8559">Server Repository</text></g><!--class Packet--><g class="entity" data-entity="Packet" data-source-line="16" data-uid="ent0004" id="entity_Packet"><rect fill="#F1F1F1" height="181.4754" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="221.7752" x="2313.11" y="429.68"/><ellipse cx="2398.0127" cy="445.68" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2397.4815,452.6019 Q2395.7315,452.6019 2394.5908,451.8675 Q2393.4658,451.1175 2392.9033,449.7737 Q2392.3565,448.4144 2392.3565,446.6175 Q2392.3565,444.5862 2393.0127,443.1331 Q2393.669,441.68 2394.9502,440.8987 Q2396.2315,440.1175 2398.1065,440.1175 Q2398.9971,440.1175 2399.669,440.305 Q2400.3408,440.4769 2401.0283,440.8206 L2400.2158,442.8362 Q2399.5908,442.5237 2399.044,442.3987 Q2398.5127,442.2737 2398.0283,442.2737 Q2396.8565,442.2737 2396.1533,442.805 Q2395.4502,443.3362 2395.1533,444.2894 Q2394.8565,445.2425 2394.8565,446.5081 Q2394.8565,448.5237 2395.5752,449.4925 Q2396.294,450.4456 2397.8877,450.4456 Q2398.4815,450.4456 2399.1065,450.2894 Q2399.7315,450.1331 2400.5596,449.7581 L2400.5596,451.9769 Q2399.8252,452.2894 2399.0283,452.4456 Q2398.2471,452.6019 2397.4815,452.6019 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.4698" x="2418.5127" y="451.112">Packet</text><line style="stroke:#181818;stroke-width:0.5;" x1="2314.11" x2="2533.8852" y1="461.68" y2="461.68"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2321.11" y="473.714"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.2155" x="2333.11" y="480.6459">buffer: ByteBuffer</text><line style="stroke:#181818;stroke-width:1;" x1="2314.11" x2="2533.8852" y1="488.7479" y2="488.7479"/><ellipse cx="2324.11" cy="503.7819" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.2677" x="2333.11" y="507.7139">from(): int</text><ellipse cx="2324.11" cy="522.8498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6338" x="2333.11" y="526.7818">to(): int</text><ellipse cx="2324.11" cy="541.9177" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.0336" x="2333.11" y="545.8497">payloadSize(): int</text><ellipse cx="2324.11" cy="560.9856" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.7752" x="2333.11" y="564.9176">messageType(): MessageType</text><ellipse cx="2324.11" cy="580.0535" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="2333.11" y="583.9855">toPacket(): Packet</text><ellipse cx="2324.11" cy="599.1215" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="142.9395" x="2333.11" y="603.0534">readFrom(dis): Packet</text></g><!--class PacketBuilder--><g class="entity" data-entity="PacketBuilder" data-source-line="27" data-uid="ent0005" id="entity_PacketBuilder"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="204.1073" x="2321.95" y="728.36"/><ellipse cx="2374.3868" cy="744.36" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2373.8556,751.2819 Q2372.1056,751.2819 2370.965,750.5475 Q2369.84,749.7975 2369.2775,748.4537 Q2368.7306,747.0944 2368.7306,745.2975 Q2368.7306,743.2662 2369.3868,741.8131 Q2370.0431,740.36 2371.3243,739.5787 Q2372.6056,738.7975 2374.4806,738.7975 Q2375.3712,738.7975 2376.0431,738.985 Q2376.715,739.1569 2377.4025,739.5006 L2376.59,741.5162 Q2375.965,741.2037 2375.4181,741.0787 Q2374.8868,740.9537 2374.4025,740.9537 Q2373.2306,740.9537 2372.5275,741.485 Q2371.8243,742.0162 2371.5275,742.9694 Q2371.2306,743.9225 2371.2306,745.1881 Q2371.2306,747.2037 2371.9493,748.1725 Q2372.6681,749.1256 2374.2618,749.1256 Q2374.8556,749.1256 2375.4806,748.9694 Q2376.1056,748.8131 2376.9337,748.4381 L2376.9337,750.6569 Q2376.1993,750.9694 2375.4025,751.1256 Q2374.6212,751.2819 2373.8556,751.2819 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.7336" x="2394.8868" y="749.792">PacketBuilder</text><line style="stroke:#181818;stroke-width:0.5;" x1="2322.95" x2="2525.0573" y1="760.36" y2="760.36"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2329.95" y="772.394"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.7216" x="2341.95" y="779.3259">buf: ByteBuffer</text><line style="stroke:#181818;stroke-width:1;" x1="2322.95" x2="2525.0573" y1="787.4279" y2="787.4279"/><ellipse cx="2332.95" cy="802.4619" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.1073" x="2341.95" y="806.3939">setFrom(int): PacketBuilder</text><ellipse cx="2332.95" cy="821.5298" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.7534" x="2341.95" y="825.4618">setTo(int): PacketBuilder</text><ellipse cx="2332.95" cy="840.5977" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.3576" x="2341.95" y="844.5297">build(): Packet</text></g><g class="entity" data-entity="GMN6" data-source-line="36" data-uid="ent0007" id="entity_GMN6"><path d="M2312.68,971.13 L2312.68,1016.542 A0,0 0 0 0 2312.68,1016.542 L2535.3102,1016.542 A0,0 0 0 0 2535.3102,1016.542 L2535.3102,981.13 L2525.3102,971.13 L2428,971.13 L2424,852.89 L2420,971.13 L2312.68,971.13 A0,0 0 0 0 2312.68,971.13" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2525.3102,971.13 L2525.3102,981.13 L2535.3102,981.13 L2525.3102,971.13" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="102.8431" x="2318.68" y="990.027">Pattern: Builder</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.6302" x="2318.68" y="1007.733">Classe interne statique de Packet</text></g><!--class MessageFactory--><g class="entity" data-entity="MessageFactory" data-source-line="45" data-uid="ent0012" id="entity_MessageFactory"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="335.6228" x="1921.19" y="728.36"/><ellipse cx="2031.4256" cy="744.36" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2030.8944,751.2819 Q2029.1444,751.2819 2028.0037,750.5475 Q2026.8787,749.7975 2026.3162,748.4537 Q2025.7694,747.0944 2025.7694,745.2975 Q2025.7694,743.2662 2026.4256,741.8131 Q2027.0819,740.36 2028.3631,739.5787 Q2029.6444,738.7975 2031.5194,738.7975 Q2032.41,738.7975 2033.0819,738.985 Q2033.7537,739.1569 2034.4412,739.5006 L2033.6287,741.5162 Q2033.0037,741.2037 2032.4569,741.0787 Q2031.9256,740.9537 2031.4412,740.9537 Q2030.2694,740.9537 2029.5662,741.485 Q2028.8631,742.0162 2028.5662,742.9694 Q2028.2694,743.9225 2028.2694,745.1881 Q2028.2694,747.2037 2028.9881,748.1725 Q2029.7069,749.1256 2031.3006,749.1256 Q2031.8944,749.1256 2032.5194,748.9694 Q2033.1444,748.8131 2033.9725,748.4381 L2033.9725,750.6569 Q2033.2381,750.9694 2032.4412,751.1256 Q2031.66,751.2819 2030.8944,751.2819 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.6516" x="2051.9256" y="749.792">MessageFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="1922.19" x2="2255.8128" y1="760.36" y2="760.36"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1929.19" y="772.394"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="254.799" x="1941.19" y="779.3259">registry: Map&lt;MessageType, Supplier&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1929.19" y="791.4619"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="286.3829" x="1941.19" y="798.3939">messageIdGenerator: MessageIdGenerator</text><line style="stroke:#181818;stroke-width:1;" x1="1922.19" x2="2255.8128" y1="806.4958" y2="806.4958"/><ellipse cx="1932.19" cy="821.5298" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="248.3031" x="1941.19" y="825.4618">fromPacket(Packet): ProtocolMessage</text><ellipse cx="1932.19" cy="840.5977" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="309.6228" x="1941.19" y="844.5297">create(MessageType, int, int): ProtocolMessage</text></g><!--class MessageProvider--><g class="entity" data-entity="MessageProvider" data-source-line="53" data-uid="ent0013" id="entity_MessageProvider"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252.6871" x="1941.66" y="950.77"/><ellipse cx="2010.7008" cy="966.77" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2006.732,973.27 L2006.732,971.5669 L2009.0914,971.3013 L2009.0914,963.0981 L2006.732,962.8325 L2006.732,961.1294 L2013.8726,961.1294 L2013.8726,962.8325 L2011.4508,963.0981 L2011.4508,971.3013 L2013.8726,971.5669 L2013.8726,973.27 L2006.732,973.27 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106.1056" x="2031.2008" y="972.202">MessageProvider</text><line style="stroke:#181818;stroke-width:0.5;" x1="1942.66" x2="2193.3471" y1="982.77" y2="982.77"/><line style="stroke:#181818;stroke-width:0.5;" x1="1942.66" x2="2193.3471" y1="990.77" y2="990.77"/><ellipse cx="1952.66" cy="1005.804" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.7894" x="1961.66" y="1009.7359">getType(): MessageType[]</text><ellipse cx="1952.66" cy="1024.8719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.6871" x="1961.66" y="1028.8039">createInstance(): ProtocolMessage</text></g><!--class ProtocolMessage--><g class="entity" data-entity="ProtocolMessage" data-source-line="58" data-uid="ent0014" id="entity_ProtocolMessage"><rect fill="#F1F1F1" height="162.4075" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213.3753" x="2002.31" y="1096.9"/><ellipse cx="2051.9188" cy="1112.9" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2047.0907,1118.65 L2050.4345,1106.4625 L2053.5751,1106.4625 L2056.9501,1118.65 L2054.4813,1118.65 L2053.747,1115.6344 L2050.2313,1115.6344 L2049.4813,1118.65 L2047.0907,1118.65 Z M2051.497,1110.6031 L2050.747,1113.6031 L2053.2626,1113.6031 L2052.5438,1110.6031 Q2052.4032,1110.025 2052.2782,1109.4781 Q2052.1532,1108.9156 2052.0126,1108.3375 Q2051.9032,1108.9156 2051.7626,1109.4781 Q2051.622,1110.025 2051.497,1110.6031 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="105.6576" x="2072.4188" y="1118.332">ProtocolMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="2003.31" x2="2214.6853" y1="1128.9" y2="1128.9"/><polygon fill="none" points="2013.31,1138.934,2017.31,1142.934,2013.31,1146.934,2009.31,1142.934" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.3753" x="2022.31" y="1147.8659">messageType: MessageType</text><polygon fill="none" points="2013.31,1158.0019,2017.31,1162.0019,2013.31,1166.0019,2009.31,1162.0019" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.8678" x="2022.31" y="1166.9339">from: int</text><polygon fill="none" points="2013.31,1177.0698,2017.31,1181.0698,2013.31,1185.0698,2009.31,1181.0698" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.2339" x="2022.31" y="1186.0018">to: int</text><polygon fill="none" points="2013.31,1196.1377,2017.31,1200.1377,2013.31,1204.1377,2009.31,1200.1377" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.9016" x="2022.31" y="1205.0697">messageId: String</text><line style="stroke:#181818;stroke-width:1;" x1="2003.31" x2="2214.6853" y1="1213.1717" y2="1213.1717"/><ellipse cx="2013.31" cy="1228.2056" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="109.4656" x="2022.31" y="1232.1376">toPacket(): Packet</text><ellipse cx="2013.31" cy="1247.2735" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="153.2294" x="2022.31" y="1251.2055">fromPacket(Packet): void</text></g><g class="entity" data-entity="GMN15" data-source-line="69" data-uid="ent0016" id="entity_GMN15"><path d="M1956,488.86 L1956,551.978 A0,0 0 0 0 1956,551.978 L2085,551.978 L2089,728.01 L2093,551.978 L2221.9982,551.978 A0,0 0 0 0 2221.9982,551.978 L2221.9982,498.86 L2211.9982,488.86 L1956,488.86 A0,0 0 0 0 1956,488.86" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2211.9982,488.86 L2211.9982,498.86 L2221.9982,498.86 L2211.9982,488.86" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="210.5091" x="1962" y="507.757">Pattern: Factory + ServiceLoader</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244.9982" x="1962" y="525.463">Chargement automatique des providers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.9261" x="1962" y="543.169">via META-INF/services</text></g><!--class PacketProcessor--><g class="entity" data-entity="PacketProcessor" data-source-line="81" data-uid="ent0022" id="entity_PacketProcessor"><rect fill="#F1F1F1" height="67.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="233.8992" x="1631.05" y="756.96"/><ellipse cx="1693.2168" cy="772.96" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1689.2481,779.46 L1689.2481,777.7569 L1691.6074,777.4912 L1691.6074,769.2881 L1689.2481,769.0225 L1689.2481,767.3194 L1696.3887,767.3194 L1696.3887,769.0225 L1693.9668,769.2881 L1693.9668,777.4912 L1696.3887,777.7569 L1696.3887,779.46 L1689.2481,779.46 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="101.0656" x="1713.7168" y="778.392">PacketProcessor</text><line style="stroke:#181818;stroke-width:0.5;" x1="1632.05" x2="1863.9492" y1="788.96" y2="788.96"/><line style="stroke:#181818;stroke-width:0.5;" x1="1632.05" x2="1863.9492" y1="796.96" y2="796.96"/><ellipse cx="1642.05" cy="811.994" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.8992" x="1651.05" y="815.9259">process(ProtocolMessage): void</text></g><g class="entity" data-entity="GMN23" data-source-line="86" data-uid="ent0024" id="entity_GMN23"><path d="M1681.68,506.56 L1681.68,534.266 A0,0 0 0 0 1681.68,534.266 L1744,534.266 L1748,756.93 L1752,534.266 L1814.3241,534.266 A0,0 0 0 0 1814.3241,534.266 L1814.3241,516.56 L1804.3241,506.56 L1681.68,506.56 A0,0 0 0 0 1681.68,506.56" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1804.3241,506.56 L1804.3241,516.56 L1814.3241,516.56 L1804.3241,506.56" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111.6441" x="1687.68" y="525.457">Pattern: Strategy</text></g><!--class Repository--><g class="entity" data-entity="Repository" data-source-line="92" data-uid="ent0027" id="entity_Repository"><rect fill="#F1F1F1" height="143.3396" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.4135" x="2590.79" y="718.83"/><ellipse cx="2615.2497" cy="734.83" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2611.281,741.33 L2611.281,739.6269 L2613.6403,739.3612 L2613.6403,731.1581 L2611.281,730.8925 L2611.281,729.1894 L2618.4216,729.1894 L2618.4216,730.8925 L2615.9997,731.1581 L2615.9997,739.3612 L2618.4216,739.6269 L2618.4216,741.33 L2611.281,741.33 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="65.2958" x="2631.3519" y="740.262">Repository</text><rect fill="#FFFFFF" height="18.3441" style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" width="26.0962" x="2714.1074" y="715.83"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="24.0962" x="2715.1074" y="729.6581">ID, T</text><line style="stroke:#181818;stroke-width:0.5;" x1="2591.79" x2="2736.2035" y1="750.83" y2="750.83"/><line style="stroke:#181818;stroke-width:0.5;" x1="2591.79" x2="2736.2035" y1="758.83" y2="758.83"/><ellipse cx="2601.79" cy="773.864" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.4537" x="2610.79" y="777.7959">add(T): void</text><ellipse cx="2601.79" cy="792.9319" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.4135" x="2610.79" y="796.8639">update(ID, T): void</text><ellipse cx="2601.79" cy="811.9998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.5256" x="2610.79" y="815.9318">delete(ID): void</text><ellipse cx="2601.79" cy="831.0677" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.8276" x="2610.79" y="834.9997">findById(ID): T</text><ellipse cx="2601.79" cy="850.1356" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.0876" x="2610.79" y="854.0676">findAll(): Set&lt;T&gt;</text></g><!--class AbstractRepository--><g class="entity" data-entity="AbstractRepository" data-source-line="100" data-uid="ent0028" id="entity_AbstractRepository"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176.5757" x="2825.71" y="477.35"/><ellipse cx="2840.71" cy="493.35" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2835.8819,499.1 L2839.2256,486.9125 L2842.3663,486.9125 L2845.7413,499.1 L2843.2725,499.1 L2842.5381,496.0844 L2839.0225,496.0844 L2838.2725,499.1 L2835.8819,499.1 Z M2840.2881,491.0531 L2839.5381,494.0531 L2842.0538,494.0531 L2841.335,491.0531 Q2841.1944,490.475 2841.0694,489.9281 Q2840.9444,489.3656 2840.8038,488.7875 Q2840.6944,489.3656 2840.5538,489.9281 Q2840.4131,490.475 2840.2881,491.0531 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="116.4796" x="2854.71" y="498.782">AbstractRepository</text><rect fill="#FFFFFF" height="18.3441" style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" width="26.0962" x="2979.1896" y="474.35"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="24.0962" x="2980.1896" y="488.1781">ID, T</text><line style="stroke:#181818;stroke-width:0.5;" x1="2826.71" x2="3001.2857" y1="509.35" y2="509.35"/><polygon fill="none" points="2836.71,519.384,2840.71,523.384,2836.71,527.384,2832.71,523.384" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.0835" x="2845.71" y="528.3159">storage: Map&lt;ID, T&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="2826.71" x2="3001.2857" y1="536.4179" y2="536.4179"/><polygon fill="#FFFF44" points="2836.71,546.4519,2840.71,550.4519,2836.71,554.4519,2832.71,550.4519" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77.3637" x="2845.71" y="555.3839">getKey(T): ID</text></g><!--class RepositoryWriter--><g class="entity" data-entity="RepositoryWriter" data-source-line="106" data-uid="ent0029" id="entity_RepositoryWriter"><rect fill="#F1F1F1" height="200.5433" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="248.1231" x="2771.94" y="690.22"/><ellipse cx="2830.9488" cy="706.22" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2830.4175,713.1419 Q2828.6675,713.1419 2827.5269,712.4075 Q2826.4019,711.6575 2825.8394,710.3137 Q2825.2925,708.9544 2825.2925,707.1575 Q2825.2925,705.1262 2825.9488,703.6731 Q2826.605,702.22 2827.8863,701.4387 Q2829.1675,700.6575 2831.0425,700.6575 Q2831.9331,700.6575 2832.605,700.845 Q2833.2769,701.0169 2833.9644,701.3606 L2833.1519,703.3762 Q2832.5269,703.0637 2831.98,702.9387 Q2831.4488,702.8137 2830.9644,702.8137 Q2829.7925,702.8137 2829.0894,703.345 Q2828.3863,703.8762 2828.0894,704.8294 Q2827.7925,705.7825 2827.7925,707.0481 Q2827.7925,709.0637 2828.5113,710.0325 Q2829.23,710.9856 2830.8238,710.9856 Q2831.4175,710.9856 2832.0425,710.8294 Q2832.6675,710.6731 2833.4956,710.2981 L2833.4956,712.5169 Q2832.7613,712.8294 2831.9644,712.9856 Q2831.1831,713.1419 2830.4175,713.1419 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.5936" x="2851.4488" y="711.652">RepositoryWriter</text><rect fill="#FFFFFF" height="18.3441" style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" width="8.012" x="3015.0511" y="687.22"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="6.012" x="3016.0511" y="701.0481">T</text><line style="stroke:#181818;stroke-width:0.5;" x1="2772.94" x2="3019.0631" y1="722.22" y2="722.22"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2779.94" y="734.254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.7138" x="2791.94" y="741.1859">file: File</text><line style="stroke:#181818;stroke-width:1;" x1="2772.94" x2="3019.0631" y1="749.2879" y2="749.2879"/><ellipse cx="2782.94" cy="764.3219" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.3614" x="2791.94" y="768.2539">writeData(Set&lt;T&gt;): void</text><ellipse cx="2782.94" cy="783.3898" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.7095" x="2791.94" y="787.3218">writeData(T): void</text><ellipse cx="2782.94" cy="802.4577" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.3515" x="2791.94" y="806.3897">readData(): Set&lt;T&gt;</text><ellipse cx="2782.94" cy="821.5256" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.7834" x="2791.94" y="825.4576">readData(Preicate&lt;T&gt;): T</text><ellipse cx="2782.94" cy="840.5935" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222.1231" x="2791.94" y="844.5255">updateData(Predicate&lt;T&gt;, T): void</text><ellipse cx="2782.94" cy="859.6615" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210.5172" x="2791.94" y="863.5934">removeData(Predicate&lt;T&gt;): void</text><ellipse cx="2782.94" cy="878.7294" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.5295" x="2791.94" y="882.6614">deleteCache(): void</text></g><g class="entity" data-entity="GMN32" data-source-line="122" data-uid="ent0033" id="entity_GMN32"><path d="M2591.38,506.56 L2591.38,534.266 A0,0 0 0 0 2591.38,534.266 L2635.99,534.266 L2639.99,718.43 L2643.99,534.266 L2738.6231,534.266 A0,0 0 0 0 2738.6231,534.266 L2738.6231,516.56 L2728.6231,506.56 L2591.38,506.56 A0,0 0 0 0 2591.38,506.56" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2728.6231,506.56 L2728.6231,516.56 L2738.6231,516.56 L2728.6231,506.56" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126.2431" x="2597.38" y="525.457">Pattern: Repository</text></g><!--class Client--><g class="entity" data-entity="Client" data-source-line="134" data-uid="ent0037" id="entity_Client"><rect fill="#F1F1F1" height="181.4754" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="341.6848" x="3942.16" y="699.76"/><ellipse cx="4089.9155" cy="715.76" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4089.3842,722.6819 Q4087.6342,722.6819 4086.4936,721.9475 Q4085.3686,721.1975 4084.8061,719.8538 Q4084.2592,718.4944 4084.2592,716.6975 Q4084.2592,714.6663 4084.9155,713.2131 Q4085.5717,711.76 4086.853,710.9788 Q4088.1342,710.1975 4090.0092,710.1975 Q4090.8998,710.1975 4091.5717,710.385 Q4092.2436,710.5569 4092.9311,710.9006 L4092.1186,712.9163 Q4091.4936,712.6038 4090.9467,712.4788 Q4090.4155,712.3538 4089.9311,712.3538 Q4088.7592,712.3538 4088.0561,712.885 Q4087.353,713.4163 4087.0561,714.3694 Q4086.7592,715.3225 4086.7592,716.5881 Q4086.7592,718.6038 4087.478,719.5725 Q4088.1967,720.5256 4089.7905,720.5256 Q4090.3842,720.5256 4091.0092,720.3694 Q4091.6342,720.2131 4092.4623,719.8381 L4092.4623,722.0569 Q4091.728,722.3694 4090.9311,722.5256 Q4090.1498,722.6819 4089.3842,722.6819 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.6738" x="4110.4155" y="721.192">Client</text><line style="stroke:#181818;stroke-width:0.5;" x1="3943.16" x2="4282.8448" y1="731.76" y2="731.76"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3950.16" y="743.794"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.6117" x="3962.16" y="750.7259">clientId: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3950.16" y="762.8619"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.4717" x="3962.16" y="769.7939">cnx: Socket</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3950.16" y="781.9298"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.0053" x="3962.16" y="788.8618">processor: PacketProcessor</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3950.16" y="800.9977"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="315.6848" x="3962.16" y="807.9297">commandManager: PendingCommandManager</text><line style="stroke:#181818;stroke-width:1;" x1="3943.16" x2="4282.8448" y1="816.0317" y2="816.0317"/><ellipse cx="3953.16" cy="831.0656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="259.629" x="3962.16" y="834.9976">connect(host, port, username): boolean</text><ellipse cx="3953.16" cy="850.1335" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188.1593" x="3962.16" y="854.0655">sendPacket(Packet): boolean</text><ellipse cx="3953.16" cy="869.2015" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.6875" x="3962.16" y="873.1334">disconnect(): void</text></g><!--class ClientController--><g class="entity" data-entity="ClientController" data-source-line="145" data-uid="ent0038" id="entity_ClientController"><rect fill="#F1F1F1" height="219.6113" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="314.9449" x="3941.53" y="410.61"/><ellipse cx="4042.8267" cy="426.61" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4042.2954,433.5319 Q4040.5454,433.5319 4039.4048,432.7975 Q4038.2798,432.0475 4037.7173,430.7037 Q4037.1704,429.3444 4037.1704,427.5475 Q4037.1704,425.5162 4037.8267,424.0631 Q4038.4829,422.61 4039.7642,421.8287 Q4041.0454,421.0475 4042.9204,421.0475 Q4043.8111,421.0475 4044.4829,421.235 Q4045.1548,421.4069 4045.8423,421.7506 L4045.0298,423.7662 Q4044.4048,423.4537 4043.8579,423.3287 Q4043.3267,423.2037 4042.8423,423.2037 Q4041.6704,423.2037 4040.9673,423.735 Q4040.2642,424.2662 4039.9673,425.2194 Q4039.6704,426.1725 4039.6704,427.4381 Q4039.6704,429.4537 4040.3892,430.4225 Q4041.1079,431.3756 4042.7017,431.3756 Q4043.2954,431.3756 4043.9204,431.2194 Q4044.5454,431.0631 4045.3736,430.6881 L4045.3736,432.9069 Q4044.6392,433.2194 4043.8423,433.3756 Q4043.0611,433.5319 4042.2954,433.5319 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.8516" x="4063.3267" y="432.042">ClientController</text><line style="stroke:#181818;stroke-width:0.5;" x1="3942.53" x2="4255.4749" y1="442.61" y2="442.61"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3949.53" y="454.644"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.6117" x="3961.53" y="461.5759">client: Client</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3949.53" y="473.7119"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.5494" x="3961.53" y="480.6439">activeUser: UserClient</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3949.53" y="492.7798"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.4274" x="3961.53" y="499.7118">conversationRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3949.53" y="511.8477"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.9716" x="3961.53" y="518.7797">contactRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3949.53" y="530.9156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.5716" x="3961.53" y="537.8476">groupRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3949.53" y="549.9835"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.4155" x="3961.53" y="556.9155">eventBus: EventBus</text><line style="stroke:#181818;stroke-width:1;" x1="3942.53" x2="4255.4749" y1="565.0175" y2="565.0175"/><ellipse cx="3952.53" cy="580.0515" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="288.9449" x="3961.53" y="583.9834">sendTextMessage(content, toUserId): String</text><ellipse cx="3952.53" cy="599.1194" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257.277" x="3961.53" y="603.0514">sendContactRequest(receiverId): String</text><ellipse cx="3952.53" cy="618.1873" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241.1911" x="3961.53" y="622.1193">updatePseudo(newPseudo): boolean</text></g><g class="entity" data-entity="GMN39" data-source-line="159" data-uid="ent0040" id="entity_GMN39"><path d="M3992.33,178.78 L3992.33,241.898 A0,0 0 0 0 3992.33,241.898 L4095,241.898 L4099,410.4 L4103,241.898 L4205.6782,241.898 A0,0 0 0 0 4205.6782,241.898 L4205.6782,188.78 L4195.6782,178.78 L3992.33,178.78 A0,0 0 0 0 3992.33,178.78" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4195.6782,178.78 L4195.6782,188.78 L4205.6782,188.78 L4195.6782,178.78" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101.5951" x="3998.33" y="197.677">Pattern: Facade</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.3482" x="3998.33" y="215.383">Interface simplifi&#233;e pour toutes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.7071" x="3998.33" y="233.089">les op&#233;rations client</text></g><!--class EventBus--><g class="entity" data-entity="EventBus" data-source-line="165" data-uid="ent0043" id="entity_EventBus"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92.9557" x="4318.52" y="766.49"/><ellipse cx="4333.52" cy="782.49" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4332.9888,789.4119 Q4331.2388,789.4119 4330.0981,788.6775 Q4328.9731,787.9275 4328.4106,786.5837 Q4327.8638,785.2244 4327.8638,783.4275 Q4327.8638,781.3962 4328.52,779.9431 Q4329.1763,778.49 4330.4575,777.7087 Q4331.7388,776.9275 4333.6138,776.9275 Q4334.5044,776.9275 4335.1763,777.115 Q4335.8481,777.2869 4336.5356,777.6306 L4335.7231,779.6462 Q4335.0981,779.3337 4334.5513,779.2087 Q4334.02,779.0837 4333.5356,779.0837 Q4332.3638,779.0837 4331.6606,779.615 Q4330.9575,780.1462 4330.6606,781.0994 Q4330.3638,782.0525 4330.3638,783.3181 Q4330.3638,785.3337 4331.0825,786.3025 Q4331.8013,787.2556 4333.395,787.2556 Q4333.9888,787.2556 4334.6138,787.0994 Q4335.2388,786.9431 4336.0669,786.5681 L4336.0669,788.7869 Q4335.3325,789.0994 4334.5356,789.2556 Q4333.7544,789.4119 4332.9888,789.4119 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.9557" x="4347.52" y="787.922">EventBus</text><line style="stroke:#181818;stroke-width:0.5;" x1="4319.52" x2="4410.4757" y1="798.49" y2="798.49"/><line style="stroke:#181818;stroke-width:0.5;" x1="4319.52" x2="4410.4757" y1="806.49" y2="806.49"/></g><!--class ClientPaquetRouter--><g class="entity" data-entity="ClientPaquetRouter" data-source-line="170" data-uid="ent0046" id="entity_ClientPaquetRouter"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="281.373" x="4467.31" y="148.2"/><ellipse cx="4539.3608" cy="164.2" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4538.8295,171.1219 Q4537.0795,171.1219 4535.9389,170.3875 Q4534.8139,169.6375 4534.2514,168.2938 Q4533.7045,166.9344 4533.7045,165.1375 Q4533.7045,163.1063 4534.3608,161.6531 Q4535.017,160.2 4536.2983,159.4188 Q4537.5795,158.6375 4539.4545,158.6375 Q4540.3451,158.6375 4541.017,158.825 Q4541.6889,158.9969 4542.3764,159.3406 L4541.5639,161.3563 Q4540.9389,161.0438 4540.392,160.9188 Q4539.8608,160.7938 4539.3764,160.7938 Q4538.2045,160.7938 4537.5014,161.325 Q4536.7983,161.8563 4536.5014,162.8094 Q4536.2045,163.7625 4536.2045,165.0281 Q4536.2045,167.0438 4536.9233,168.0125 Q4537.642,168.9656 4539.2358,168.9656 Q4539.8295,168.9656 4540.4545,168.8094 Q4541.0795,168.6531 4541.9076,168.2781 L4541.9076,170.4969 Q4541.1733,170.8094 4540.3764,170.9656 Q4539.5951,171.1219 4538.8295,171.1219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.7715" x="4559.8608" y="169.632">ClientPaquetRouter</text><line style="stroke:#181818;stroke-width:0.5;" x1="4468.31" x2="4747.683" y1="180.2" y2="180.2"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="4475.31" y="192.234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237.8031" x="4487.31" y="199.1659">handlers: List&lt;ClientPacketHandler&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="4475.31" y="211.3019"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.4954" x="4487.31" y="218.2339">context: ClientController</text><line style="stroke:#181818;stroke-width:1;" x1="4468.31" x2="4747.683" y1="226.3358" y2="226.3358"/><ellipse cx="4478.31" cy="241.3698" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.8992" x="4487.31" y="245.3018">process(ProtocolMessage): void</text><ellipse cx="4478.31" cy="260.4377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255.373" x="4487.31" y="264.3697">addHandler(ClientPacketHandler): void</text></g><!--class ClientPacketHandler--><g class="entity" data-entity="ClientPacketHandler" data-source-line="178" data-uid="ent0047" id="entity_ClientPacketHandler"><rect fill="#F1F1F1" height="105.2038" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="320.5029" x="4576.75" y="467.82"/><ellipse cx="4669.8357" cy="483.82" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4665.0076,489.57 L4668.3513,477.3825 L4671.492,477.3825 L4674.867,489.57 L4672.3982,489.57 L4671.6638,486.5544 L4668.1482,486.5544 L4667.3982,489.57 L4665.0076,489.57 Z M4669.4138,481.5231 L4668.6638,484.5231 L4671.1795,484.5231 L4670.4607,481.5231 Q4670.3201,480.945 4670.1951,480.3981 Q4670.0701,479.8356 4669.9295,479.2575 Q4669.8201,479.8356 4669.6795,480.3981 Q4669.5388,480.945 4669.4138,481.5231 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="125.8315" x="4690.3357" y="489.252">ClientPacketHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="4577.75" x2="4896.2529" y1="499.82" y2="499.82"/><line style="stroke:#181818;stroke-width:0.5;" x1="4577.75" x2="4896.2529" y1="507.82" y2="507.82"/><ellipse cx="4587.75" cy="522.854" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="294.5029" x="4596.75" y="526.7859">handle(ProtocolMessage, ClientController): void</text><ellipse cx="4587.75" cy="541.9219" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="215.0952" x="4596.75" y="545.8539">canHandle(MessageType): boolean</text><polygon fill="#FFFF44" points="4587.75,555.9898,4591.75,559.9898,4587.75,563.9898,4583.75,559.9898" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="276.2889" x="4596.75" y="564.9218">publishEvent(Event, ClientController): void</text></g><g class="entity" data-entity="GMN48" data-source-line="185" data-uid="ent0049" id="entity_GMN48"><path d="M4783.51,196.49 L4783.51,224.196 A0,0 0 0 0 4783.51,224.196 L4836.38,224.196 L4840.38,467.41 L4844.38,224.196 L5008.4932,224.196 A0,0 0 0 0 5008.4932,224.196 L5008.4932,206.49 L4998.4932,196.49 L4783.51,196.49 A0,0 0 0 0 4783.51,196.49" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4998.4932,196.49 L4998.4932,206.49 L5008.4932,206.49 L4998.4932,196.49" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="203.9832" x="4789.51" y="215.387">Pattern: Chain of Responsibility</text></g><!--class EventBus--><g class="entity" data-entity="EventBus" data-source-line="194" data-uid="ent0054" id="entity_EventBus"><rect fill="#F1F1F1" height="162.4075" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="409.6826" x="5065.16" y="439.21"/><ellipse cx="5235.2734" cy="455.21" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5234.7422,462.1319 Q5232.9922,462.1319 5231.8515,461.3975 Q5230.7265,460.6475 5230.164,459.3037 Q5229.6172,457.9444 5229.6172,456.1475 Q5229.6172,454.1162 5230.2734,452.6631 Q5230.9297,451.21 5232.2109,450.4287 Q5233.4922,449.6475 5235.3672,449.6475 Q5236.2578,449.6475 5236.9297,449.835 Q5237.6015,450.0069 5238.289,450.3506 L5237.4765,452.3662 Q5236.8515,452.0537 5236.3047,451.9287 Q5235.7734,451.8037 5235.289,451.8037 Q5234.1172,451.8037 5233.414,452.335 Q5232.7109,452.8662 5232.414,453.8194 Q5232.1172,454.7725 5232.1172,456.0381 Q5232.1172,458.0537 5232.8359,459.0225 Q5233.5547,459.9756 5235.1484,459.9756 Q5235.7422,459.9756 5236.3672,459.8194 Q5236.9922,459.6631 5237.8203,459.2881 L5237.8203,461.5069 Q5237.0859,461.8194 5236.289,461.9756 Q5235.5078,462.1319 5234.7422,462.1319 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.9557" x="5255.7734" y="460.642">EventBus</text><line style="stroke:#181818;stroke-width:0.5;" x1="5066.16" x2="5473.8426" y1="471.21" y2="471.21"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5073.16" y="483.244"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="123.4935" x="5085.16" y="490.1759">instance: EventBus</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5073.16" y="502.3119"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.4455" x="5085.16" y="509.2439">subscriptions: Map</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5073.16" y="521.3798"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.7353" x="5085.16" y="528.3118">executor: ExecutorService</text><line style="stroke:#181818;stroke-width:1;" x1="5066.16" x2="5473.8426" y1="536.4138" y2="536.4138"/><ellipse cx="5076.16" cy="551.4477" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="154.5874" x="5085.16" y="555.3797">getInstance(): EventBus</text><ellipse cx="5076.16" cy="570.5156" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="383.6826" x="5085.16" y="574.4476">subscribe(Class&lt;T&gt;, EventObserver&lt;T&gt;): EventSubscription</text><ellipse cx="5076.16" cy="589.5835" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.5475" x="5085.16" y="593.5155">publish(Event): void</text></g><!--class EventObserver--><g class="entity" data-entity="EventObserver" data-source-line="204" data-uid="ent0055" id="entity_EventObserver"><rect fill="#F1F1F1" height="67.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.3877" x="5104.31" y="960.3"/><ellipse cx="5119.31" cy="976.3" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5115.3413,982.8 L5115.3413,981.0969 L5117.7006,980.8313 L5117.7006,972.6281 L5115.3413,972.3625 L5115.3413,970.6594 L5122.4819,970.6594 L5122.4819,972.3625 L5120.06,972.6281 L5120.06,980.8313 L5122.4819,981.0969 L5122.4819,982.8 L5115.3413,982.8 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89.3757" x="5133.31" y="981.732">EventObserver</text><rect fill="#FFFFFF" height="18.3441" style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" width="8.012" x="5230.6857" y="957.3"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="6.012" x="5231.6857" y="971.1281">T</text><line style="stroke:#181818;stroke-width:0.5;" x1="5105.31" x2="5234.6977" y1="992.3" y2="992.3"/><line style="stroke:#181818;stroke-width:0.5;" x1="5105.31" x2="5234.6977" y1="1000.3" y2="1000.3"/><ellipse cx="5115.31" cy="1015.334" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.9996" x="5124.31" y="1019.2659">onEvent(T): void</text></g><!--class EventSubscription--><g class="entity" data-entity="EventSubscription" data-source-line="208" data-uid="ent0056" id="entity_EventSubscription"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212.6613" x="5063.67" y="728.36"/><ellipse cx="5102.0636" cy="744.36" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5101.5323,751.2819 Q5099.7823,751.2819 5098.6417,750.5475 Q5097.5167,749.7975 5096.9542,748.4537 Q5096.4073,747.0944 5096.4073,745.2975 Q5096.4073,743.2662 5097.0636,741.8131 Q5097.7198,740.36 5099.0011,739.5787 Q5100.2823,738.7975 5102.1573,738.7975 Q5103.0479,738.7975 5103.7198,738.985 Q5104.3917,739.1569 5105.0792,739.5006 L5104.2667,741.5162 Q5103.6417,741.2037 5103.0948,741.0787 Q5102.5636,740.9537 5102.0792,740.9537 Q5100.9073,740.9537 5100.2042,741.485 Q5099.5011,742.0162 5099.2042,742.9694 Q5098.9073,743.9225 5098.9073,745.1881 Q5098.9073,747.2037 5099.6261,748.1725 Q5100.3448,749.1256 5101.9386,749.1256 Q5102.5323,749.1256 5103.1573,748.9694 Q5103.7823,748.8131 5104.6104,748.4381 L5104.6104,750.6569 Q5103.8761,750.9694 5103.0792,751.1256 Q5102.2979,751.2819 5101.5323,751.2819 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.6635" x="5121.2621" y="749.792">EventSubscription</text><rect fill="#FFFFFF" height="18.3441" style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" width="8.012" x="5271.3192" y="725.36"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="6.012" x="5272.3192" y="739.1881">T</text><line style="stroke:#181818;stroke-width:0.5;" x1="5064.67" x2="5275.3313" y1="760.36" y2="760.36"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5071.67" y="772.394"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.6613" x="5083.67" y="779.3259">observer: EventObserver&lt;T&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5071.67" y="791.4619"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.6835" x="5083.67" y="798.3939">filter: EventFilter&lt;T&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5071.67" y="810.5298"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.3774" x="5083.67" y="817.4618">mode: ExecutionMode</text><line style="stroke:#181818;stroke-width:1;" x1="5064.67" x2="5275.3313" y1="825.5638" y2="825.5638"/><ellipse cx="5074.67" cy="840.5977" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.0497" x="5083.67" y="844.5297">cancel(): void</text></g><!--class Event--><g class="entity" data-entity="Event" data-source-line="216" data-uid="ent0057" id="entity_Event"><rect fill="#F1F1F1" height="67.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165.0054" x="5311.5" y="756.96"/><ellipse cx="5373.0158" cy="772.96" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5368.1877,778.71 L5371.5314,766.5225 L5374.672,766.5225 L5378.047,778.71 L5375.5783,778.71 L5374.8439,775.6944 L5371.3283,775.6944 L5370.5783,778.71 L5368.1877,778.71 Z M5372.5939,770.6631 L5371.8439,773.6631 L5374.3595,773.6631 L5373.6408,770.6631 Q5373.5002,770.085 5373.3752,769.5381 Q5373.2502,768.9756 5373.1095,768.3975 Q5373.0002,768.9756 5372.8595,769.5381 Q5372.7189,770.085 5372.5939,770.6631 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="33.4739" x="5393.5158" y="778.392">Event</text><line style="stroke:#181818;stroke-width:0.5;" x1="5312.5" x2="5475.5054" y1="788.96" y2="788.96"/><line style="stroke:#181818;stroke-width:0.5;" x1="5312.5" x2="5475.5054" y1="796.96" y2="796.96"/><ellipse cx="5322.5" cy="811.994" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.0054" x="5331.5" y="815.9259">getEventType(): Class</text></g><g class="entity" data-entity="GMN58" data-source-line="221" data-uid="ent0059" id="entity_GMN58"><path d="M5149.35,178.78 L5149.35,241.898 A0,0 0 0 0 5149.35,241.898 L5266,241.898 L5270,438.81 L5274,241.898 L5390.6482,241.898 A0,0 0 0 0 5390.6482,241.898 L5390.6482,188.78 L5380.6482,178.78 L5149.35,178.78 A0,0 0 0 0 5149.35,178.78" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M5380.6482,178.78 L5380.6482,188.78 L5390.6482,188.78 L5380.6482,178.78" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="191.5551" x="5155.35" y="197.677">Pattern: Singleton + Observer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.2982" x="5155.35" y="215.383">Gestion centralis&#233;e des &#233;v&#233;nements</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.3811" x="5155.35" y="233.089">avec ex&#233;cution async/sync</text></g><!--class PendingCommandManager--><g class="entity" data-entity="PendingCommandManager" data-source-line="233" data-uid="ent0065" id="entity_PendingCommandManager"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="378.4347" x="5532.78" y="148.2"/><ellipse cx="5626.5167" cy="164.2" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5625.9855,171.1219 Q5624.2355,171.1219 5623.0948,170.3875 Q5621.9698,169.6375 5621.4073,168.2938 Q5620.8605,166.9344 5620.8605,165.1375 Q5620.8605,163.1063 5621.5167,161.6531 Q5622.173,160.2 5623.4542,159.4188 Q5624.7355,158.6375 5626.6105,158.6375 Q5627.5011,158.6375 5628.173,158.825 Q5628.8448,158.9969 5629.5323,159.3406 L5628.7198,161.3563 Q5628.0948,161.0438 5627.548,160.9188 Q5627.0167,160.7938 5626.5323,160.7938 Q5625.3605,160.7938 5624.6573,161.325 Q5623.9542,161.8563 5623.6573,162.8094 Q5623.3605,163.7625 5623.3605,165.0281 Q5623.3605,167.0438 5624.0792,168.0125 Q5624.798,168.9656 5626.3917,168.9656 Q5626.9855,168.9656 5627.6105,168.8094 Q5628.2355,168.6531 5629.0636,168.2781 L5629.0636,170.4969 Q5628.3292,170.8094 5627.5323,170.9656 Q5626.7511,171.1219 5625.9855,171.1219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.4613" x="5647.0167" y="169.632">PendingCommandManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="5533.78" x2="5910.2147" y1="180.2" y2="180.2"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5540.78" y="192.234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="352.4347" x="5552.78" y="199.1659">pendingCommands: Map&lt;String, PendingCommand&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5540.78" y="211.3019"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244.719" x="5552.78" y="218.2339">scheduler: ScheduledExecutorService</text><line style="stroke:#181818;stroke-width:1;" x1="5533.78" x2="5910.2147" y1="226.3358" y2="226.3358"/><ellipse cx="5543.78" cy="241.3698" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="314.9008" x="5552.78" y="245.3018">addPendingCommand(PendingCommand): void</text><ellipse cx="5543.78" cy="260.4377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.5212" x="5552.78" y="264.3697">handleAck(AckMessage): void</text></g><!--class PendingCommand--><g class="entity" data-entity="PendingCommand" data-source-line="241" data-uid="ent0066" id="entity_PendingCommand"><rect fill="#F1F1F1" height="105.2038" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="267.6811" x="5588.16" y="467.82"/><ellipse cx="5659.8887" cy="483.82" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5655.92,490.32 L5655.92,488.6169 L5658.2794,488.3512 L5658.2794,480.1481 L5655.92,479.8825 L5655.92,478.1794 L5663.0606,478.1794 L5663.0606,479.8825 L5660.6387,480.1481 L5660.6387,488.3512 L5663.0606,488.6169 L5663.0606,490.32 L5655.92,490.32 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="115.7236" x="5680.3887" y="489.252">PendingCommand</text><line style="stroke:#181818;stroke-width:0.5;" x1="5589.16" x2="5854.8411" y1="499.82" y2="499.82"/><line style="stroke:#181818;stroke-width:0.5;" x1="5589.16" x2="5854.8411" y1="507.82" y2="507.82"/><ellipse cx="5599.16" cy="522.854" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.7174" x="5608.16" y="526.7859">getCommandId(): String</text><ellipse cx="5599.16" cy="541.9219" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241.6811" x="5608.16" y="545.8539">onAckReceived(MessageStatus): void</text><ellipse cx="5599.16" cy="560.9898" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162.1054" x="5608.16" y="564.9218">onAckFailed(String): void</text></g><g class="entity" data-entity="GMN67" data-source-line="248" data-uid="ent0068" id="entity_GMN67"><path d="M5631.52,758.94 L5631.52,822.058 A0,0 0 0 0 5631.52,822.058 L5812.4851,822.058 A0,0 0 0 0 5812.4851,822.058 L5812.4851,768.94 L5802.4851,758.94 L5726,758.94 L5722,573.45 L5718,758.94 L5631.52,758.94 A0,0 0 0 0 5631.52,758.94" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M5802.4851,758.94 L5802.4851,768.94 L5812.4851,768.94 L5802.4851,758.94" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="122.4731" x="5637.52" y="777.837">Pattern: Command</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.9651" x="5637.52" y="795.543">Encapsule les actions avec</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.3841" x="5637.52" y="813.249">gestion des ACK</text></g><!--class ContactClientRepository--><g class="entity" data-entity="ContactClientRepository" data-source-line="258" data-uid="ent0072" id="entity_ContactClientRepository"><rect fill="#F1F1F1" height="105.2038" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="190.7734" x="3340.61" y="737.89"/><ellipse cx="3355.61" cy="753.89" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3355.0788,760.8119 Q3353.3288,760.8119 3352.1881,760.0775 Q3351.0631,759.3275 3350.5006,757.9838 Q3349.9538,756.6244 3349.9538,754.8275 Q3349.9538,752.7963 3350.61,751.3431 Q3351.2663,749.89 3352.5475,749.1088 Q3353.8288,748.3275 3355.7038,748.3275 Q3356.5944,748.3275 3357.2663,748.515 Q3357.9381,748.6869 3358.6256,749.0306 L3357.8131,751.0463 Q3357.1881,750.7338 3356.6413,750.6088 Q3356.11,750.4838 3355.6256,750.4838 Q3354.4538,750.4838 3353.7506,751.015 Q3353.0475,751.5463 3352.7506,752.4994 Q3352.4538,753.4525 3352.4538,754.7181 Q3352.4538,756.7338 3353.1725,757.7025 Q3353.8913,758.6556 3355.485,758.6556 Q3356.0788,758.6556 3356.7038,758.4994 Q3357.3288,758.3431 3358.1569,757.9681 L3358.1569,760.1869 Q3357.4225,760.4994 3356.6256,760.6556 Q3355.8444,760.8119 3355.0788,760.8119 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.7734" x="3369.61" y="759.322">ContactClientRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="3341.61" x2="3530.3834" y1="769.89" y2="769.89"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3348.61" y="781.924"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.4234" x="3360.61" y="788.8559">pendingRequests: Map</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3348.61" y="800.9919"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.0895" x="3360.61" y="807.9239">sentRequests: Map</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3348.61" y="820.0598"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.3054" x="3360.61" y="826.9918">receivedRequests: Map</text><line style="stroke:#181818;stroke-width:0.5;" x1="3341.61" x2="3530.3834" y1="835.0938" y2="835.0938"/></g><!--class ConversationClientRepository--><g class="entity" data-entity="ConversationClientRepository" data-source-line="264" data-uid="ent0073" id="entity_ConversationClientRepository"><rect fill="#F1F1F1" height="67.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="319.8169" x="3566.09" y="756.96"/><ellipse cx="3624.1338" cy="772.96" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3623.6026,779.8819 Q3621.8526,779.8819 3620.7119,779.1475 Q3619.5869,778.3975 3619.0244,777.0537 Q3618.4776,775.6944 3618.4776,773.8975 Q3618.4776,771.8662 3619.1338,770.4131 Q3619.7901,768.96 3621.0713,768.1787 Q3622.3526,767.3975 3624.2276,767.3975 Q3625.1182,767.3975 3625.7901,767.585 Q3626.4619,767.7569 3627.1494,768.1006 L3626.3369,770.1162 Q3625.7119,769.8037 3625.1651,769.6787 Q3624.6338,769.5537 3624.1494,769.5537 Q3622.9776,769.5537 3622.2744,770.085 Q3621.5713,770.6162 3621.2744,771.5694 Q3620.9776,772.5225 3620.9776,773.7881 Q3620.9776,775.8037 3621.6963,776.7725 Q3622.4151,777.7256 3624.0088,777.7256 Q3624.6026,777.7256 3625.2276,777.5694 Q3625.8526,777.4131 3626.6807,777.0381 L3626.6807,779.2569 Q3625.9463,779.5694 3625.1494,779.7256 Q3624.3682,779.8819 3623.6026,779.8819 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.2292" x="3644.6338" y="778.392">ConversationClientRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="3567.09" x2="3884.9069" y1="788.96" y2="788.96"/><line style="stroke:#181818;stroke-width:0.5;" x1="3567.09" x2="3884.9069" y1="796.96" y2="796.96"/><ellipse cx="3577.09" cy="811.994" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="293.8169" x="3586.09" y="815.9259">getOrCreate(id, isGroup): ConversationClient</text></g><!--class GroupClientRepository--><g class="entity" data-entity="GroupClientRepository" data-source-line="268" data-uid="ent0074" id="entity_GroupClientRepository"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.8274" x="3124.09" y="766.49"/><ellipse cx="3139.09" cy="782.49" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3138.5588,789.4119 Q3136.8088,789.4119 3135.6681,788.6775 Q3134.5431,787.9275 3133.9806,786.5837 Q3133.4338,785.2244 3133.4338,783.4275 Q3133.4338,781.3962 3134.09,779.9431 Q3134.7463,778.49 3136.0275,777.7087 Q3137.3088,776.9275 3139.1838,776.9275 Q3140.0744,776.9275 3140.7463,777.115 Q3141.4181,777.2869 3142.1056,777.6306 L3141.2931,779.6462 Q3140.6681,779.3337 3140.1213,779.2087 Q3139.59,779.0837 3139.1056,779.0837 Q3137.9338,779.0837 3137.2306,779.615 Q3136.5275,780.1462 3136.2306,781.0994 Q3135.9338,782.0525 3135.9338,783.3181 Q3135.9338,785.3337 3136.6525,786.3025 Q3137.3713,787.2556 3138.965,787.2556 Q3139.5588,787.2556 3140.1838,787.0994 Q3140.8088,786.9431 3141.6369,786.5681 L3141.6369,788.7869 Q3140.9025,789.0994 3140.1056,789.2556 Q3139.3244,789.4119 3138.5588,789.4119 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.8274" x="3153.09" y="787.922">GroupClientRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="3125.09" x2="3304.9174" y1="798.49" y2="798.49"/><line style="stroke:#181818;stroke-width:0.5;" x1="3125.09" x2="3304.9174" y1="806.49" y2="806.49"/></g><!--class TchatsAppServer--><g class="entity" data-entity="TchatsAppServer" data-source-line="283" data-uid="ent0083" id="entity_TchatsAppServer"><rect fill="#F1F1F1" height="238.6792" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="411.9785" x="207.01" y="91"/><ellipse cx="353.2045" cy="107" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M352.6732,113.9219 Q350.9232,113.9219 349.7826,113.1875 Q348.6576,112.4375 348.0951,111.0938 Q347.5482,109.7344 347.5482,107.9375 Q347.5482,105.9063 348.2045,104.4531 Q348.8607,103 350.142,102.2188 Q351.4232,101.4375 353.2982,101.4375 Q354.1889,101.4375 354.8607,101.625 Q355.5326,101.7969 356.2201,102.1406 L355.4076,104.1563 Q354.7826,103.8438 354.2357,103.7188 Q353.7045,103.5938 353.2201,103.5938 Q352.0482,103.5938 351.3451,104.125 Q350.642,104.6563 350.3451,105.6094 Q350.0482,106.5625 350.0482,107.8281 Q350.0482,109.8438 350.767,110.8125 Q351.4857,111.7656 353.0795,111.7656 Q353.6732,111.7656 354.2982,111.6094 Q354.9232,111.4531 355.7514,111.0781 L355.7514,113.2969 Q355.017,113.6094 354.2201,113.7656 Q353.4389,113.9219 352.6732,113.9219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.0896" x="373.7045" y="112.432">TchatsAppServer</text><line style="stroke:#181818;stroke-width:0.5;" x1="208.01" x2="617.9885" y1="123" y2="123"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="215.01" y="135.034"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="385.9785" x="227.01" y="141.9659">activeConnections: Map&lt;SocketChannel, ConnectionState&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="215.01" y="154.1019"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="330.2167" x="227.01" y="161.0339">connectedClients: Map&lt;Integer, ConnectionState&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="215.01" y="173.1698"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="325.1767" x="227.01" y="180.1018">clientQueues: Map&lt;Integer, Queue&lt;ByteBuffer&gt;&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="215.01" y="192.2377"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224.4752" x="227.01" y="199.1697">packetProcessor: PacketProcessor</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="215.01" y="211.3056"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.4793" x="227.01" y="218.2376">serverContext: ServerContext</text><line style="stroke:#181818;stroke-width:1;" x1="208.01" x2="617.9885" y1="226.3396" y2="226.3396"/><ellipse cx="218.01" cy="241.3735" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.0457" x="227.01" y="245.3055">start(): void</text><ellipse cx="218.01" cy="260.4415" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.4357" x="227.01" y="264.3734">stop(): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="215.01" y="276.5094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.7493" x="227.01" y="283.4414">accept(SelectionKey): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="215.01" y="295.5773"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.0374" x="227.01" y="302.5093">read(SelectionKey): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="215.01" y="314.6452"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.2434" x="227.01" y="321.5772">write(SelectionKey): void</text></g><!--class ServerContext--><g class="entity" data-entity="ServerContext" data-source-line="297" data-uid="ent0084" id="entity_ServerContext"><rect fill="#F1F1F1" height="143.3396" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="354.9988" x="46.5" y="448.75"/><ellipse cx="172.9826" cy="464.75" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M172.4513,471.6719 Q170.7013,471.6719 169.5607,470.9375 Q168.4357,470.1875 167.8732,468.8438 Q167.3263,467.4844 167.3263,465.6875 Q167.3263,463.6563 167.9826,462.2031 Q168.6388,460.75 169.9201,459.9688 Q171.2013,459.1875 173.0763,459.1875 Q173.9669,459.1875 174.6388,459.375 Q175.3107,459.5469 175.9982,459.8906 L175.1857,461.9063 Q174.5607,461.5938 174.0138,461.4688 Q173.4826,461.3438 172.9982,461.3438 Q171.8263,461.3438 171.1232,461.875 Q170.4201,462.4063 170.1232,463.3594 Q169.8263,464.3125 169.8263,465.5781 Q169.8263,467.5938 170.5451,468.5625 Q171.2638,469.5156 172.8576,469.5156 Q173.4513,469.5156 174.0763,469.3594 Q174.7013,469.2031 175.5294,468.8281 L175.5294,471.0469 Q174.7951,471.3594 173.9982,471.5156 Q173.2169,471.6719 172.4513,471.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.5336" x="193.4826" y="470.182">ServerContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="47.5" x2="400.4988" y1="480.75" y2="480.75"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="54.5" y="492.784"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.9412" x="66.5" y="499.7159">userRepository: UserRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="54.5" y="511.8519"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245.069" x="66.5" y="518.7839">currentConnectionState: ThreadLocal</text><line style="stroke:#181818;stroke-width:1;" x1="47.5" x2="400.4988" y1="526.8858" y2="526.8858"/><ellipse cx="57.5" cy="541.9198" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216.3271" x="66.5" y="545.8518">sendPacketToClient(Packet): void</text><ellipse cx="57.5" cy="560.9877" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.7794" x="66.5" y="564.9197">generateClientId(): int</text><ellipse cx="57.5" cy="580.0556" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328.9988" x="66.5" y="583.9876">registerConnection(ConnectionState, int): boolean</text></g><!--class ConnectionState--><g class="entity" data-entity="ConnectionState" data-source-line="306" data-uid="ent0085" id="entity_ConnectionState"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182.8974" x="436.55" y="458.28"/><ellipse cx="470.5975" cy="474.28" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M470.0662,481.2019 Q468.3162,481.2019 467.1756,480.4675 Q466.0506,479.7175 465.4881,478.3738 Q464.9412,477.0144 464.9412,475.2175 Q464.9412,473.1863 465.5975,471.7331 Q466.2537,470.28 467.535,469.4988 Q468.8162,468.7175 470.6912,468.7175 Q471.5819,468.7175 472.2537,468.905 Q472.9256,469.0769 473.6131,469.4206 L472.8006,471.4363 Q472.1756,471.1238 471.6287,470.9988 Q471.0975,470.8738 470.6131,470.8738 Q469.4412,470.8738 468.7381,471.405 Q468.035,471.9363 467.7381,472.8894 Q467.4412,473.8425 467.4412,475.1081 Q467.4412,477.1238 468.16,478.0925 Q468.8787,479.0456 470.4725,479.0456 Q471.0662,479.0456 471.6912,478.8894 Q472.3162,478.7331 473.1444,478.3581 L473.1444,480.5769 Q472.41,480.8894 471.6131,481.0456 Q470.8319,481.2019 470.0662,481.2019 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.5696" x="488.8303" y="479.712">ConnectionState</text><line style="stroke:#181818;stroke-width:0.5;" x1="437.55" x2="618.4474" y1="490.28" y2="490.28"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="444.55" y="502.314"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156.8974" x="456.55" y="509.2459">channel: SocketChannel</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="444.55" y="521.3819"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.6117" x="456.55" y="528.3139">clientId: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="444.55" y="540.4498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.8474" x="456.55" y="547.3818">readBuffer: ByteBuffer</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="444.55" y="559.5177"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.3255" x="456.55" y="566.4497">identified: boolean</text><line style="stroke:#181818;stroke-width:0.5;" x1="437.55" x2="618.4474" y1="574.5517" y2="574.5517"/></g><!--class ServerPacketRouter--><g class="entity" data-entity="ServerPacketRouter" data-source-line="319" data-uid="ent0089" id="entity_ServerPacketRouter"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="285.853" x="958.07" y="148.2"/><ellipse cx="1031.6538" cy="164.2" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1031.1225,171.1219 Q1029.3725,171.1219 1028.2319,170.3875 Q1027.1069,169.6375 1026.5444,168.2938 Q1025.9975,166.9344 1025.9975,165.1375 Q1025.9975,163.1063 1026.6538,161.6531 Q1027.31,160.2 1028.5913,159.4188 Q1029.8725,158.6375 1031.7475,158.6375 Q1032.6381,158.6375 1033.31,158.825 Q1033.9819,158.9969 1034.6694,159.3406 L1033.8569,161.3563 Q1033.2319,161.0438 1032.685,160.9188 Q1032.1538,160.7938 1031.6694,160.7938 Q1030.4975,160.7938 1029.7944,161.325 Q1029.0913,161.8563 1028.7944,162.8094 Q1028.4975,163.7625 1028.4975,165.0281 Q1028.4975,167.0438 1029.2163,168.0125 Q1029.935,168.9656 1031.5288,168.9656 Q1032.1225,168.9656 1032.7475,168.8094 Q1033.3725,168.6531 1034.2006,168.2781 L1034.2006,170.4969 Q1033.4663,170.8094 1032.6694,170.9656 Q1031.8881,171.1219 1031.1225,171.1219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.1855" x="1052.1538" y="169.632">ServerPacketRouter</text><line style="stroke:#181818;stroke-width:0.5;" x1="959.07" x2="1242.923" y1="180.2" y2="180.2"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="966.07" y="192.234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.2831" x="978.07" y="199.1659">handlers: List&lt;ServerPacketHandler&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="966.07" y="211.3019"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.1774" x="978.07" y="218.2339">context: ServerContext</text><line style="stroke:#181818;stroke-width:1;" x1="959.07" x2="1242.923" y1="226.3358" y2="226.3358"/><ellipse cx="969.07" cy="241.3698" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.8992" x="978.07" y="245.3018">process(ProtocolMessage): void</text><ellipse cx="969.07" cy="260.4377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="259.853" x="978.07" y="264.3697">addHandler(ServerPacketHandler): void</text></g><!--class ServerPacketHandler--><g class="entity" data-entity="ServerPacketHandler" data-source-line="327" data-uid="ent0090" id="entity_ServerPacketHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="309.205" x="675.4" y="477.35"/><ellipse cx="761.0657" cy="493.35" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M756.2376,499.1 L759.5813,486.9125 L762.722,486.9125 L766.097,499.1 L763.6282,499.1 L762.8938,496.0844 L759.3782,496.0844 L758.6282,499.1 L756.2376,499.1 Z M760.6438,491.0531 L759.8938,494.0531 L762.4095,494.0531 L761.6907,491.0531 Q761.5501,490.475 761.4251,489.9281 Q761.3001,489.3656 761.1595,488.7875 Q761.0501,489.3656 760.9095,489.9281 Q760.7688,490.475 760.6438,491.0531 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="129.3735" x="781.5657" y="498.782">ServerPacketHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="676.4" x2="983.605" y1="509.35" y2="509.35"/><line style="stroke:#181818;stroke-width:0.5;" x1="676.4" x2="983.605" y1="517.35" y2="517.35"/><ellipse cx="686.4" cy="532.384" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="283.205" x="695.4" y="536.3159">handle(ProtocolMessage, ServerContext): void</text><ellipse cx="686.4" cy="551.4519" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="215.0952" x="695.4" y="555.3839">canHandle(MessageType): boolean</text></g><g class="entity" data-entity="GMN91" data-source-line="333" data-uid="ent0092" id="entity_GMN91"><path d="M1019.51,506.56 L1019.51,516.31 L984.98,520.31 L1019.51,524.31 L1019.51,534.266 A0,0 0 0 0 1019.51,534.266 L1244.4932,534.266 A0,0 0 0 0 1244.4932,534.266 L1244.4932,516.56 L1234.4932,506.56 L1019.51,506.56 A0,0 0 0 0 1019.51,506.56" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1234.4932,506.56 L1234.4932,516.56 L1244.4932,516.56 L1234.4932,506.56" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="203.9832" x="1025.51" y="525.457">Pattern: Chain of Responsibility</text></g><!--class UserRepository--><g class="entity" data-entity="UserRepository" data-source-line="342" data-uid="ent0097" id="entity_UserRepository"><rect fill="#F1F1F1" height="105.2038" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="227.6412" x="563.18" y="737.89"/><ellipse cx="622.2178" cy="753.89" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M621.6866,760.8119 Q619.9366,760.8119 618.7959,760.0775 Q617.6709,759.3275 617.1084,757.9838 Q616.5616,756.6244 616.5616,754.8275 Q616.5616,752.7963 617.2178,751.3431 Q617.8741,749.89 619.1553,749.1088 Q620.4366,748.3275 622.3116,748.3275 Q623.2022,748.3275 623.8741,748.515 Q624.5459,748.6869 625.2334,749.0306 L624.4209,751.0463 Q623.7959,750.7338 623.2491,750.6088 Q622.7178,750.4838 622.2334,750.4838 Q621.0616,750.4838 620.3584,751.015 Q619.6553,751.5463 619.3584,752.4994 Q619.0616,753.4525 619.0616,754.7181 Q619.0616,756.7338 619.7803,757.7025 Q620.4991,758.6556 622.0928,758.6556 Q622.6866,758.6556 623.3116,758.4994 Q623.9366,758.3431 624.7647,757.9681 L624.7647,760.1869 Q624.0303,760.4994 623.2334,760.6556 Q622.4522,760.8119 621.6866,760.8119 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.0656" x="642.7178" y="759.322">UserRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="564.18" x2="789.8212" y1="769.89" y2="769.89"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="571.18" y="781.924"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201.6412" x="583.18" y="788.8559">users: Map&lt;Integer, UserInfo&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="564.18" x2="789.8212" y1="796.9579" y2="796.9579"/><ellipse cx="574.18" cy="811.9919" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.9715" x="583.18" y="815.9239">add(UserInfo): void</text><ellipse cx="574.18" cy="831.0598" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.6974" x="583.18" y="834.9918">findById(int): UserInfo</text></g><!--reverse link Packet to PacketBuilder--><g class="link" data-entity-1="Packet" data-entity-2="PacketBuilder" data-source-line="40" data-uid="lnk10" id="link_Packet_PacketBuilder"><path codeLine="40" d="M2424,617.48 C2424,655.76 2424,693.34 2424,727.91" fill="none" id="Packet-backto-PacketBuilder" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="2424,611.48,2420,620.48,2424,616.48,2428,620.48,2424,611.48" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.486" x="2379" y="665.597">creates</text></g><!--link MessageFactory to MessageProvider--><g class="link" data-entity-1="MessageFactory" data-entity-2="MessageProvider" data-source-line="74" data-uid="lnk18" id="link_MessageFactory_MessageProvider"><path codeLine="74" d="M2068,852.89 C2068,884.52 2068,916.16 2068,944.58" fill="none" id="MessageFactory-to-MessageProvider" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="2068,950.58,2072,941.58,2068,945.58,2064,941.58,2068,950.58" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="2040" y="897.627">uses</text></g><!--link MessageFactory to ProtocolMessage--><g class="link" data-entity-1="MessageFactory" data-entity-2="ProtocolMessage" data-source-line="75" data-uid="lnk19" id="link_MessageFactory_ProtocolMessage"><path codeLine="75" d="M2205.02,852.77 C2205.02,918.9 2205.02,1017.7 2205.02,1090.42" fill="none" id="MessageFactory-to-ProtocolMessage" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="2205.02,1096.42,2209.02,1087.42,2205.02,1091.42,2201.02,1087.42,2205.02,1096.42" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.486" x="2160.02" y="970.487">creates</text></g><!--link MessageProvider to ProtocolMessage--><g class="link" data-entity-1="MessageProvider" data-entity-2="ProtocolMessage" data-source-line="76" data-uid="lnk20" id="link_MessageProvider_ProtocolMessage"><path codeLine="76" d="M2098.33,1037.04 C2098.33,1054.8 2098.33,1069.99 2098.33,1090.47" fill="none" id="MessageProvider-to-ProtocolMessage" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="2098.33,1096.47,2102.33,1087.47,2098.33,1091.47,2094.33,1087.47,2098.33,1096.47" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.741" x="2045.33" y="1062.647">provides</text></g><!--link AbstractRepository to Repository--><g class="link" data-entity-1="AbstractRepository" data-entity-2="Repository" data-source-line="118" data-uid="lnk30" id="link_AbstractRepository_Repository"><path codeLine="118" d="M2825.24,549.31 C2762.16,549.31 2688.6,549.31 2688.6,549.31 C2688.6,549.31 2688.6,629.39 2688.6,700.46" fill="none" id="AbstractRepository-to-Repository" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="2688.6,718.46,2694.6,700.46,2682.6,700.46,2688.6,718.46" style="stroke:#181818;stroke-width:1;"/></g><!--link AbstractRepository to RepositoryWriter--><g class="link" data-entity-1="AbstractRepository" data-entity-2="RepositoryWriter" data-source-line="119" data-uid="lnk31" id="link_AbstractRepository_RepositoryWriter"><path codeLine="119" d="M2943.43,563.81 C2943.43,597.73 2943.43,640.26 2943.43,683.73" fill="none" id="AbstractRepository-to-RepositoryWriter" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="2943.43,689.73,2947.43,680.73,2943.43,684.73,2939.43,680.73,2943.43,689.73" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="2915.43" y="622.667">uses</text></g><!--reverse link ClientController to Client--><g class="link" data-entity-1="ClientController" data-entity-2="Client" data-source-line="164" data-uid="lnk42" id="link_ClientController_Client"><path codeLine="164" d="M4151.7,642.66 C4151.7,665.56 4151.7,677.44 4151.7,699.56" fill="none" id="ClientController-backto-Client" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4151.7,630.66,4147.7,636.66,4151.7,642.66,4155.7,636.66,4151.7,630.66" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ClientController to EventBus--><g class="link" data-entity-1="ClientController" data-entity-2="EventBus" data-source-line="165" data-uid="lnk44" id="link_ClientController_EventBus"><path codeLine="165" d="M4268.81,616.31 C4326.09,616.31 4365,616.31 4365,616.31 C4365,616.31 4365,718.41 4365,766.28" fill="none" id="ClientController-backto-EventBus" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="4256.81,616.31,4262.81,620.31,4268.81,616.31,4262.81,612.31,4256.81,616.31" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ClientPaquetRouter to ClientPacketHandler--><g class="link" data-entity-1="ClientPaquetRouter" data-entity-2="ClientPacketHandler" data-source-line="188" data-uid="lnk51" id="link_ClientPaquetRouter_ClientPacketHandler"><path codeLine="188" d="M4662.72,284.72 C4662.72,341.84 4662.72,413.47 4662.72,467.43" fill="none" id="ClientPaquetRouter-backto-ClientPacketHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4662.72,272.72,4658.72,278.72,4662.72,284.72,4666.72,278.72,4662.72,272.72" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="4616.4616" y="456.1115">many</text></g><!--link ClientPaquetRouter to PacketProcessor--><g class="link" data-entity-1="ClientPaquetRouter" data-entity-2="PacketProcessor" data-source-line="189" data-uid="lnk52" id="link_ClientPaquetRouter_PacketProcessor"><path codeLine="189" d="M4466.96,248.31 C3901.79,248.31 1831.2,248.31 1831.2,248.31 C1831.2,248.31 1831.2,619.88 1831.2,738.58" fill="none" id="ClientPaquetRouter-to-PacketProcessor" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="1831.2,756.58,1837.2,738.58,1825.2,738.58,1831.2,756.58" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link EventBus to EventSubscription--><g class="link" data-entity-1="EventBus" data-entity-2="EventSubscription" data-source-line="226" data-uid="lnk61" id="link_EventBus_EventSubscription"><path codeLine="226" d="M5170.74,613.82 C5170.74,654.35 5170.74,690.59 5170.74,728.15" fill="none" id="EventBus-backto-EventSubscription" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5170.74,601.82,5166.74,607.82,5170.74,613.82,5174.74,607.82,5170.74,601.82" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="5134.7651" y="716.4557">many</text></g><!--reverse link EventSubscription to EventObserver--><g class="link" data-entity-1="EventSubscription" data-entity-2="EventObserver" data-source-line="227" data-uid="lnk62" id="link_EventSubscription_EventObserver"><path codeLine="227" d="M5170,864.89 C5170,900.14 5170,930.85 5170,959.94" fill="none" id="EventSubscription-backto-EventObserver" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="5170,852.89,5166,858.89,5170,864.89,5174,858.89,5170,852.89" style="stroke:#181818;stroke-width:1;"/></g><!--link EventBus to Event--><g class="link" data-entity-1="EventBus" data-entity-2="Event" data-source-line="228" data-uid="lnk63" id="link_EventBus_Event"><path codeLine="228" d="M5393.17,601.82 C5393.17,653.69 5393.17,712.18 5393.17,750.75" fill="none" id="EventBus-to-Event" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="5393.17,756.75,5397.17,747.75,5393.17,751.75,5389.17,747.75,5393.17,756.75" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.5521" x="5334.17" y="675.177">publishes</text></g><!--reverse link PendingCommandManager to PendingCommand--><g class="link" data-entity-1="PendingCommandManager" data-entity-2="PendingCommand" data-source-line="253" data-uid="lnk70" id="link_PendingCommandManager_PendingCommand"><path codeLine="253" d="M5722,284.72 C5722,341.84 5722,413.47 5722,467.43" fill="none" id="PendingCommandManager-backto-PendingCommand" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="5722,272.72,5718,278.72,5722,284.72,5726,278.72,5722,272.72" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="5685.7231" y="456.1115">many</text></g><!--reverse link AbstractRepository to ContactClientRepository--><g class="link" data-entity-1="AbstractRepository" data-entity-2="ContactClientRepository" data-source-line="270" data-uid="lnk76" id="link_AbstractRepository_ContactClientRepository"><path codeLine="270" d="M3020.77,520.31 C3162.04,520.31 3404.2,520.31 3404.2,520.31 C3404.2,520.31 3404.2,658.75 3404.2,737.44" fill="none" id="AbstractRepository-backto-ContactClientRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="3002.77,520.31,3020.77,526.31,3020.77,514.31,3002.77,520.31" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link AbstractRepository to ConversationClientRepository--><g class="link" data-entity-1="AbstractRepository" data-entity-2="ConversationClientRepository" data-source-line="271" data-uid="lnk78" id="link_AbstractRepository_ConversationClientRepository"><path codeLine="271" d="M3020.52,499.31 C3220.65,499.31 3672.7,499.31 3672.7,499.31 C3672.7,499.31 3672.7,679.71 3672.7,756.52" fill="none" id="AbstractRepository-backto-ConversationClientRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="3002.52,499.31,3020.52,505.31,3020.52,493.31,3002.52,499.31" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link AbstractRepository to GroupClientRepository--><g class="link" data-entity-1="AbstractRepository" data-entity-2="GroupClientRepository" data-source-line="272" data-uid="lnk80" id="link_AbstractRepository_GroupClientRepository"><path codeLine="272" d="M3020.64,542.31 C3099.58,542.31 3184.7,542.31 3184.7,542.31 C3184.7,542.31 3184.7,703.8 3184.7,766.25" fill="none" id="AbstractRepository-backto-GroupClientRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="3002.64,542.31,3020.64,548.31,3020.64,536.31,3002.64,542.31" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link TchatsAppServer to ServerContext--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="ServerContext" data-source-line="313" data-uid="lnk86" id="link_TchatsAppServer_ServerContext"><path codeLine="313" d="M304.26,341.78 C304.26,381.87 304.26,413.32 304.26,448.6" fill="none" id="TchatsAppServer-backto-ServerContext" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="304.26,329.78,300.26,335.78,304.26,341.78,308.26,335.78,304.26,329.78" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link TchatsAppServer to ConnectionState--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="ConnectionState" data-source-line="314" data-uid="lnk87" id="link_TchatsAppServer_ConnectionState"><path codeLine="314" d="M497.36,341.78 C497.36,385.46 497.36,421.12 497.36,457.86" fill="none" id="TchatsAppServer-backto-ConnectionState" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="497.36,329.78,493.36,335.78,497.36,341.78,501.36,335.78,497.36,329.78" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="457.8583" y="446.582">many</text></g><!--reverse link ServerPacketRouter to ServerPacketHandler--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="ServerPacketHandler" data-source-line="336" data-uid="lnk94" id="link_ServerPacketRouter_ServerPacketHandler"><path codeLine="336" d="M971.34,284.72 C971.34,345.38 971.34,423.93 971.34,477.1" fill="none" id="ServerPacketRouter-backto-ServerPacketHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="971.34,272.72,967.34,278.72,971.34,284.72,975.34,278.72,971.34,272.72" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="957.9427" y="465.4731">many</text></g><!--link ServerPacketRouter to PacketProcessor--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="PacketProcessor" data-source-line="337" data-uid="lnk95" id="link_ServerPacketRouter_PacketProcessor"><path codeLine="337" d="M1244.36,266.31 C1411.4,266.31 1664.8,266.31 1664.8,266.31 C1664.8,266.31 1664.8,622.35 1664.8,738.51" fill="none" id="ServerPacketRouter-to-PacketProcessor" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="1664.8,756.51,1670.8,738.51,1658.8,738.51,1664.8,756.51" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link AbstractRepository to UserRepository--><g class="link" data-entity-1="AbstractRepository" data-entity-2="UserRepository" data-source-line="349" data-uid="lnk99" id="link_AbstractRepository_UserRepository"><path codeLine="349" d="M2884.57,581.79 C2884.57,606.39 2884.57,614.31 2884.57,614.31 C2884.57,614.31 733.11,614.31 733.11,614.31 C733.11,614.31 733.11,685.74 733.11,737.63" fill="none" id="AbstractRepository-backto-UserRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="2884.57,563.79,2878.57,581.79,2890.57,581.79,2884.57,563.79" style="stroke:#181818;stroke-width:1;"/></g><!--link Client to Packet--><g class="link" data-entity-1="Client" data-entity-2="Packet" data-source-line="357" data-uid="lnk100" id="link_Client_Packet"><path codeLine="357" d="M3941.85,719.31 C3924.85,719.31 3913.72,719.31 3913.72,719.31 C3913.72,719.31 3913.72,587.31 3913.72,587.31 C3913.72,587.31 2887.21,587.31 2541.36,587.31" fill="none" id="Client-to-Packet" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="2535.36,587.31,2544.36,591.31,2540.36,587.31,2544.36,583.31,2535.36,587.31" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="3276.6" y="583.207">uses</text></g><!--reverse link Client to PacketProcessor--><g class="link" data-entity-1="Client" data-entity-2="PacketProcessor" data-source-line="358" data-uid="lnk101" id="link_Client_PacketProcessor"><path codeLine="358" d="M4046.93,687.37 C4046.93,665.49 4046.93,660.31 4046.93,660.31 C4046.93,660.31 1848.07,660.31 1848.07,660.31 C1848.07,660.31 1848.07,718.06 1848.07,756.63" fill="none" id="Client-backto-PacketProcessor" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="4046.93,699.37,4050.93,693.37,4046.93,687.37,4042.93,693.37,4046.93,699.37" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="2890.87" y="656.207">uses</text></g><!--link ClientController to MessageFactory--><g class="link" data-entity-1="ClientController" data-entity-2="MessageFactory" data-source-line="359" data-uid="lnk102" id="link_ClientController_MessageFactory"><path codeLine="359" d="M3941.35,617.31 C3493.39,617.31 2245.21,617.31 2245.21,617.31 C2245.21,617.31 2245.21,672.36 2245.21,721.97" fill="none" id="ClientController-to-MessageFactory" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="2245.21,727.97,2249.21,718.97,2245.21,722.97,2241.21,718.97,2245.21,727.97" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="3009.95" y="613.207">uses</text></g><!--link ClientPaquetRouter to MessageFactory--><g class="link" data-entity-1="ClientPaquetRouter" data-entity-2="MessageFactory" data-source-line="360" data-uid="lnk103" id="link_ClientPaquetRouter_MessageFactory"><path codeLine="360" d="M4467.02,254.31 C3956.41,254.31 2233.6,254.31 2233.6,254.31 C2233.6,254.31 2233.6,580.5 2233.6,721.94" fill="none" id="ClientPaquetRouter-to-MessageFactory" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="2233.6,727.94,2237.6,718.94,2233.6,722.94,2229.6,718.94,2233.6,727.94" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="3085.5" y="250.207">uses</text></g><!--link TchatsAppServer to Packet--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="Packet" data-source-line="362" data-uid="lnk104" id="link_TchatsAppServer_Packet"><path codeLine="362" d="M558.18,329.85 C558.18,385.37 558.18,439.31 558.18,439.31 C558.18,439.31 1905.19,439.31 2306.87,439.31" fill="none" id="TchatsAppServer-to-Packet" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="2312.87,439.31,2303.87,435.31,2307.87,439.31,2303.87,443.31,2312.87,439.31" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="1352.8" y="435.207">uses</text></g><!--reverse link TchatsAppServer to PacketProcessor--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="PacketProcessor" data-source-line="363" data-uid="lnk105" id="link_TchatsAppServer_PacketProcessor"><path codeLine="363" d="M631.35,301.31 C982.81,301.31 1647.93,301.31 1647.93,301.31 C1647.93,301.31 1647.93,645.55 1647.93,756.48" fill="none" id="TchatsAppServer-backto-PacketProcessor" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="619.35,301.31,625.35,305.31,631.35,301.31,625.35,297.31,619.35,301.31" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="1333.23" y="297.207">uses</text></g><!--link ServerPacketRouter to MessageFactory--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="MessageFactory" data-source-line="364" data-uid="lnk106" id="link_ServerPacketRouter_MessageFactory"><path codeLine="364" d="M1244.04,260.31 C1483.26,260.31 1938.59,260.31 1938.59,260.31 C1938.59,260.31 1938.59,581.97 1938.59,722.12" fill="none" id="ServerPacketRouter-to-MessageFactory" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1938.59,728.12,1942.59,719.12,1938.59,723.12,1934.59,719.12,1938.59,728.12" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="1797.22" y="256.207">uses</text></g><!--reverse link ClientController to ContactClientRepository--><g class="link" data-entity-1="ClientController" data-entity-2="ContactClientRepository" data-source-line="366" data-uid="lnk107" id="link_ClientController_ContactClientRepository"><path codeLine="366" d="M3929.35,624.31 C3742.39,624.31 3467.8,624.31 3467.8,624.31 C3467.8,624.31 3467.8,688.82 3467.8,737.46" fill="none" id="ClientController-backto-ContactClientRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="3941.35,624.31,3935.35,620.31,3929.35,624.31,3935.35,628.31,3941.35,624.31" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ClientController to ConversationClientRepository--><g class="link" data-entity-1="ClientController" data-entity-2="ConversationClientRepository" data-source-line="367" data-uid="lnk108" id="link_ClientController_ConversationClientRepository"><path codeLine="367" d="M3929.49,627.31 C3848.8,627.31 3779.3,627.31 3779.3,627.31 C3779.3,627.31 3779.3,708.89 3779.3,756.68" fill="none" id="ClientController-backto-ConversationClientRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="3941.49,627.31,3935.49,623.31,3929.49,627.31,3935.49,631.31,3941.49,627.31" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ClientController to GroupClientRepository--><g class="link" data-entity-1="ClientController" data-entity-2="GroupClientRepository" data-source-line="368" data-uid="lnk109" id="link_ClientController_GroupClientRepository"><path codeLine="368" d="M3929.42,620.31 C3682.75,620.31 3245.3,620.31 3245.3,620.31 C3245.3,620.31 3245.3,719.05 3245.3,766.11" fill="none" id="ClientController-backto-GroupClientRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="3941.42,620.31,3935.42,616.31,3929.42,620.31,3935.42,624.31,3941.42,620.31" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ServerContext to UserRepository--><g class="link" data-entity-1="ServerContext" data-entity-2="UserRepository" data-source-line="370" data-uid="lnk110" id="link_ServerContext_UserRepository"><path codeLine="370" d="M413.74,587.31 C507.5,587.31 591.31,587.31 591.31,587.31 C591.31,587.31 591.31,677.44 591.31,737.64" fill="none" id="ServerContext-backto-UserRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="401.74,587.31,407.74,591.31,413.74,587.31,407.74,583.31,401.74,587.31" style="stroke:#181818;stroke-width:1;"/></g><!--SRC=[jLfVa-8s4d_dKoWp3-VC3iazv66BcgEAOM6EslbtsCbLwkeg9Mm1hZMMpvB9airyeFaSyyMkzSTWov9jDWbJouBLQhMwVztgRl5DHDPnIj3qwU7XwV6Nvuztw7BsVlx3_FtWctBeVZ5x3DJG_EymU1hoPykVPaizz7u6VuC1-nId6Sxn3YL0mWyPGJJdMrePo73u2M-8pmy9GJa9EKut2HaC_eR-SSOBo9ydqu-JkvcM7WtHbEuood3A6IoISxnvUsNdijNIeOkGxdOqlQZgvii0mKk-QQvIXbc0_9_zOFQWdidn8vjd-40uyW-Cazq5A6eY_ZGhyGeJp1ZIPAV7uZL4gsAz9la8tHuukPMVwmJ3sjTtQ9tJdVVj2CKfDqOujJ_Fy26XEFBZtuYTO4SOWvq4O4f1y73wsbX1RK9GgKy6mHV6CO_35p0wZkP2qYXcJUANWLKtjqMSH2ItgQY_VXZXSc7Ovd5XpRX96T0UT2lnrBFjelnq_91IJj2ASavtYAvRk5vTFMFEIPx2njJmrLMDO2hqGeInW8WWgTV_5GH5n1I3f95SjobDNQl38XkEInIEK0WcueGDJZkfeVvXvll2y-QJQV2q_Ba5_XekQ8v3JlD3fnze-fBSD7O5GfkOyVm0WCJPJGMKryWliYo9IJvspTM8NaHt92KvXeMEiAuyQmVIaPdmE8rxzP-0Gauv3McYcRgcAYLxDU71fFAjXOi5MH88QnoISXymTnytlUKTsW2icvxyd_yQP4gqHGgYfg6aFaCQl0BBW05BzwtFD4Iwh0OOTtYvb8fkngTB23ksfqSRZv3FypZTT9YpbFcbHnWxqTgClwTnr1a5ECr42AYZtHK3IcTuXtoIx-EGt4F0RiQ4BSutP4TIZd018UOO4k0mr6XWjGdx68CZ1vFXud7-FLESMO_0ORZeTz-D6wWReO9LU5bccA2eXvpAf2DF-oozDMUaUbu-JI5OBHxlsixedCBM6Q2a9JwTV4oPMa-YJH_Br8XdI7icDenLNE00T8FQDeSA6cgci-XaENj-yXSTWNj989MAEsBsIISdyfl5XsiKZ1jQmL7a1QOEr52HHI8GoebsYeWaH5BOXo4TZMuFYqWH19RHIP88X_O9lmd6PmIlYVxQjRzBE8Hf3ffJ1vAYQOivbzKu0b7v8pb8zIm-k1EXan3_pcFG_4r3Z25iDW4Pvl3U7l5-5Hm-O8uzfHExOazK3iE8L4wEDvLh43pd90x1p6gjm0g1aZ0gAPs0oCcExflqRUYPud0hZx8kBspQ78BFx-EA-jj9nmr3cG7Hwl0MzeQldoZStlxoHmefMUjzVSK4MLVABwebewLYKgDGLYrdjhWpbKoWbCk9EqlKH2RsbG3Yp3SJ0XXBFmD2QUCy7vRXMcI1RJ4NM415YDFe0QSWgQ06rSEPCQqzRlUwaAOfLBpUbZB8yp8eZQy5Cl8KxyJviA8q8JXjb29fP6OPTagefyeLUk2ygiifJNbEayHIO2cjZZIXCGZOZ_VaHoRq8TwjH23J7h8Fo4Xewa2v9E8rJpB6DpajCkSesSEojmKRePd-r5K8fb50FdDzDdjYTI9oRqx5DXRHjzR4KKsSbg92WiMubvEGW19Q9gdezin84L4l9R-gJnOpTkG4fgrQCaR848q4SN4yh5cyWmff7R-z4i1WaGFxeffwYLS2UIFDtbvpQJMcKT0ZFMpWwMeuDB7JeA50KpFSYxFLidpwCH3fdBlNieJTW0swmiSp1lDnGMm1_HOy6WG3FDr3dNbJpX3y_wc6nXRy0g16xKPg0B5didZCeVJgdaMY7YvlP3SM9esyhPAcAAMOebutTcmNli8enAbQhbhyEgBQ9SgALHAphSI79z-xb-pbIBMDktm9wgeuLUSpoy0JubMSnDnv0bjyeGOquGqNS5uSBbg5iCoKEOZjXBBuokmdSSQwitkfnSvcJEcHxZPCh3i4hh2BMB5YOHvdCeZ8tDWCt9z9MCWMp4n_qaLkp_uBfCxLDeLLZ7Ub62lYoTQPp2mbwTDALBuobIvd-nMHJMTLI5GWx06vKtraBjPmCvegV0Uz3-w6iBPoWEebHmq9cdK3FvBDvPScqOv6f3GKBFW0Nplo7M6Nn3i_CYc0MhfNSg1iOKbZzlLvApIgbNGixY4uJM6XKa_64Ne7npti6uN0ASS01N62YWxBs-l-xJMLtPSwVxmd8M3yxLLf365sICFlnLkFy77qlqhGS4EqCN8wLSljD3cBQaNfUbIYszrC4LSXaySFBN55vyBTrnssrBa1tgn6fSB7ZKgmhWqM9b8Pr7fHaGX4-_fZT5Q0WQEsle9N_se_uzG9EGa_UV2lVz-dqbkgBM9p03sqa9SErcoJfh3uKYMbKNd2-X0l2sQNMawOunXqv2cEVO_Jocr6JN3dOQg63RUQfI7E69X8PfsYf10Pft2T6jb6UvzmECW5-znnM656JzvaaVh5MR8U-sQBcTzIkXvhb9YmbXnKrH1gJgLzuF01NMjOZr0cERZ7TNqIsMdSXM6bQkiGKmBpAP-g2uqukaOnknFrceZH3JRTIykvvfgMzCgXGt6P1RbIipbJdUdUM_TqgtmTy_vOQqRTjNzrQqQ5_ulgbRsbDQD6dQqPNpBfQCq4uHPpDiaoJVt5sZ2OgYx5CIcyKPqPoBNXUNADJkCYRX5BhIM6IQHie7c80XVyktksdFIlWe0t63FbmvlJRVBOd9lLy- -kbf7I-xGi3Vtgruu61STviujJZj7CEYJK6vACUpv9b08-aeETKFHbUv391d0hdTE9Qvjju41qlKuUeff7xjvGaUUgtAlQTOI2hTZ6FGrnqjtkKPOAgCACuyAkZ6Ro4fXCTKFH_ii8TGSjjwZ5yWm9owlS7csUOyojpc_sufI3b9rCxIzdj465lcuxVbI2uWZcn-kOHBr4DrrUPAjsfDieosAuldFNKQn3L4iJIBFkR08fEeM2VasWweok9j0Pdlwr7I2BEEVNMHOcNzC1gcttJsl_kBBEFDvikKWwBTB_5MqS2rGgo6qJmZBpd3PEYVRJXMqBu8_1qutvUf2rncJpH9JTy7HDnvtbabUITjpHgf1O4hSPsn3thyYlbhFxIR1uUlGHPFYGzkXyop-Nqq0d__9N2kMlgEITdnuGHOVvmu4QHQKRNlb9HVcRYHgfqHPq4G_CSDiKpgHeaT8APUVIzbi0Uxxk97QcwFOPzgfXKCz31A6HQ_mV]--></g></svg>