<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="5298px" preserveAspectRatio="none" style="width:7982px;height:5298px;background:#FFFFFF;" version="1.1" viewBox="0 0 7982 5298" width="7982px" zoomAndPan="magnify"><defs/><g><!--cluster common--><g class="cluster" data-entity="common" data-source-line="4" data-uid="ent0002" id="cluster_common"><path d="M1722.5,3677.252 L1784.6238,3677.252 A3.75,3.75 0 0 1 1787.1238,3679.752 L1794.1238,3702.3199 L5198.5,3702.3199 A2.5,2.5 0 0 1 5201,3704.8199 L5201,5289.212 A2.5,2.5 0 0 1 5198.5,5291.712 L1722.5,5291.712 A2.5,2.5 0 0 1 1720,5289.212 L1720,3679.752 A2.5,2.5 0 0 1 1722.5,3677.252" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1720" x2="1794.1238" y1="3702.3199" y2="3702.3199"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="61.1238" x="1724" y="3694.2179">common</text></g><!--cluster server--><g class="cluster" data-entity="server" data-source-line="234" data-uid="ent0048" id="cluster_server"><path d="M8.5,2666.802 L53.7538,2666.802 A3.75,3.75 0 0 1 56.2538,2669.302 L63.2538,2691.8699 L1693.5,2691.8699 A2.5,2.5 0 0 1 1696,2694.3699 L1696,4911.132 A2.5,2.5 0 0 1 1693.5,4913.632 L8.5,4913.632 A2.5,2.5 0 0 1 6,4911.132 L6,2669.302 A2.5,2.5 0 0 1 8.5,2666.802" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="63.2538" y1="2691.8699" y2="2691.8699"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="44.2538" x="10" y="2683.7679">server</text></g><!--cluster client--><g class="cluster" data-entity="client" data-source-line="393" data-uid="ent0085" id="cluster_client"><path d="M5227.5,6.602 L5267.6158,6.602 A3.75,3.75 0 0 1 5270.1158,9.102 L5277.1158,31.6699 L7972.5,31.6699 A2.5,2.5 0 0 1 7975,34.1699 L7975,4180.302 A2.5,2.5 0 0 1 7972.5,4182.802 L5227.5,4182.802 A2.5,2.5 0 0 1 5225,4180.302 L5225,9.102 A2.5,2.5 0 0 1 5227.5,6.602" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="5225" x2="5277.1158" y1="31.6699" y2="31.6699"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="39.1158" x="5229" y="23.5679">client</text></g><!--class Packet--><g class="entity" data-entity="Packet" data-source-line="7" data-uid="ent0003" id="entity_Packet"><rect fill="#F1F1F1" height="219.6113" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="420.1406" x="4754.93" y="4013.932"/><ellipse cx="4939.0154" cy="4029.932" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4938.4841,4036.8539 Q4936.7341,4036.8539 4935.5935,4036.1195 Q4934.4685,4035.3695 4933.906,4034.0257 Q4933.3591,4032.6664 4933.3591,4030.8695 Q4933.3591,4028.8382 4934.0154,4027.3851 Q4934.6716,4025.932 4935.9529,4025.1507 Q4937.2341,4024.3695 4939.1091,4024.3695 Q4939.9997,4024.3695 4940.6716,4024.557 Q4941.3435,4024.7289 4942.031,4025.0726 L4941.2185,4027.0882 Q4940.5935,4026.7757 4940.0466,4026.6507 Q4939.5154,4026.5257 4939.031,4026.5257 Q4937.8591,4026.5257 4937.156,4027.057 Q4936.4529,4027.5882 4936.156,4028.5414 Q4935.8591,4029.4945 4935.8591,4030.7601 Q4935.8591,4032.7757 4936.5779,4033.7445 Q4937.2966,4034.6976 4938.8904,4034.6976 Q4939.4841,4034.6976 4940.1091,4034.5414 Q4940.7341,4034.3851 4941.5622,4034.0101 L4941.5622,4036.2289 Q4940.8279,4036.5414 4940.031,4036.6976 Q4939.2497,4036.8539 4938.4841,4036.8539 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.4698" x="4959.5154" y="4035.364">Packet</text><line style="stroke:#181818;stroke-width:0.5;" x1="4755.93" x2="5174.0706" y1="4045.932" y2="4045.932"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="4762.93" y="4057.9659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192.9752" x="4774.93" y="4064.8979">buffer: ByteBuffer {readOnly}</text><line style="stroke:#181818;stroke-width:1;" x1="4755.93" x2="5174.0706" y1="4072.9999" y2="4072.9999"/><ellipse cx="4765.93" cy="4088.0339" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.2677" x="4774.93" y="4091.9658">from(): int</text><ellipse cx="4765.93" cy="4107.1018" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6338" x="4774.93" y="4111.0338">to(): int</text><ellipse cx="4765.93" cy="4126.1697" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.0336" x="4774.93" y="4130.1017">payloadSize(): int</text><ellipse cx="4765.93" cy="4145.2376" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.6134" x="4774.93" y="4149.1696">getPayload(): ByteBuffer</text><ellipse cx="4765.93" cy="4164.3055" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.8553" x="4774.93" y="4168.2375">asByteBuffer(): ByteBuffer</text><ellipse cx="4765.93" cy="4183.3734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="264.389" x="4774.93" y="4187.3054">readFrom(dis: DataInputStream): Packet</text><ellipse cx="4765.93" cy="4202.4414" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="394.1406" x="4774.93" y="4206.3733">createTextMessage(from: int, to: int, content: String): Packet</text><ellipse cx="4765.93" cy="4221.5093" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="288.1049" x="4774.93" y="4225.4413">createEmptyPacket(from: int, to: int): Packet</text></g><!--class PacketBuilder--><g class="entity" data-entity="PacketBuilder" data-source-line="20" data-uid="ent0004" id="entity_PacketBuilder"><rect fill="#F1F1F1" height="238.6792" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="314.8749" x="4787.56" y="3715.252"/><ellipse cx="4895.3806" cy="3731.252" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4894.8494,3738.1739 Q4893.0994,3738.1739 4891.9587,3737.4395 Q4890.8337,3736.6895 4890.2712,3735.3457 Q4889.7244,3733.9864 4889.7244,3732.1895 Q4889.7244,3730.1582 4890.3806,3728.7051 Q4891.0369,3727.252 4892.3181,3726.4707 Q4893.5994,3725.6895 4895.4744,3725.6895 Q4896.365,3725.6895 4897.0369,3725.877 Q4897.7087,3726.0489 4898.3962,3726.3926 L4897.5837,3728.4082 Q4896.9587,3728.0957 4896.4119,3727.9707 Q4895.8806,3727.8457 4895.3962,3727.8457 Q4894.2244,3727.8457 4893.5212,3728.377 Q4892.8181,3728.9082 4892.5212,3729.8614 Q4892.2244,3730.8145 4892.2244,3732.0801 Q4892.2244,3734.0957 4892.9431,3735.0645 Q4893.6619,3736.0176 4895.2556,3736.0176 Q4895.8494,3736.0176 4896.4744,3735.8614 Q4897.0994,3735.7051 4897.9275,3735.3301 L4897.9275,3737.5489 Q4897.1931,3737.8614 4896.3962,3738.0176 Q4895.615,3738.1739 4894.8494,3738.1739 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.7336" x="4915.8806" y="3736.684">PacketBuilder</text><line style="stroke:#181818;stroke-width:0.5;" x1="4788.56" x2="5101.4349" y1="3747.252" y2="3747.252"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="4795.56" y="3759.2859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.7216" x="4807.56" y="3766.2179">buf: ByteBuffer</text><line style="stroke:#181818;stroke-width:1;" x1="4788.56" x2="5101.4349" y1="3774.3199" y2="3774.3199"/><ellipse cx="4798.56" cy="3789.3539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266.027" x="4807.56" y="3793.2858">PacketBuilder(payloadSize: int, from: int)</text><ellipse cx="4798.56" cy="3808.4218" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="288.8749" x="4807.56" y="3812.3538">PacketBuilder(dataSize: int, from: int, to: int)</text><ellipse cx="4798.56" cy="3827.4897" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.6693" x="4807.56" y="3831.4217">setTo(to: int): PacketBuilder</text><ellipse cx="4798.56" cy="3846.5576" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="275.645" x="4807.56" y="3850.4896">setPayload(payload: byte[]): PacketBuilder</text><ellipse cx="4798.56" cy="3865.6255" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247.855" x="4807.56" y="3869.5575">fillFrom(bf: ByteBuffer): PacketBuilder</text><ellipse cx="4798.56" cy="3884.6934" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8815" x="4807.56" y="3888.6254">isReady(): boolean</text><ellipse cx="4798.56" cy="3903.7614" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.7594" x="4807.56" y="3907.6933">isCompleted(): boolean</text><ellipse cx="4798.56" cy="3922.8293" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.3576" x="4807.56" y="3926.7613">build(): Packet</text><ellipse cx="4798.56" cy="3941.8972" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.6134" x="4807.56" y="3945.8292">getPayload(): ByteBuffer</text></g><!--class PacketProcessor--><g class="entity" data-entity="PacketProcessor" data-source-line="37" data-uid="ent0006" id="entity_PacketProcessor"><rect fill="#F1F1F1" height="67.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="192.4874" x="2145.76" y="3801.052"/><ellipse cx="2187.4998" cy="3817.052" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2183.531,3823.552 L2183.531,3821.8489 L2185.8904,3821.5832 L2185.8904,3813.3801 L2183.531,3813.1145 L2183.531,3811.4114 L2190.6717,3811.4114 L2190.6717,3813.1145 L2188.2498,3813.3801 L2188.2498,3821.5832 L2190.6717,3821.8489 L2190.6717,3823.552 L2183.531,3823.552 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="101.0656" x="2207.442" y="3822.484">PacketProcessor</text><line style="stroke:#181818;stroke-width:0.5;" x1="2146.76" x2="2337.2474" y1="3833.052" y2="3833.052"/><line style="stroke:#181818;stroke-width:0.5;" x1="2146.76" x2="2337.2474" y1="3841.052" y2="3841.052"/><ellipse cx="2156.76" cy="3856.0859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.4874" x="2165.76" y="3860.0179">process(pkt: Packet): void</text></g><g class="entity" data-entity="GMN7" data-source-line="41" data-uid="ent0008" id="entity_GMN7"><path d="M2373,3811.882 L2373,3830.712 L2338.65,3834.712 L2373,3838.712 L2373,3857.294 A0,0 0 0 0 2373,3857.294 L2740.9963,3857.294 A0,0 0 0 0 2740.9963,3857.294 L2740.9963,3821.882 L2730.9963,3811.882 L2373,3811.882 A0,0 0 0 0 2373,3811.882" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2730.9963,3811.882 L2730.9963,3821.882 L2740.9963,3821.882 L2730.9963,3811.882" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111.6441" x="2379" y="3830.779">Pattern: Strategy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346.9963" x="2379" y="3848.485">Permet de définir différents traitements pour les packets</text></g><!--class MessageType--><g class="entity" data-entity="MessageType" data-source-line="46" data-uid="ent0010" id="entity_MessageType"><rect fill="#F1F1F1" height="372.1546" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="237.6372" x="4947.18" y="4293.542"/><ellipse cx="5016.8508" cy="4309.542" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5013.2101,4316.042 L5013.2101,4303.9014 L5020.8664,4303.9014 L5020.8664,4306.0264 L5015.5851,4306.0264 L5015.5851,4308.6826 L5020.6008,4308.6826 L5020.6008,4310.8076 L5015.5851,4310.8076 L5015.5851,4313.917 L5020.8664,4313.917 L5020.8664,4316.042 L5013.2101,4316.042 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.7957" x="5037.3508" y="4314.974">MessageType</text><line style="stroke:#181818;stroke-width:0.5;" x1="4948.18" x2="5183.8172" y1="4325.542" y2="4325.542"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.5559" x="4953.18" y="4344.5079">TEXT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.3938" x="4953.18" y="4363.5758">MEDIA</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.4816" x="4953.18" y="4382.6438">CREATE_USER</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.6076" x="4953.18" y="4401.7117">CREATE_GROUP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.9816" x="4953.18" y="4420.7796">UPDATE_PSEUDO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.3856" x="4953.18" y="4439.8475">ADD_CONTACT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.1274" x="4953.18" y="4458.9154">ADD_GROUP_MEMBER</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.0493" x="4953.18" y="4477.9833">REMOVE_GROUP_MEMBER</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.4754" x="4953.18" y="4497.0513">UPDATE_GROUP_NAME</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.4456" x="4953.18" y="4516.1192">DELETE_GROUP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.0036" x="4953.18" y="4535.1871">LEAVE_GROUP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.3815" x="4953.18" y="4554.255">MESSAGE_REACTION</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.0136" x="4953.18" y="4573.3229">NOTIFICATION</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.8418" x="4953.18" y="4592.3908">ERROR</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="11.256" x="4953.18" y="4611.4588">...</text><line style="stroke:#181818;stroke-width:1;" x1="4948.18" x2="5183.8172" y1="4619.5607" y2="4619.5607"/><ellipse cx="4958.18" cy="4634.5947" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211.6372" x="4967.18" y="4638.5267">fromByte(b: byte): MessageType</text><ellipse cx="4958.18" cy="4653.6626" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.2057" x="4967.18" y="4657.5946">toByte(): byte</text></g><!--class ProtocolMessage--><g class="entity" data-entity="ProtocolMessage" data-source-line="68" data-uid="ent0011" id="entity_ProtocolMessage"><rect fill="#F1F1F1" height="200.5433" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184.5774" x="3421.71" y="4023.462"/><ellipse cx="3457.8239" cy="4039.462" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3452.9958,4045.212 L3456.3395,4033.0245 L3459.4801,4033.0245 L3462.8551,4045.212 L3460.3864,4045.212 L3459.652,4042.1964 L3456.1364,4042.1964 L3455.3864,4045.212 L3452.9958,4045.212 Z M3457.402,4037.1651 L3456.652,4040.1651 L3459.1676,4040.1651 L3458.4489,4037.1651 Q3458.3083,4036.587 3458.1833,4036.0401 Q3458.0583,4035.4776 3457.9176,4034.8995 Q3457.8083,4035.4776 3457.6676,4036.0401 Q3457.527,4036.587 3457.402,4037.1651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="105.6576" x="3476.5159" y="4044.894">ProtocolMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="3422.71" x2="3605.2874" y1="4055.462" y2="4055.462"/><polygon fill="none" points="3432.71,4065.4959,3436.71,4069.4959,3432.71,4073.4959,3428.71,4069.4959" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.8875" x="3441.71" y="4074.4279">type: MessageType</text><polygon fill="none" points="3432.71,4084.5639,3436.71,4088.5639,3432.71,4092.5639,3428.71,4088.5639" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.8678" x="3441.71" y="4093.4958">from: int</text><polygon fill="none" points="3432.71,4103.6318,3436.71,4107.6318,3432.71,4111.6318,3428.71,4107.6318" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.2339" x="3441.71" y="4112.5638">to: int</text><line style="stroke:#181818;stroke-width:1;" x1="3422.71" x2="3605.2874" y1="4120.6657" y2="4120.6657"/><ellipse cx="3432.71" cy="4135.6997" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="109.4656" x="3441.71" y="4139.6317">toPacket(): Packet</text><ellipse cx="3432.71" cy="4154.7676" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="94.8916" x="3441.71" y="4158.6996">toBytes(): byte[]</text><ellipse cx="3432.71" cy="4173.8355" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.5774" x="3441.71" y="4177.7675">getType(): MessageType</text><ellipse cx="3432.71" cy="4192.9034" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.2777" x="3441.71" y="4196.8354">getFrom(): int</text><ellipse cx="3432.71" cy="4211.9714" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.9237" x="3441.71" y="4215.9033">getTo(): int</text></g><!--class TextMessage--><g class="entity" data-entity="TextMessage" data-source-line="80" data-uid="ent0012" id="entity_TextMessage"><rect fill="#F1F1F1" height="276.815" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="454.3705" x="1735.81" y="4341.212"/><ellipse cx="1915.4924" cy="4357.212" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1914.9611,4364.1339 Q1913.2111,4364.1339 1912.0705,4363.3995 Q1910.9455,4362.6495 1910.383,4361.3057 Q1909.8361,4359.9464 1909.8361,4358.1495 Q1909.8361,4356.1182 1910.4924,4354.6651 Q1911.1486,4353.212 1912.4299,4352.4307 Q1913.7111,4351.6495 1915.5861,4351.6495 Q1916.4768,4351.6495 1917.1486,4351.837 Q1917.8205,4352.0089 1918.508,4352.3526 L1917.6955,4354.3682 Q1917.0705,4354.0557 1916.5236,4353.9307 Q1915.9924,4353.8057 1915.508,4353.8057 Q1914.3361,4353.8057 1913.633,4354.337 Q1912.9299,4354.8682 1912.633,4355.8214 Q1912.3361,4356.7745 1912.3361,4358.0401 Q1912.3361,4360.0557 1913.0549,4361.0245 Q1913.7736,4361.9776 1915.3674,4361.9776 Q1915.9611,4361.9776 1916.5861,4361.8214 Q1917.2111,4361.6651 1918.0393,4361.2901 L1918.0393,4363.5089 Q1917.3049,4363.8214 1916.508,4363.9776 Q1915.7268,4364.1339 1914.9611,4364.1339 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.5057" x="1935.9924" y="4362.644">TextMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="1736.81" x2="2189.1805" y1="4373.212" y2="4373.212"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1743.81" y="4385.2459"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.9016" x="1755.81" y="4392.1779">messageId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1743.81" y="4404.3139"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.2856" x="1755.81" y="4411.2458">content: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1743.81" y="4423.3818"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.4376" x="1755.81" y="4430.3138">replyToId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1743.81" y="4442.4497"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.7016" x="1755.81" y="4449.3817">timestamp: long</text><line style="stroke:#181818;stroke-width:1;" x1="1736.81" x2="2189.1805" y1="4457.4836" y2="4457.4836"/><ellipse cx="1746.81" cy="4472.5176" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="428.3705" x="1755.81" y="4476.4496">TextMessage(from: int, to: int, messageId: String, content: String)</text><ellipse cx="1746.81" cy="4491.5855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.4695" x="1755.81" y="4495.5175">getMessageId(): String</text><ellipse cx="1746.81" cy="4510.6534" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.3735" x="1755.81" y="4514.5854">getContent(): String</text><ellipse cx="1746.81" cy="4529.7214" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.3235" x="1755.81" y="4533.6533">getReplyToId(): String</text><ellipse cx="1746.81" cy="4548.7893" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.2651" x="1755.81" y="4552.7213">setReplyToId(replyToId: String): void</text><ellipse cx="1746.81" cy="4567.8572" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.3915" x="1755.81" y="4571.7892">getTimestamp(): long</text><ellipse cx="1746.81" cy="4586.9251" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="1755.81" y="4590.8571">toPacket(): Packet</text><ellipse cx="1746.81" cy="4605.993" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.1236" x="1755.81" y="4609.925">toBytes(): byte[]</text></g><!--class MediaMessage--><g class="entity" data-entity="MediaMessage" data-source-line="96" data-uid="ent0014" id="entity_MediaMessage"><rect fill="#F1F1F1" height="276.815" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="488.8943" x="2225.55" y="4341.212"/><ellipse cx="2416.2293" cy="4357.212" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2415.6981,4364.1339 Q2413.9481,4364.1339 2412.8075,4363.3995 Q2411.6825,4362.6495 2411.12,4361.3057 Q2410.5731,4359.9464 2410.5731,4358.1495 Q2410.5731,4356.1182 2411.2293,4354.6651 Q2411.8856,4353.212 2413.1668,4352.4307 Q2414.4481,4351.6495 2416.3231,4351.6495 Q2417.2137,4351.6495 2417.8856,4351.837 Q2418.5575,4352.0089 2419.245,4352.3526 L2418.4325,4354.3682 Q2417.8075,4354.0557 2417.2606,4353.9307 Q2416.7293,4353.8057 2416.245,4353.8057 Q2415.0731,4353.8057 2414.37,4354.337 Q2413.6668,4354.8682 2413.37,4355.8214 Q2413.0731,4356.7745 2413.0731,4358.0401 Q2413.0731,4360.0557 2413.7918,4361.0245 Q2414.5106,4361.9776 2416.1043,4361.9776 Q2416.6981,4361.9776 2417.3231,4361.8214 Q2417.9481,4361.6651 2418.7762,4361.2901 L2418.7762,4363.5089 Q2418.0418,4363.8214 2417.245,4363.9776 Q2416.4637,4364.1339 2415.6981,4364.1339 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.0356" x="2436.7293" y="4362.644">MediaMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="2226.55" x2="2713.4443" y1="4373.212" y2="4373.212"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2233.55" y="4385.2459"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.9016" x="2245.55" y="4392.1779">messageId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2233.55" y="4404.3139"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.2795" x="2245.55" y="4411.2458">mediaType: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2233.55" y="4423.3818"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.2056" x="2245.55" y="4430.3138">mediaId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2233.55" y="4442.4497"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.0735" x="2245.55" y="4449.3817">thumbnailData: byte[]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2233.55" y="4461.5176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.4376" x="2245.55" y="4468.4496">replyToId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2233.55" y="4480.5855"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.7016" x="2245.55" y="4487.5175">timestamp: long</text><line style="stroke:#181818;stroke-width:1;" x1="2226.55" x2="2713.4443" y1="4495.6195" y2="4495.6195"/><ellipse cx="2236.55" cy="4510.6534" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="462.8943" x="2245.55" y="4514.5854">MediaMessage(from: int, to: int, messageId: String, mediaType: String)</text><ellipse cx="2236.55" cy="4529.7214" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.4695" x="2245.55" y="4533.6533">getMessageId(): String</text><ellipse cx="2236.55" cy="4548.7893" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7735" x="2245.55" y="4552.7213">getMediaId(): String</text><ellipse cx="2236.55" cy="4567.8572" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.7633" x="2245.55" y="4571.7892">getThumbnailData(): byte[]</text><ellipse cx="2236.55" cy="4586.9251" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="2245.55" y="4590.8571">toPacket(): Packet</text><ellipse cx="2236.55" cy="4605.993" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.1236" x="2245.55" y="4609.925">toBytes(): byte[]</text></g><!--class ManagementMessage--><g class="entity" data-entity="ManagementMessage" data-source-line="112" data-uid="ent0016" id="entity_ManagementMessage"><rect fill="#F1F1F1" height="181.4754" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="382.8306" x="2749.58" y="4388.882"/><ellipse cx="2863.4346" cy="4404.882" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2862.9033,4411.8039 Q2861.1533,4411.8039 2860.0127,4411.0695 Q2858.8877,4410.3195 2858.3252,4408.9757 Q2857.7783,4407.6164 2857.7783,4405.8195 Q2857.7783,4403.7882 2858.4346,4402.3351 Q2859.0908,4400.882 2860.3721,4400.1007 Q2861.6533,4399.3195 2863.5283,4399.3195 Q2864.419,4399.3195 2865.0908,4399.507 Q2865.7627,4399.6789 2866.4502,4400.0226 L2865.6377,4402.0382 Q2865.0127,4401.7257 2864.4658,4401.6007 Q2863.9346,4401.4757 2863.4502,4401.4757 Q2862.2783,4401.4757 2861.5752,4402.007 Q2860.8721,4402.5382 2860.5752,4403.4914 Q2860.2783,4404.4445 2860.2783,4405.7101 Q2860.2783,4407.7257 2860.9971,4408.6945 Q2861.7158,4409.6476 2863.3096,4409.6476 Q2863.9033,4409.6476 2864.5283,4409.4914 Q2865.1533,4409.3351 2865.9815,4408.9601 L2865.9815,4411.1789 Q2865.2471,4411.4914 2864.4502,4411.6476 Q2863.669,4411.8039 2862.9033,4411.8039 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.6214" x="2883.9346" y="4410.314">ManagementMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="2750.58" x2="3131.4106" y1="4420.882" y2="4420.882"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2757.58" y="4432.9159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.5495" x="2769.58" y="4439.8479">action: MessageType</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2757.58" y="4451.9839"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218.7072" x="2769.58" y="4458.9158">parameters: Map&lt;String, Object&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="2750.58" x2="3131.4106" y1="4467.0178" y2="4467.0178"/><ellipse cx="2760.58" cy="4482.0518" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="356.8306" x="2769.58" y="4485.9838">ManagementMessage(from: int, action: MessageType)</text><ellipse cx="2760.58" cy="4501.1197" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300.3829" x="2769.58" y="4505.0517">addParameter(key: String, value: Object): void</text><ellipse cx="2760.58" cy="4520.1876" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219.1552" x="2769.58" y="4524.1196">getParameter(key: String): Object</text><ellipse cx="2760.58" cy="4539.2555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="2769.58" y="4543.1875">toPacket(): Packet</text><ellipse cx="2760.58" cy="4558.3234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.1236" x="2769.58" y="4562.2554">toBytes(): byte[]</text></g><!--class ReactionMessage--><g class="entity" data-entity="ReactionMessage" data-source-line="123" data-uid="ent0018" id="entity_ReactionMessage"><rect fill="#F1F1F1" height="219.6113" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="614.068" x="3166.97" y="4369.812"/><ellipse cx="3412.0882" cy="4385.812" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3411.557,4392.7339 Q3409.807,4392.7339 3408.6663,4391.9995 Q3407.5413,4391.2495 3406.9788,4389.9057 Q3406.432,4388.5464 3406.432,4386.7495 Q3406.432,4384.7182 3407.0882,4383.2651 Q3407.7445,4381.812 3409.0257,4381.0307 Q3410.307,4380.2495 3412.182,4380.2495 Q3413.0726,4380.2495 3413.7445,4380.437 Q3414.4163,4380.6089 3415.1038,4380.9526 L3414.2913,4382.9682 Q3413.6663,4382.6557 3413.1195,4382.5307 Q3412.5882,4382.4057 3412.1038,4382.4057 Q3410.932,4382.4057 3410.2288,4382.937 Q3409.5257,4383.4682 3409.2288,4384.4214 Q3408.932,4385.3745 3408.932,4386.6401 Q3408.932,4388.6557 3409.6507,4389.6245 Q3410.3695,4390.5776 3411.9632,4390.5776 Q3412.557,4390.5776 3413.182,4390.4214 Q3413.807,4390.2651 3414.6351,4389.8901 L3414.6351,4392.1089 Q3413.9007,4392.4214 3413.1038,4392.5776 Q3412.3226,4392.7339 3411.557,4392.7339 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.3316" x="3432.5882" y="4391.244">ReactionMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="3167.97" x2="3780.038" y1="4401.812" y2="4401.812"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3174.97" y="4413.8459"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.7594" x="3186.97" y="4420.7779">targetMessageId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3174.97" y="4432.9139"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.4677" x="3186.97" y="4439.8458">emoji: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3174.97" y="4451.9818"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.4396" x="3186.97" y="4458.9138">isAdd: boolean</text><line style="stroke:#181818;stroke-width:1;" x1="3167.97" x2="3780.038" y1="4467.0157" y2="4467.0157"/><ellipse cx="3177.97" cy="4482.0497" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="588.068" x="3186.97" y="4485.9817">ReactionMessage(from: int, to: int, targetMessageId: String, emoji: String, isAdd: boolean)</text><ellipse cx="3177.97" cy="4501.1176" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191.4493" x="3186.97" y="4505.0496">getTargetMessageId(): String</text><ellipse cx="3177.97" cy="4520.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.3156" x="3186.97" y="4524.1175">getEmoji(): String</text><ellipse cx="3177.97" cy="4539.2534" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.8396" x="3186.97" y="4543.1854">isAdd(): boolean</text><ellipse cx="3177.97" cy="4558.3214" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="3186.97" y="4562.2533">toPacket(): Packet</text><ellipse cx="3177.97" cy="4577.3893" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.1236" x="3186.97" y="4581.3213">toBytes(): byte[]</text></g><!--class NotificationMessage--><g class="entity" data-entity="NotificationMessage" data-source-line="136" data-uid="ent0020" id="entity_NotificationMessage"><rect fill="#F1F1F1" height="143.3396" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="438.2566" x="3815.87" y="4407.942"/><ellipse cx="3963.2825" cy="4423.942" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3962.7513,4430.8639 Q3961.0013,4430.8639 3959.8607,4430.1295 Q3958.7357,4429.3795 3958.1732,4428.0357 Q3957.6263,4426.6764 3957.6263,4424.8795 Q3957.6263,4422.8482 3958.2825,4421.3951 Q3958.9388,4419.942 3960.22,4419.1607 Q3961.5013,4418.3795 3963.3763,4418.3795 Q3964.2669,4418.3795 3964.9388,4418.567 Q3965.6107,4418.7389 3966.2982,4419.0826 L3965.4857,4421.0982 Q3964.8607,4420.7857 3964.3138,4420.6607 Q3963.7825,4420.5357 3963.2982,4420.5357 Q3962.1263,4420.5357 3961.4232,4421.067 Q3960.72,4421.5982 3960.4232,4422.5514 Q3960.1263,4423.5045 3960.1263,4424.7701 Q3960.1263,4426.7857 3960.845,4427.7545 Q3961.5638,4428.7076 3963.1575,4428.7076 Q3963.7513,4428.7076 3964.3763,4428.5514 Q3965.0013,4428.3951 3965.8294,4428.0201 L3965.8294,4430.2389 Q3965.095,4430.5514 3964.2982,4430.7076 Q3963.5169,4430.8639 3962.7513,4430.8639 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.9315" x="3983.7825" y="4429.374">NotificationMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="3816.87" x2="4253.1266" y1="4439.942" y2="4439.942"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3823.87" y="4451.9759"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.7954" x="3835.87" y="4458.9079">notificationType: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3823.87" y="4471.0439"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.1597" x="3835.87" y="4477.9758">data: String</text><line style="stroke:#181818;stroke-width:1;" x1="3816.87" x2="4253.1266" y1="4486.0778" y2="4486.0778"/><ellipse cx="3826.87" cy="4501.1118" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="412.2566" x="3835.87" y="4505.0438">NotificationMessage(from: int, to: int, type: String, data: String)</text><ellipse cx="3826.87" cy="4520.1797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="3835.87" y="4524.1117">toPacket(): Packet</text><ellipse cx="3826.87" cy="4539.2476" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.1236" x="3835.87" y="4543.1796">toBytes(): byte[]</text></g><!--class MessageFactory--><g class="entity" data-entity="MessageFactory" data-source-line="146" data-uid="ent0022" id="entity_MessageFactory"><rect fill="#F1F1F1" height="162.4075" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="777.9935" x="3135" y="3753.382"/><ellipse cx="3466.421" cy="3769.382" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3465.8897,3776.3039 Q3464.1397,3776.3039 3462.9991,3775.5695 Q3461.8741,3774.8195 3461.3116,3773.4757 Q3460.7647,3772.1164 3460.7647,3770.3195 Q3460.7647,3768.2882 3461.421,3766.8351 Q3462.0772,3765.382 3463.3585,3764.6007 Q3464.6397,3763.8195 3466.5147,3763.8195 Q3467.4053,3763.8195 3468.0772,3764.007 Q3468.7491,3764.1789 3469.4366,3764.5226 L3468.6241,3766.5382 Q3467.9991,3766.2257 3467.4522,3766.1007 Q3466.921,3765.9757 3466.4366,3765.9757 Q3465.2647,3765.9757 3464.5616,3766.507 Q3463.8585,3767.0382 3463.5616,3767.9914 Q3463.2647,3768.9445 3463.2647,3770.2101 Q3463.2647,3772.2257 3463.9835,3773.1945 Q3464.7022,3774.1476 3466.296,3774.1476 Q3466.8897,3774.1476 3467.5147,3773.9914 Q3468.1397,3773.8351 3468.9678,3773.4601 L3468.9678,3775.6789 Q3468.2335,3775.9914 3467.4366,3776.1476 Q3466.6553,3776.3039 3465.8897,3776.3039 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.6516" x="3486.921" y="3774.814">MessageFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="3136" x2="3911.9935" y1="3785.382" y2="3785.382"/><line style="stroke:#181818;stroke-width:1;" x1="3136" x2="3911.9935" y1="3793.382" y2="3793.382"/><ellipse cx="3146" cy="3808.4159" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="563.4701" x="3155" y="3812.3479">createTextMessage(from: int, to: int, messageId: String, content: String): TextMessage</text><ellipse cx="3146" cy="3827.4839" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="610.5238" x="3155" y="3831.4158">createMediaMessage(from: int, to: int, messageId: String, mediaType: String): MediaMessage</text><ellipse cx="3146" cy="3846.5518" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="751.9935" x="3155" y="3850.4838">createReactionMessage(from: int, to: int, targetMessageId: String, emoji: String, isAdd: boolean): ReactionMessage</text><ellipse cx="3146" cy="3865.6197" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="552.0459" x="3155" y="3869.5517">createManagementMessage(from: int, action: MessageType): ManagementMessage</text><ellipse cx="3146" cy="3884.6876" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="537.4161" x="3155" y="3888.6196">createNotification(from: int, to: int, type: String, data: String): NotificationMessage</text><ellipse cx="3146" cy="3903.7555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="281.5249" x="3155" y="3907.6875">parsePacket(pkt: Packet): ProtocolMessage</text></g><g class="entity" data-entity="GMN23" data-source-line="156" data-uid="ent0024" id="entity_GMN23"><path d="M3947.55,3811.882 L3947.55,3830.712 L3913.21,3834.712 L3947.55,3838.712 L3947.55,3857.294 A0,0 0 0 0 3947.55,3857.294 L4186.4432,3857.294 A0,0 0 0 0 4186.4432,3857.294 L4186.4432,3821.882 L4176.4432,3811.882 L3947.55,3811.882 A0,0 0 0 0 3947.55,3811.882" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4176.4432,3811.882 L4176.4432,3821.882 L4186.4432,3821.882 L4176.4432,3811.882" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="104.8321" x="3953.55" y="3830.779">Pattern: Factory</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.8932" x="3953.55" y="3848.485">Centralise la création des messages</text></g><!--class MessageIdGenerator--><g class="entity" data-entity="MessageIdGenerator" data-source-line="161" data-uid="ent0026" id="entity_MessageIdGenerator"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="451.9625" x="4301.02" y="3772.452"/><ellipse cx="4453.1015" cy="3788.452" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4452.5703,3795.3739 Q4450.8203,3795.3739 4449.6796,3794.6395 Q4448.5546,3793.8895 4447.9921,3792.5457 Q4447.4453,3791.1864 4447.4453,3789.3895 Q4447.4453,3787.3582 4448.1015,3785.9051 Q4448.7578,3784.452 4450.039,3783.6707 Q4451.3203,3782.8895 4453.1953,3782.8895 Q4454.0859,3782.8895 4454.7578,3783.077 Q4455.4296,3783.2489 4456.1171,3783.5926 L4455.3046,3785.6082 Q4454.6796,3785.2957 4454.1328,3785.1707 Q4453.6015,3785.0457 4453.1171,3785.0457 Q4451.9453,3785.0457 4451.2421,3785.577 Q4450.539,3786.1082 4450.2421,3787.0614 Q4449.9453,3788.0145 4449.9453,3789.2801 Q4449.9453,3791.2957 4450.664,3792.2645 Q4451.3828,3793.2176 4452.9765,3793.2176 Q4453.5703,3793.2176 4454.1953,3793.0614 Q4454.8203,3792.9051 4455.6484,3792.5301 L4455.6484,3794.7489 Q4454.914,3795.0614 4454.1171,3795.2176 Q4453.3359,3795.3739 4452.5703,3795.3739 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.2995" x="4473.6015" y="3793.884">MessageIdGenerator</text><line style="stroke:#181818;stroke-width:0.5;" x1="4302.02" x2="4751.9825" y1="3804.452" y2="3804.452"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="4309.02" y="3816.4859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.5775" x="4321.02" y="3823.4179">counter: AtomicLong</text><line style="stroke:#181818;stroke-width:1;" x1="4302.02" x2="4751.9825" y1="3831.5199" y2="3831.5199"/><ellipse cx="4312.02" cy="3846.5539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.6994" x="4321.02" y="3850.4858">MessageIdGenerator()</text><ellipse cx="4312.02" cy="3865.6218" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.2853" x="4321.02" y="3869.5538">generateId(userId: int): String</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="4309.02" y="3881.6897"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="425.9625" x="4321.02" y="3888.6217">generateHash(userId: int, timestamp: long, counter: long): String</text></g><g class="entity" data-entity="GMN27" data-source-line="169" data-uid="ent0028" id="entity_GMN27"><path d="M4372.67,4101.022 L4372.67,4146.434 A0,0 0 0 0 4372.67,4146.434 L4681.3343,4146.434 A0,0 0 0 0 4681.3343,4146.434 L4681.3343,4111.022 L4671.3343,4101.022 L4531,4101.022 L4527,3896.972 L4523,4101.022 L4372.67,4101.022 A0,0 0 0 0 4372.67,4101.022" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4671.3343,4101.022 L4671.3343,4111.022 L4681.3343,4111.022 L4671.3343,4101.022" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="139.6331" x="4378.67" y="4119.919">Génération ID unique</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287.6643" x="4378.67" y="4137.625">Hash: SHA-256(userId + timestamp + counter) ?</text></g><!--class CryptoStrategy--><g class="entity" data-entity="CryptoStrategy" data-source-line="174" data-uid="ent0030" id="entity_CryptoStrategy"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="204.2333" x="3116.88" y="4967.172"/><ellipse cx="3168.5048" cy="4983.172" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3164.5361,4989.672 L3164.5361,4987.9689 L3166.8955,4987.7032 L3166.8955,4979.5001 L3164.5361,4979.2345 L3164.5361,4977.5314 L3171.6767,4977.5314 L3171.6767,4979.2345 L3169.2548,4979.5001 L3169.2548,4987.7032 L3171.6767,4987.9689 L3171.6767,4989.672 L3164.5361,4989.672 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="92.4837" x="3189.0048" y="4988.604">CryptoStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="3117.88" x2="3320.1133" y1="4999.172" y2="4999.172"/><line style="stroke:#181818;stroke-width:0.5;" x1="3117.88" x2="3320.1133" y1="5007.172" y2="5007.172"/><ellipse cx="3127.88" cy="5022.2059" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.2333" x="3136.88" y="5026.1379">encrypt(data: byte[]): byte[]</text><ellipse cx="3127.88" cy="5041.2739" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.1913" x="3136.88" y="5045.2058">decrypt(data: byte[]): byte[]</text></g><g class="entity" data-entity="GMN31" data-source-line="179" data-uid="ent0032" id="entity_GMN31"><path d="M3485.82,4793.722 L3485.82,4839.134 L3798.1763,4839.134 L3798.1763,4803.722 L3788.1763,4793.722 L3485.82,4793.722" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3788.1763,4793.722 L3788.1763,4803.722 L3798.1763,4803.722 L3788.1763,4793.722" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111.6441" x="3491.82" y="4812.619">Pattern: Strategy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291.3563" x="3491.82" y="4830.325">Différents algorithmes de chiffrement possibles</text></g><!--class AESCryptoStrategy--><g class="entity" data-entity="AESCryptoStrategy" data-source-line="183" data-uid="ent0034" id="entity_AESCryptoStrategy"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252.4351" x="2920.78" y="5132.372"/><ellipse cx="2981.0498" cy="5148.372" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2980.5185,5155.2939 Q2978.7685,5155.2939 2977.6279,5154.5595 Q2976.5029,5153.8095 2975.9404,5152.4657 Q2975.3935,5151.1064 2975.3935,5149.3095 Q2975.3935,5147.2782 2976.0498,5145.8251 Q2976.706,5144.372 2977.9873,5143.5907 Q2979.2685,5142.8095 2981.1435,5142.8095 Q2982.0342,5142.8095 2982.706,5142.997 Q2983.3779,5143.1689 2984.0654,5143.5126 L2983.2529,5145.5282 Q2982.6279,5145.2157 2982.081,5145.0907 Q2981.5498,5144.9657 2981.0654,5144.9657 Q2979.8935,5144.9657 2979.1904,5145.497 Q2978.4873,5146.0282 2978.1904,5146.9814 Q2977.8935,5147.9345 2977.8935,5149.2001 Q2977.8935,5151.2157 2978.6123,5152.1845 Q2979.331,5153.1376 2980.9248,5153.1376 Q2981.5185,5153.1376 2982.1435,5152.9814 Q2982.7685,5152.8251 2983.5967,5152.4501 L2983.5967,5154.6689 Q2982.8623,5154.9814 2982.0654,5155.1376 Q2981.2842,5155.2939 2980.5185,5155.2939 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.3956" x="3001.5498" y="5153.804">AESCryptoStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="2921.78" x2="3172.2151" y1="5164.372" y2="5164.372"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2928.78" y="5176.4059"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.6396" x="2940.78" y="5183.3379">key: SecretKey</text><line style="stroke:#181818;stroke-width:1;" x1="2921.78" x2="3172.2151" y1="5191.4399" y2="5191.4399"/><ellipse cx="2931.78" cy="5206.4739" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.4351" x="2940.78" y="5210.4058">AESCryptoStrategy(key: SecretKey)</text><ellipse cx="2931.78" cy="5225.5418" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.2333" x="2940.78" y="5229.4738">encrypt(data: byte[]): byte[]</text><ellipse cx="2931.78" cy="5244.6097" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.1913" x="2940.78" y="5248.5417">decrypt(data: byte[]): byte[]</text></g><!--class E2ECryptoStrategy--><g class="entity" data-entity="E2ECryptoStrategy" data-source-line="191" data-uid="ent0036" id="entity_E2ECryptoStrategy"><rect fill="#F1F1F1" height="162.4075" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="366.8287" x="3208.59" y="5113.302"/><ellipse cx="3326.4766" cy="5129.302" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3325.9453,5136.2239 Q3324.1953,5136.2239 3323.0547,5135.4895 Q3321.9297,5134.7395 3321.3672,5133.3957 Q3320.8203,5132.0364 3320.8203,5130.2395 Q3320.8203,5128.2082 3321.4766,5126.7551 Q3322.1328,5125.302 3323.4141,5124.5207 Q3324.6953,5123.7395 3326.5703,5123.7395 Q3327.461,5123.7395 3328.1328,5123.927 Q3328.8047,5124.0989 3329.4922,5124.4426 L3328.6797,5126.4582 Q3328.0547,5126.1457 3327.5078,5126.0207 Q3326.9766,5125.8957 3326.4922,5125.8957 Q3325.3203,5125.8957 3324.6172,5126.427 Q3323.9141,5126.9582 3323.6172,5127.9114 Q3323.3203,5128.8645 3323.3203,5130.1301 Q3323.3203,5132.1457 3324.0391,5133.1145 Q3324.7578,5134.0676 3326.3516,5134.0676 Q3326.9453,5134.0676 3327.5703,5133.9114 Q3328.1953,5133.7551 3329.0235,5133.3801 L3329.0235,5135.5989 Q3328.2891,5135.9114 3327.4922,5136.0676 Q3326.711,5136.2239 3325.9453,5136.2239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.5555" x="3346.9766" y="5134.734">E2ECryptoStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="3209.59" x2="3574.4187" y1="5145.302" y2="5145.302"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3216.59" y="5157.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.4954" x="3228.59" y="5164.2679">privateKey: PrivateKey</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="3216.59" y="5176.4039"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.1991" x="3228.59" y="5183.3358">publicKeys: Map&lt;Integer, PublicKey&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="3209.59" x2="3574.4187" y1="5191.4378" y2="5191.4378"/><ellipse cx="3219.59" cy="5206.4718" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="277.451" x="3228.59" y="5210.4038">E2ECryptoStrategy(privateKey: PrivateKey)</text><ellipse cx="3219.59" cy="5225.5397" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="340.8287" x="3228.59" y="5229.4717">addPublicKey(userId: int, publicKey: PublicKey): void</text><ellipse cx="3219.59" cy="5244.6076" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.2333" x="3228.59" y="5248.5396">encrypt(data: byte[]): byte[]</text><ellipse cx="3219.59" cy="5263.6755" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.1913" x="3228.59" y="5267.6075">decrypt(data: byte[]): byte[]</text></g><!--class ProtocolMessageDecorator--><g class="entity" data-entity="ProtocolMessageDecorator" data-source-line="201" data-uid="ent0038" id="entity_ProtocolMessageDecorator"><rect fill="#F1F1F1" height="143.3396" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="363.2728" x="4289.36" y="4407.942"/><ellipse cx="4382.8307" cy="4423.942" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4378.0026,4429.692 L4381.3463,4417.5045 L4384.4869,4417.5045 L4387.8619,4429.692 L4385.3932,4429.692 L4384.6588,4426.6764 L4381.1432,4426.6764 L4380.3932,4429.692 L4378.0026,4429.692 Z M4382.4088,4421.6451 L4381.6588,4424.6451 L4384.1744,4424.6451 L4383.4557,4421.6451 Q4383.3151,4421.067 4383.1901,4420.5201 Q4383.0651,4419.9576 4382.9244,4419.3795 Q4382.8151,4419.9576 4382.6744,4420.5201 Q4382.5338,4421.067 4382.4088,4421.6451 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="167.8314" x="4403.3307" y="4429.374">ProtocolMessageDecorator</text><line style="stroke:#181818;stroke-width:0.5;" x1="4290.36" x2="4651.6328" y1="4439.942" y2="4439.942"/><polygon fill="none" points="4300.36,4449.9759,4304.36,4453.9759,4300.36,4457.9759,4296.36,4453.9759" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237.5371" x="4309.36" y="4458.9079">wrappedMessage: ProtocolMessage</text><line style="stroke:#181818;stroke-width:1;" x1="4290.36" x2="4651.6328" y1="4467.0099" y2="4467.0099"/><ellipse cx="4300.36" cy="4482.0439" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="337.2728" x="4309.36" y="4485.9758">ProtocolMessageDecorator(msg: ProtocolMessage)</text><ellipse cx="4300.36" cy="4501.1118" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.5774" x="4309.36" y="4505.0438">getType(): MessageType</text><ellipse cx="4300.36" cy="4520.1797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.2777" x="4309.36" y="4524.1117">getFrom(): int</text><ellipse cx="4300.36" cy="4539.2476" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.9237" x="4309.36" y="4543.1796">getTo(): int</text></g><g class="entity" data-entity="GMN40" data-source-line="210" data-uid="ent0041" id="entity_GMN40"><path d="M4687.4,4456.912 L4687.4,4475.712 L4652.82,4479.712 L4687.4,4483.712 L4687.4,4502.324 A0,0 0 0 0 4687.4,4502.324 L4912.6042,4502.324 A0,0 0 0 0 4912.6042,4502.324 L4912.6042,4466.912 L4902.6042,4456.912 L4687.4,4456.912 A0,0 0 0 0 4687.4,4456.912" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4902.6042,4456.912 L4902.6042,4466.912 L4912.6042,4466.912 L4902.6042,4456.912" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="121.4851" x="4693.4" y="4475.809">Pattern: Decorator</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.2042" x="4693.4" y="4493.515">Ajoute chiffrement aux messages</text></g><!--class EncryptedMessage--><g class="entity" data-entity="EncryptedMessage" data-source-line="214" data-uid="ent0043" id="entity_EncryptedMessage"><rect fill="#F1F1F1" height="181.4754" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="463.7644" x="2987.12" y="4725.692"/><ellipse cx="3152.4455" cy="4741.692" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3151.9142,4748.6139 Q3150.1642,4748.6139 3149.0236,4747.8795 Q3147.8986,4747.1295 3147.3361,4745.7857 Q3146.7892,4744.4264 3146.7892,4742.6295 Q3146.7892,4740.5982 3147.4455,4739.1451 Q3148.1017,4737.692 3149.383,4736.9107 Q3150.6642,4736.1295 3152.5392,4736.1295 Q3153.4298,4736.1295 3154.1017,4736.317 Q3154.7736,4736.4889 3155.4611,4736.8326 L3154.6486,4738.8482 Q3154.0236,4738.5357 3153.4767,4738.4107 Q3152.9455,4738.2857 3152.4611,4738.2857 Q3151.2892,4738.2857 3150.5861,4738.817 Q3149.883,4739.3482 3149.5861,4740.3014 Q3149.2892,4741.2545 3149.2892,4742.5201 Q3149.2892,4744.5357 3150.008,4745.5045 Q3150.7267,4746.4576 3152.3205,4746.4576 Q3152.9142,4746.4576 3153.5392,4746.3014 Q3154.1642,4746.1451 3154.9923,4745.7701 L3154.9923,4747.9889 Q3154.258,4748.3014 3153.4611,4748.4576 Q3152.6798,4748.6139 3151.9142,4748.6139 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.6135" x="3172.9455" y="4747.124">EncryptedMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="2988.12" x2="3449.8844" y1="4757.692" y2="4757.692"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2995.12" y="4769.7259"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203.2233" x="3007.12" y="4776.6579">cryptoStrategy: CryptoStrategy</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="2995.12" y="4788.7939"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.5215" x="3007.12" y="4795.7258">isEncrypted: boolean</text><line style="stroke:#181818;stroke-width:1;" x1="2988.12" x2="3449.8844" y1="4803.8278" y2="4803.8278"/><ellipse cx="2998.12" cy="4818.8618" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="437.7644" x="3007.12" y="4822.7938">EncryptedMessage(msg: ProtocolMessage, crypto: CryptoStrategy)</text><ellipse cx="2998.12" cy="4837.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2556" x="3007.12" y="4841.8617">toPacket(): Packet</text><ellipse cx="2998.12" cy="4856.9976" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.1236" x="3007.12" y="4860.9296">toBytes(): byte[]</text><ellipse cx="2998.12" cy="4876.0655" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.0173" x="3007.12" y="4879.9975">decrypt(): ProtocolMessage</text><ellipse cx="2998.12" cy="4895.1334" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.9214" x="3007.12" y="4899.0654">isEncrypted(): boolean</text></g><!--class IdGenerator--><g class="entity" data-entity="IdGenerator" data-source-line="237" data-uid="ent0049" id="entity_IdGenerator"><rect fill="#F1F1F1" height="67.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.1056" x="1219.95" y="3346.702"/><ellipse cx="1245.8705" cy="3362.702" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1241.9018,3369.202 L1241.9018,3367.4989 L1244.2612,3367.2332 L1244.2612,3359.0301 L1241.9018,3358.7645 L1241.9018,3357.0614 L1249.0424,3357.0614 L1249.0424,3358.7645 L1246.6205,3359.0301 L1246.6205,3367.2332 L1249.0424,3367.4989 L1249.0424,3369.202 L1241.9018,3369.202 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="75.8377" x="1262.2973" y="3368.134">IdGenerator</text><line style="stroke:#181818;stroke-width:0.5;" x1="1220.95" x2="1351.0556" y1="3378.702" y2="3378.702"/><line style="stroke:#181818;stroke-width:0.5;" x1="1220.95" x2="1351.0556" y1="3386.702" y2="3386.702"/><ellipse cx="1230.95" cy="3401.7359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.1056" x="1239.95" y="3405.6679">generateId(): int</text></g><!--class SequentialIdGenerator--><g class="entity" data-entity="SequentialIdGenerator" data-source-line="241" data-uid="ent0050" id="entity_SequentialIdGenerator"><rect fill="#F1F1F1" height="105.2038" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="240.0172" x="1080.99" y="3540.512"/><ellipse cx="1121.8919" cy="3556.512" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1121.3606,3563.4339 Q1119.6106,3563.4339 1118.47,3562.6995 Q1117.345,3561.9495 1116.7825,3560.6057 Q1116.2356,3559.2464 1116.2356,3557.4495 Q1116.2356,3555.4182 1116.8919,3553.9651 Q1117.5481,3552.512 1118.8294,3551.7307 Q1120.1106,3550.9495 1121.9856,3550.9495 Q1122.8763,3550.9495 1123.5481,3551.137 Q1124.22,3551.3089 1124.9075,3551.6526 L1124.095,3553.6682 Q1123.47,3553.3557 1122.9231,3553.2307 Q1122.3919,3553.1057 1121.9075,3553.1057 Q1120.7356,3553.1057 1120.0325,3553.637 Q1119.3294,3554.1682 1119.0325,3555.1214 Q1118.7356,3556.0745 1118.7356,3557.3401 Q1118.7356,3559.3557 1119.4544,3560.3245 Q1120.1731,3561.2776 1121.7669,3561.2776 Q1122.3606,3561.2776 1122.9856,3561.1214 Q1123.6106,3560.9651 1124.4388,3560.5901 L1124.4388,3562.8089 Q1123.7044,3563.1214 1122.9075,3563.2776 Q1122.1263,3563.4339 1121.3606,3563.4339 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.4574" x="1141.6479" y="3561.944">SequentialIdGenerator</text><line style="stroke:#181818;stroke-width:0.5;" x1="1081.99" x2="1320.0072" y1="3572.512" y2="3572.512"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1088.99" y="3584.5459"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.1454" x="1100.99" y="3591.4779">counter: AtomicInteger</text><line style="stroke:#181818;stroke-width:1;" x1="1081.99" x2="1320.0072" y1="3599.5799" y2="3599.5799"/><ellipse cx="1091.99" cy="3614.6139" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214.0172" x="1100.99" y="3618.5458">SequentialIdGenerator(start: int)</text><ellipse cx="1091.99" cy="3633.6818" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.1056" x="1100.99" y="3637.6138">generateId(): int</text></g><g class="entity" data-entity="GMN52" data-source-line="248" data-uid="ent0053" id="entity_GMN52"><path d="M1356.28,3570.402 L1356.28,3615.814 L1679.7251,3615.814 L1679.7251,3580.402 L1669.7251,3570.402 L1356.28,3570.402" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1669.7251,3570.402 L1669.7251,3580.402 L1679.7251,3580.402 L1669.7251,3570.402" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111.6441" x="1362.28" y="3589.299">Pattern: Strategy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302.4451" x="1362.28" y="3607.005">Permet différentes stratégies de génération d'IDs</text></g><!--class ConnectionState--><g class="entity" data-entity="ConnectionState" data-source-line="253" data-uid="ent0055" id="entity_ConnectionState"><rect fill="#F1F1F1" height="181.4754" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="254.5491" x="1386.73" y="3289.502"/><ellipse cx="1455.4698" cy="3305.502" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1454.9385,3312.4239 Q1453.1885,3312.4239 1452.0479,3311.6895 Q1450.9229,3310.9395 1450.3604,3309.5957 Q1449.8135,3308.2364 1449.8135,3306.4395 Q1449.8135,3304.4082 1450.4698,3302.9551 Q1451.126,3301.502 1452.4073,3300.7207 Q1453.6885,3299.9395 1455.5635,3299.9395 Q1456.4541,3299.9395 1457.126,3300.127 Q1457.7979,3300.2989 1458.4854,3300.6426 L1457.6729,3302.6582 Q1457.0479,3302.3457 1456.501,3302.2207 Q1455.9698,3302.0957 1455.4854,3302.0957 Q1454.3135,3302.0957 1453.6104,3302.627 Q1452.9073,3303.1582 1452.6104,3304.1114 Q1452.3135,3305.0645 1452.3135,3306.3301 Q1452.3135,3308.3457 1453.0323,3309.3145 Q1453.751,3310.2676 1455.3448,3310.2676 Q1455.9385,3310.2676 1456.5635,3310.1114 Q1457.1885,3309.9551 1458.0166,3309.5801 L1458.0166,3311.7989 Q1457.2823,3312.1114 1456.4854,3312.2676 Q1455.7041,3312.4239 1454.9385,3312.4239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.5696" x="1475.9698" y="3310.934">ConnectionState</text><line style="stroke:#181818;stroke-width:0.5;" x1="1387.73" x2="1640.2791" y1="3321.502" y2="3321.502"/><ellipse cx="1397.73" cy="3336.5359" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.7232" x="1406.73" y="3340.4679">channel: SocketChannel {final}</text><ellipse cx="1397.73" cy="3355.6039" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.6117" x="1406.73" y="3359.5358">clientId: int</text><ellipse cx="1397.73" cy="3374.6718" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.6053" x="1406.73" y="3378.6038">connectedAt: Instant {final}</text><ellipse cx="1397.73" cy="3393.7397" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191.6732" x="1406.73" y="3397.6717">readBuffer: ByteBuffer {final}</text><ellipse cx="1397.73" cy="3412.8076" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184.8273" x="1406.73" y="3416.7396">identified: boolean {volatile}</text><ellipse cx="1397.73" cy="3431.8755" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.1333" x="1406.73" y="3435.8075">currentPacket: PacketBuilder</text><line style="stroke:#181818;stroke-width:1;" x1="1387.73" x2="1640.2791" y1="3443.9095" y2="3443.9095"/><ellipse cx="1397.73" cy="3458.9434" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228.5491" x="1406.73" y="3462.8754">ConnectionState(c: SocketChannel)</text></g><!--class TchatsAppServer--><g class="entity" data-entity="TchatsAppServer" data-source-line="265" data-uid="ent0056" id="entity_TchatsAppServer"><rect fill="#F1F1F1" height="524.6979" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="411.9785" x="1268.01" y="2704.802"/><ellipse cx="1414.2045" cy="2720.802" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1413.6732,2727.7239 Q1411.9232,2727.7239 1410.7826,2726.9895 Q1409.6576,2726.2395 1409.0951,2724.8957 Q1408.5482,2723.5364 1408.5482,2721.7395 Q1408.5482,2719.7082 1409.2045,2718.2551 Q1409.8607,2716.802 1411.142,2716.0207 Q1412.4232,2715.2395 1414.2982,2715.2395 Q1415.1889,2715.2395 1415.8607,2715.427 Q1416.5326,2715.5989 1417.2201,2715.9426 L1416.4076,2717.9582 Q1415.7826,2717.6457 1415.2357,2717.5207 Q1414.7045,2717.3957 1414.2201,2717.3957 Q1413.0482,2717.3957 1412.3451,2717.927 Q1411.642,2718.4582 1411.3451,2719.4114 Q1411.0482,2720.3645 1411.0482,2721.6301 Q1411.0482,2723.6457 1411.767,2724.6145 Q1412.4857,2725.5676 1414.0795,2725.5676 Q1414.6732,2725.5676 1415.2982,2725.4114 Q1415.9232,2725.2551 1416.7514,2724.8801 L1416.7514,2727.0989 Q1416.017,2727.4114 1415.2201,2727.5676 Q1414.4389,2727.7239 1413.6732,2727.7239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.0896" x="1434.7045" y="2726.234">TchatsAppServer</text><line style="stroke:#181818;stroke-width:0.5;" x1="1269.01" x2="1678.9885" y1="2736.802" y2="2736.802"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="2748.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="125.7895" x="1288.01" y="2755.7679">MAX_MSG_SIZE: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="2767.9039"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="135.3934" x="1288.01" y="2774.8358">BUFFER_LENGTH: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="2786.9718"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.9994" x="1288.01" y="2793.9038">IDENTIFY_TIMEOUT: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="2806.0397"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="385.9785" x="1288.01" y="2812.9717">activeConnections: Map&lt;SocketChannel, ConnectionState&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="2825.1076"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="330.2167" x="1288.01" y="2832.0396">connectedClients: Map&lt;Integer, ConnectionState&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="2844.1755"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="325.1767" x="1288.01" y="2851.1075">clientQueues: Map&lt;Integer, Queue&lt;ByteBuffer&gt;&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="2863.2434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224.4752" x="1288.01" y="2870.1754">packetProcessor: PacketProcessor</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="2882.3114"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.1254" x="1288.01" y="2889.2433">idGenerator: IdGenerator</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="2901.3793"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.9754" x="1288.01" y="2908.3113">workers: ExecutorService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="2920.4472"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244.719" x="1288.01" y="2927.3792">scheduler: ScheduledExecutorService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="2939.5151"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.6436" x="1288.01" y="2946.4471">selector: Selector</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="2958.583"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.4134" x="1288.01" y="2965.515">started: boolean {volatile}</text><line style="stroke:#181818;stroke-width:1;" x1="1269.01" x2="1678.9885" y1="2973.617" y2="2973.617"/><ellipse cx="1279.01" cy="2988.6509" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303.9109" x="1288.01" y="2992.5829">TchatsAppServer(port: int, workerThreads: int)</text><ellipse cx="1279.01" cy="3007.7189" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.0457" x="1288.01" y="3011.6508">start(): void</text><ellipse cx="1279.01" cy="3026.7868" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.4357" x="1288.01" y="3030.7188">stop(): void</text><ellipse cx="1279.01" cy="3045.8547" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="304.8069" x="1288.01" y="3049.7867">setPacketProcessor(pp: PacketProcessor): void</text><ellipse cx="1279.01" cy="3064.9226" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295.3429" x="1288.01" y="3068.8546">setClientIdGenerator(gen: IdGenerator): void</text><ellipse cx="1279.01" cy="3083.9905" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.9313" x="1288.01" y="3087.9225">sendPacket(pkt: Packet): void</text><ellipse cx="1279.01" cy="3103.0584" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.1272" x="1288.01" y="3106.9904">removeClient(clientId: int): void</text><ellipse cx="1279.01" cy="3122.1264" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224.0831" x="1288.01" y="3126.0583">isConnected(clientId: int): boolean</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="3138.1943"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.6532" x="1288.01" y="3145.1263">accept(key: SelectionKey): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="3157.2622"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.9413" x="1288.01" y="3164.1942">read(key: SelectionKey): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="3176.3301"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.1472" x="1288.01" y="3183.2621">write(key: SelectionKey): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="3195.398"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249.451" x="1288.01" y="3202.33">closeChannel(sc: SocketChannel): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1276.01" y="3214.4659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328.8587" x="1288.01" y="3221.3979">wakeupSendQueue(channel: SocketChannel): void</text></g><!--class ServerPacketHandler--><g class="entity" data-entity="ServerPacketHandler" data-source-line="295" data-uid="ent0057" id="entity_ServerPacketHandler"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="332.4588" x="768.77" y="3772.452"/><ellipse cx="866.0627" cy="3788.452" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M861.2345,3794.202 L864.5783,3782.0145 L867.7189,3782.0145 L871.0939,3794.202 L868.6252,3794.202 L867.8908,3791.1864 L864.3752,3791.1864 L863.6252,3794.202 L861.2345,3794.202 Z M865.6408,3786.1551 L864.8908,3789.1551 L867.4064,3789.1551 L866.6877,3786.1551 Q866.547,3785.577 866.422,3785.0301 Q866.297,3784.4676 866.1564,3783.8895 Q866.047,3784.4676 865.9064,3785.0301 Q865.7658,3785.577 865.6408,3786.1551 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="129.3735" x="886.5627" y="3793.884">ServerPacketHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="769.77" x2="1100.2288" y1="3804.452" y2="3804.452"/><polygon fill="none" points="779.77,3814.4859,783.77,3818.4859,779.77,3822.4859,775.77,3818.4859" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.6554" x="788.77" y="3823.4179">server: TchatsAppServer</text><line style="stroke:#181818;stroke-width:1;" x1="769.77" x2="1100.2288" y1="3831.5199" y2="3831.5199"/><ellipse cx="779.77" cy="3846.5539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306.4588" x="788.77" y="3850.4858">ServerPacketHandler(server: TchatsAppServer)</text><ellipse cx="779.77" cy="3865.6218" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="223.6352" x="788.77" y="3869.5538">handle(msg: ProtocolMessage): void</text><ellipse cx="779.77" cy="3884.6897" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="248.5971" x="788.77" y="3888.6217">canHandle(type: MessageType): boolean</text></g><!--class TextMessageHandler--><g class="entity" data-entity="TextMessageHandler" data-source-line="303" data-uid="ent0058" id="entity_TextMessageHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291.467" x="850.27" y="4080.662"/><ellipse cx="922.1108" cy="4096.662" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M921.5795,4103.5839 Q919.8295,4103.5839 918.6889,4102.8495 Q917.5639,4102.0995 917.0014,4100.7557 Q916.4545,4099.3964 916.4545,4097.5995 Q916.4545,4095.5682 917.1108,4094.1151 Q917.767,4092.662 919.0483,4091.8807 Q920.3295,4091.0995 922.2045,4091.0995 Q923.0951,4091.0995 923.767,4091.287 Q924.4389,4091.4589 925.1264,4091.8026 L924.3139,4093.8182 Q923.6889,4093.5057 923.142,4093.3807 Q922.6108,4093.2557 922.1264,4093.2557 Q920.9545,4093.2557 920.2514,4093.787 Q919.5483,4094.3182 919.2514,4095.2714 Q918.9545,4096.2245 918.9545,4097.4901 Q918.9545,4099.5057 919.6733,4100.4745 Q920.392,4101.4276 921.9858,4101.4276 Q922.5795,4101.4276 923.2045,4101.2714 Q923.8295,4101.1151 924.6576,4100.7401 L924.6576,4102.9589 Q923.9233,4103.2714 923.1264,4103.4276 Q922.3451,4103.5839 921.5795,4103.5839 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.2855" x="942.6108" y="4102.094">TextMessageHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="851.27" x2="1140.737" y1="4112.662" y2="4112.662"/><line style="stroke:#181818;stroke-width:1;" x1="851.27" x2="1140.737" y1="4120.662" y2="4120.662"/><ellipse cx="861.27" cy="4135.6959" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.0831" x="870.27" y="4139.6279">handle(msg: ProtocolMessage): void</text><ellipse cx="861.27" cy="4154.7639" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="870.27" y="4158.6958">canHandle(type: MessageType): boolean</text></g><!--class MediaMessageHandler--><g class="entity" data-entity="MediaMessageHandler" data-source-line="309" data-uid="ent0060" id="entity_MediaMessageHandler"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="503.0482" x="1176.48" y="4061.602"/><ellipse cx="1347.8464" cy="4077.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1347.3151,4084.5239 Q1345.5651,4084.5239 1344.4245,4083.7895 Q1343.2995,4083.0395 1342.737,4081.6957 Q1342.1901,4080.3364 1342.1901,4078.5395 Q1342.1901,4076.5082 1342.8464,4075.0551 Q1343.5026,4073.602 1344.7839,4072.8207 Q1346.0651,4072.0395 1347.9401,4072.0395 Q1348.8308,4072.0395 1349.5026,4072.227 Q1350.1745,4072.3989 1350.862,4072.7426 L1350.0495,4074.7582 Q1349.4245,4074.4457 1348.8776,4074.3207 Q1348.3464,4074.1957 1347.862,4074.1957 Q1346.6901,4074.1957 1345.987,4074.727 Q1345.2839,4075.2582 1344.987,4076.2114 Q1344.6901,4077.1645 1344.6901,4078.4301 Q1344.6901,4080.4457 1345.4089,4081.4145 Q1346.1276,4082.3676 1347.7214,4082.3676 Q1348.3151,4082.3676 1348.9401,4082.2114 Q1349.5651,4082.0551 1350.3933,4081.6801 L1350.3933,4083.8989 Q1349.6589,4084.2114 1348.862,4084.3676 Q1348.0808,4084.5239 1347.3151,4084.5239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.8154" x="1368.3464" y="4083.034">MediaMessageHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="1177.48" x2="1678.5282" y1="4093.602" y2="4093.602"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1184.48" y="4105.6359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191.8273" x="1196.48" y="4112.5679">mediaStorage: MediaStorage</text><line style="stroke:#181818;stroke-width:1;" x1="1177.48" x2="1678.5282" y1="4120.6699" y2="4120.6699"/><ellipse cx="1187.48" cy="4135.7039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="477.0482" x="1196.48" y="4139.6358">MediaMessageHandler(server: TchatsAppServer, storage: MediaStorage)</text><ellipse cx="1187.48" cy="4154.7718" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.0831" x="1196.48" y="4158.7038">handle(msg: ProtocolMessage): void</text><ellipse cx="1187.48" cy="4173.8397" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="1196.48" y="4177.7717">canHandle(type: MessageType): boolean</text></g><!--class ReactionHandler--><g class="entity" data-entity="ReactionHandler" data-source-line="317" data-uid="ent0062" id="entity_ReactionHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291.467" x="22.27" y="4080.662"/><ellipse cx="108.8807" cy="4096.662" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M108.3495,4103.5839 Q106.5995,4103.5839 105.4588,4102.8495 Q104.3338,4102.0995 103.7713,4100.7557 Q103.2245,4099.3964 103.2245,4097.5995 Q103.2245,4095.5682 103.8807,4094.1151 Q104.537,4092.662 105.8182,4091.8807 Q107.0995,4091.0995 108.9745,4091.0995 Q109.8651,4091.0995 110.537,4091.287 Q111.2088,4091.4589 111.8963,4091.8026 L111.0838,4093.8182 Q110.4588,4093.5057 109.912,4093.3807 Q109.3807,4093.2557 108.8963,4093.2557 Q107.7245,4093.2557 107.0213,4093.787 Q106.3182,4094.3182 106.0213,4095.2714 Q105.7245,4096.2245 105.7245,4097.4901 Q105.7245,4099.5057 106.4432,4100.4745 Q107.162,4101.4276 108.7557,4101.4276 Q109.3495,4101.4276 109.9745,4101.2714 Q110.5995,4101.1151 111.4276,4100.7401 L111.4276,4102.9589 Q110.6932,4103.2714 109.8963,4103.4276 Q109.1151,4103.5839 108.3495,4103.5839 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.7456" x="129.3807" y="4102.094">ReactionHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="23.27" x2="312.737" y1="4112.662" y2="4112.662"/><line style="stroke:#181818;stroke-width:1;" x1="23.27" x2="312.737" y1="4120.662" y2="4120.662"/><ellipse cx="33.27" cy="4135.6959" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.0831" x="42.27" y="4139.6279">handle(msg: ProtocolMessage): void</text><ellipse cx="33.27" cy="4154.7639" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="42.27" y="4158.6958">canHandle(type: MessageType): boolean</text></g><!--class GroupManagementHandler--><g class="entity" data-entity="GroupManagementHandler" data-source-line="323" data-uid="ent0064" id="entity_GroupManagementHandler"><rect fill="#F1F1F1" height="200.5433" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="465.5564" x="349.22" y="4023.462"/><ellipse cx="486.3775" cy="4039.462" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M485.8463,4046.3839 Q484.0963,4046.3839 482.9557,4045.6495 Q481.8307,4044.8995 481.2682,4043.5557 Q480.7213,4042.1964 480.7213,4040.3995 Q480.7213,4038.3682 481.3775,4036.9151 Q482.0338,4035.462 483.315,4034.6807 Q484.5963,4033.8995 486.4713,4033.8995 Q487.3619,4033.8995 488.0338,4034.087 Q488.7057,4034.2589 489.3932,4034.6026 L488.5807,4036.6182 Q487.9557,4036.3057 487.4088,4036.1807 Q486.8775,4036.0557 486.3932,4036.0557 Q485.2213,4036.0557 484.5182,4036.587 Q483.815,4037.1182 483.5182,4038.0714 Q483.2213,4039.0245 483.2213,4040.2901 Q483.2213,4042.3057 483.94,4043.2745 Q484.6588,4044.2276 486.2525,4044.2276 Q486.8463,4044.2276 487.4713,4044.0714 Q488.0963,4043.9151 488.9244,4043.5401 L488.9244,4045.7589 Q488.19,4046.0714 487.3932,4046.2276 Q486.6119,4046.3839 485.8463,4046.3839 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.7413" x="506.8775" y="4044.894">GroupManagementHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="350.22" x2="813.7764" y1="4055.462" y2="4055.462"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="357.22" y="4067.4959"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223.8172" x="369.22" y="4074.4279">groups: Map&lt;Integer, GroupInfo&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="357.22" y="4086.5639"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209.3832" x="369.22" y="4093.4958">groupIdGenerator: IdGenerator</text><line style="stroke:#181818;stroke-width:1;" x1="350.22" x2="813.7764" y1="4101.5978" y2="4101.5978"/><ellipse cx="360.22" cy="4116.6318" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.0831" x="369.22" y="4120.5638">handle(msg: ProtocolMessage): void</text><ellipse cx="360.22" cy="4135.6997" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="369.22" y="4139.6317">canHandle(type: MessageType): boolean</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="357.22" y="4151.7676"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287.5729" x="369.22" y="4158.6996">createGroup(adminId: int, name: String): int</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="357.22" y="4170.8355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="414.3845" x="369.22" y="4177.7675">addMember(groupId: int, memberId: int, requesterId: int): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="357.22" y="4189.9034"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="439.5564" x="369.22" y="4196.8354">removeMember(groupId: int, memberId: int, requesterId: int): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="357.22" y="4208.9714"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="314.1868" x="369.22" y="4215.9033">deleteGroup(groupId: int, requesterId: int): void</text></g><g class="entity" data-entity="GMN66" data-source-line="335" data-uid="ent0067" id="entity_GMN66"><path d="M1136.71,3811.882 L1136.71,3830.712 L1101.56,3834.712 L1136.71,3838.712 L1136.71,3857.294 A0,0 0 0 0 1136.71,3857.294 L1485.2843,3857.294 A0,0 0 0 0 1485.2843,3857.294 L1485.2843,3821.882 L1475.2843,3811.882 L1136.71,3811.882 A0,0 0 0 0 1136.71,3811.882" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1475.2843,3811.882 L1475.2843,3821.882 L1485.2843,3821.882 L1475.2843,3811.882" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="122.4731" x="1142.71" y="3830.779">Pattern: Command</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.5743" x="1142.71" y="3848.485">Encapsule les opérations de traitement des messages</text></g><!--class ServerPacketRouter--><g class="entity" data-entity="ServerPacketRouter" data-source-line="339" data-uid="ent0069" id="entity_ServerPacketRouter"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="344.3028" x="701.85" y="3530.972"/><ellipse cx="804.6586" cy="3546.972" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M804.1274,3553.8939 Q802.3774,3553.8939 801.2368,3553.1595 Q800.1118,3552.4095 799.5493,3551.0657 Q799.0024,3549.7064 799.0024,3547.9095 Q799.0024,3545.8782 799.6586,3544.4251 Q800.3149,3542.972 801.5961,3542.1907 Q802.8774,3541.4095 804.7524,3541.4095 Q805.643,3541.4095 806.3149,3541.597 Q806.9868,3541.7689 807.6743,3542.1126 L806.8618,3544.1282 Q806.2368,3543.8157 805.6899,3543.6907 Q805.1586,3543.5657 804.6743,3543.5657 Q803.5024,3543.5657 802.7993,3544.097 Q802.0961,3544.6282 801.7993,3545.5814 Q801.5024,3546.5345 801.5024,3547.8001 Q801.5024,3549.8157 802.2211,3550.7845 Q802.9399,3551.7376 804.5336,3551.7376 Q805.1274,3551.7376 805.7524,3551.5814 Q806.3774,3551.4251 807.2055,3551.0501 L807.2055,3553.2689 Q806.4711,3553.5814 805.6743,3553.7376 Q804.893,3553.8939 804.1274,3553.8939 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.1855" x="825.1586" y="3552.404">ServerPacketRouter</text><line style="stroke:#181818;stroke-width:0.5;" x1="702.85" x2="1045.1528" y1="3562.972" y2="3562.972"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="709.85" y="3575.0059"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.2831" x="721.85" y="3581.9379">handlers: List&lt;ServerPacketHandler&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="702.85" x2="1045.1528" y1="3590.0399" y2="3590.0399"/><ellipse cx="712.85" cy="3605.0739" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.5855" x="721.85" y="3609.0058">ServerPacketRouter()</text><ellipse cx="712.85" cy="3624.1418" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="318.3028" x="721.85" y="3628.0738">addHandler(handler: ServerPacketHandler): void</text><ellipse cx="712.85" cy="3643.2097" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.4874" x="721.85" y="3647.1417">process(pkt: Packet): void</text></g><!--class PacketProcessor--><g class="entity" data-entity="PacketProcessor" data-source-line="340" data-uid="ent0070" id="entity_PacketProcessor"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.0656" x="948.47" y="3356.242"/><ellipse cx="963.47" cy="3372.242" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M959.5013,3378.742 L959.5013,3377.0389 L961.8606,3376.7732 L961.8606,3368.5701 L959.5013,3368.3045 L959.5013,3366.6014 L966.6419,3366.6014 L966.6419,3368.3045 L964.22,3368.5701 L964.22,3376.7732 L966.6419,3377.0389 L966.6419,3378.742 L959.5013,3378.742 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="101.0656" x="977.47" y="3377.674">PacketProcessor</text><line style="stroke:#181818;stroke-width:0.5;" x1="949.47" x2="1080.5356" y1="3388.242" y2="3388.242"/><line style="stroke:#181818;stroke-width:0.5;" x1="949.47" x2="1080.5356" y1="3396.242" y2="3396.242"/></g><g class="entity" data-entity="GMN72" data-source-line="347" data-uid="ent0073" id="entity_GMN72"><path d="M448.44,3811.882 L448.44,3857.294 A0,0 0 0 0 448.44,3857.294 L733.5612,3857.294 A0,0 0 0 0 733.5612,3857.294 L733.5612,3821.882 L723.5612,3811.882 L721.7,3811.882 L717.7,3655.612 L713.7,3811.882 L448.44,3811.882 A0,0 0 0 0 448.44,3811.882" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M723.5612,3811.882 L723.5612,3821.882 L733.5612,3821.882 L723.5612,3811.882" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="203.9832" x="454.44" y="3830.779">Pattern: Chain of Responsibility</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264.1212" x="454.44" y="3848.485">Route les packets vers le handler approprié</text></g><!--class GroupInfo--><g class="entity" data-entity="GroupInfo" data-source-line="352" data-uid="ent0075" id="entity_GroupInfo"><rect fill="#F1F1F1" height="200.5433" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="270.2431" x="446.88" y="4379.342"/><ellipse cx="543.5567" cy="4395.342" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M543.0254,4402.2639 Q541.2754,4402.2639 540.1348,4401.5295 Q539.0098,4400.7795 538.4473,4399.4357 Q537.9004,4398.0764 537.9004,4396.2795 Q537.9004,4394.2482 538.5567,4392.7951 Q539.2129,4391.342 540.4942,4390.5607 Q541.7754,4389.7795 543.6504,4389.7795 Q544.541,4389.7795 545.2129,4389.967 Q545.8848,4390.1389 546.5723,4390.4826 L545.7598,4392.4982 Q545.1348,4392.1857 544.5879,4392.0607 Q544.0567,4391.9357 543.5723,4391.9357 Q542.4004,4391.9357 541.6973,4392.467 Q540.9942,4392.9982 540.6973,4393.9514 Q540.4004,4394.9045 540.4004,4396.1701 Q540.4004,4398.1857 541.1192,4399.1545 Q541.8379,4400.1076 543.4317,4400.1076 Q544.0254,4400.1076 544.6504,4399.9514 Q545.2754,4399.7951 546.1035,4399.4201 L546.1035,4401.6389 Q545.3692,4401.9514 544.5723,4402.1076 Q543.791,4402.2639 543.0254,4402.2639 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.3897" x="564.0567" y="4400.774">GroupInfo</text><line style="stroke:#181818;stroke-width:0.5;" x1="447.88" x2="716.1231" y1="4411.342" y2="4411.342"/><ellipse cx="457.88" cy="4426.3759" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.0155" x="466.88" y="4430.3079">groupId: int {final}</text><ellipse cx="457.88" cy="4445.4439" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.7095" x="466.88" y="4449.3758">adminId: int {final}</text><ellipse cx="457.88" cy="4464.5118" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.7494" x="466.88" y="4468.4438">members: Set&lt;Integer&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="447.88" x2="716.1231" y1="4476.5457" y2="4476.5457"/><ellipse cx="457.88" cy="4491.5797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.2551" x="466.88" y="4495.5117">GroupInfo(groupId: int, adminId: int)</text><ellipse cx="457.88" cy="4510.6476" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219.0712" x="466.88" y="4514.5796">addMember(memberId: int): void</text><ellipse cx="457.88" cy="4529.7155" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244.2431" x="466.88" y="4533.6475">removeMember(memberId: int): void</text><ellipse cx="457.88" cy="4548.7834" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202.7472" x="466.88" y="4552.7154">isMember(userId: int): boolean</text><ellipse cx="457.88" cy="4567.8514" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.6853" x="466.88" y="4571.7833">isAdmin(userId: int): boolean</text></g><!--class MediaStorage--><g class="entity" data-entity="MediaStorage" data-source-line="365" data-uid="ent0076" id="entity_MediaStorage"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="327.4469" x="1264.28" y="4417.482"/><ellipse cx="1380.4306" cy="4433.482" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1376.4619,4439.982 L1376.4619,4438.2789 L1378.8212,4438.0132 L1378.8212,4429.8101 L1376.4619,4429.5445 L1376.4619,4427.8414 L1383.6025,4427.8414 L1383.6025,4429.5445 L1381.1806,4429.8101 L1381.1806,4438.0132 L1383.6025,4438.2789 L1383.6025,4439.982 L1376.4619,4439.982 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="86.6457" x="1400.9306" y="4438.914">MediaStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="1265.28" x2="1590.7269" y1="4449.482" y2="4449.482"/><line style="stroke:#181818;stroke-width:0.5;" x1="1265.28" x2="1590.7269" y1="4457.482" y2="4457.482"/><ellipse cx="1275.28" cy="4472.5159" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301.4469" x="1284.28" y="4476.4479">storeMedia(mediaId: String, data: byte[]): void</text><ellipse cx="1275.28" cy="4491.5839" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246.6091" x="1284.28" y="4495.5158">retrieveMedia(mediaId: String): byte[]</text><ellipse cx="1275.28" cy="4510.6518" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.4351" x="1284.28" y="4514.5838">deleteMedia(mediaId: String): void</text><ellipse cx="1275.28" cy="4529.7197" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.9412" x="1284.28" y="4533.6517">exists(mediaId: String): boolean</text></g><!--class FileSystemMediaStorage--><g class="entity" data-entity="FileSystemMediaStorage" data-source-line="372" data-uid="ent0077" id="entity_FileSystemMediaStorage"><rect fill="#F1F1F1" height="162.4075" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="327.4469" x="1264.28" y="4735.232"/><ellipse cx="1342.7637" cy="4751.232" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1342.2325,4758.1539 Q1340.4825,4758.1539 1339.3419,4757.4195 Q1338.2169,4756.6695 1337.6544,4755.3257 Q1337.1075,4753.9664 1337.1075,4752.1695 Q1337.1075,4750.1382 1337.7637,4748.6851 Q1338.42,4747.232 1339.7012,4746.4507 Q1340.9825,4745.6695 1342.8575,4745.6695 Q1343.7481,4745.6695 1344.42,4745.857 Q1345.0919,4746.0289 1345.7794,4746.3726 L1344.9669,4748.3882 Q1344.3419,4748.0757 1343.795,4747.9507 Q1343.2637,4747.8257 1342.7794,4747.8257 Q1341.6075,4747.8257 1340.9044,4748.357 Q1340.2012,4748.8882 1339.9044,4749.8414 Q1339.6075,4750.7945 1339.6075,4752.0601 Q1339.6075,4754.0757 1340.3262,4755.0445 Q1341.045,4755.9976 1342.6387,4755.9976 Q1343.2325,4755.9976 1343.8575,4755.8414 Q1344.4825,4755.6851 1345.3106,4755.3101 L1345.3106,4757.5289 Q1344.5762,4757.8414 1343.7794,4757.9976 Q1342.9981,4758.1539 1342.2325,4758.1539 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.9794" x="1363.2637" y="4756.664">FileSystemMediaStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="1265.28" x2="1590.7269" y1="4767.232" y2="4767.232"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1272.28" y="4779.2659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.1017" x="1284.28" y="4786.1979">baseDir: Path</text><line style="stroke:#181818;stroke-width:1;" x1="1265.28" x2="1590.7269" y1="4794.2999" y2="4794.2999"/><ellipse cx="1275.28" cy="4809.3339" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258.481" x="1284.28" y="4813.2658">FileSystemMediaStorage(baseDir: Path)</text><ellipse cx="1275.28" cy="4828.4018" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301.4469" x="1284.28" y="4832.3338">storeMedia(mediaId: String, data: byte[]): void</text><ellipse cx="1275.28" cy="4847.4697" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246.6091" x="1284.28" y="4851.4017">retrieveMedia(mediaId: String): byte[]</text><ellipse cx="1275.28" cy="4866.5376" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.4351" x="1284.28" y="4870.4696">deleteMedia(mediaId: String): void</text><ellipse cx="1275.28" cy="4885.6055" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.9412" x="1284.28" y="4889.5375">exists(mediaId: String): boolean</text></g><!--class User--><g class="entity" data-entity="User" data-source-line="396" data-uid="ent0086" id="entity_User"><rect fill="#F1F1F1" height="238.6792" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="426.8465" x="7131.58" y="925.392"/><ellipse cx="7325.4443" cy="941.392" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M7324.9131,948.3139 Q7323.1631,948.3139 7322.0224,947.5795 Q7320.8974,946.8295 7320.3349,945.4857 Q7319.7881,944.1264 7319.7881,942.3295 Q7319.7881,940.2982 7320.4443,938.8451 Q7321.1006,937.392 7322.3818,936.6107 Q7323.6631,935.8295 7325.5381,935.8295 Q7326.4287,935.8295 7327.1006,936.017 Q7327.7724,936.1889 7328.4599,936.5326 L7327.6474,938.5482 Q7327.0224,938.2357 7326.4756,938.1107 Q7325.9443,937.9857 7325.4599,937.9857 Q7324.2881,937.9857 7323.5849,938.517 Q7322.8818,939.0482 7322.5849,940.0014 Q7322.2881,940.9545 7322.2881,942.2201 Q7322.2881,944.2357 7323.0068,945.2045 Q7323.7256,946.1576 7325.3193,946.1576 Q7325.9131,946.1576 7326.5381,946.0014 Q7327.1631,945.8451 7327.9912,945.4701 L7327.9912,947.6889 Q7327.2568,948.0014 7326.4599,948.1576 Q7325.6787,948.3139 7324.9131,948.3139 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.6179" x="7345.9443" y="946.824">User</text><line style="stroke:#181818;stroke-width:0.5;" x1="7132.58" x2="7557.4265" y1="957.392" y2="957.392"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="7139.58" y="969.4259"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.9276" x="7151.58" y="976.3579">userId: int {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="7139.58" y="988.4939"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.7316" x="7151.58" y="995.4258">pseudo: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="7139.58" y="1007.5618"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.2875" x="7151.58" y="1014.4938">publicKey: PublicKey</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="7139.58" y="1026.6297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.4954" x="7151.58" y="1033.5617">privateKey: PrivateKey</text><line style="stroke:#181818;stroke-width:1;" x1="7132.58" x2="7557.4265" y1="1041.6636" y2="1041.6636"/><ellipse cx="7142.58" cy="1056.6976" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209.2432" x="7151.58" y="1060.6296">User(userId: int, pseudo: String)</text><ellipse cx="7142.58" cy="1075.7655" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.6436" x="7151.58" y="1079.6975">getUserId(): int</text><ellipse cx="7142.58" cy="1094.8334" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.5515" x="7151.58" y="1098.7654">getPseudo(): String</text><ellipse cx="7142.58" cy="1113.9014" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.7872" x="7151.58" y="1117.8333">setPseudo(pseudo: String): void</text><ellipse cx="7142.58" cy="1132.9693" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.1073" x="7151.58" y="1136.9013">getPublicKey(): PublicKey</text><ellipse cx="7142.58" cy="1152.0372" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="400.8465" x="7151.58" y="1155.9692">setKeyPair(publicKey: PublicKey, privateKey: PrivateKey): void</text></g><!--class Contact--><g class="entity" data-entity="Contact" data-source-line="411" data-uid="ent0087" id="entity_Contact"><rect fill="#F1F1F1" height="257.7471" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="274.7651" x="6155.62" y="1252.672"/><ellipse cx="6263.4266" cy="1268.672" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6262.8954,1275.5939 Q6261.1454,1275.5939 6260.0048,1274.8595 Q6258.8798,1274.1095 6258.3173,1272.7657 Q6257.7704,1271.4064 6257.7704,1269.6095 Q6257.7704,1267.5782 6258.4266,1266.1251 Q6259.0829,1264.672 6260.3641,1263.8907 Q6261.6454,1263.1095 6263.5204,1263.1095 Q6264.411,1263.1095 6265.0829,1263.297 Q6265.7548,1263.4689 6266.4423,1263.8126 L6265.6298,1265.8282 Q6265.0048,1265.5157 6264.4579,1265.3907 Q6263.9266,1265.2657 6263.4423,1265.2657 Q6262.2704,1265.2657 6261.5673,1265.797 Q6260.8641,1266.3282 6260.5673,1267.2814 Q6260.2704,1268.2345 6260.2704,1269.5001 Q6260.2704,1271.5157 6260.9891,1272.4845 Q6261.7079,1273.4376 6263.3016,1273.4376 Q6263.8954,1273.4376 6264.5204,1273.2814 Q6265.1454,1273.1251 6265.9735,1272.7501 L6265.9735,1274.9689 Q6265.2391,1275.2814 6264.4423,1275.4376 Q6263.661,1275.5939 6262.8954,1275.5939 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.6518" x="6283.9266" y="1274.104">Contact</text><line style="stroke:#181818;stroke-width:0.5;" x1="6156.62" x2="6429.3851" y1="1284.672" y2="1284.672"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6163.62" y="1296.7059"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.4155" x="6175.62" y="1303.6379">contactId: int {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6163.62" y="1315.7739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.7316" x="6175.62" y="1322.7058">pseudo: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6163.62" y="1334.8418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.2875" x="6175.62" y="1341.7738">publicKey: PublicKey</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="6163.62" y="1353.9097"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.4656" x="6175.62" y="1360.8417">lastSeen: Instant</text><line style="stroke:#181818;stroke-width:1;" x1="6156.62" x2="6429.3851" y1="1368.9436" y2="1368.9436"/><ellipse cx="6166.62" cy="1383.9776" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248.7651" x="6175.62" y="1387.9096">Contact(contactId: int, pseudo: String)</text><ellipse cx="6166.62" cy="1403.0455" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.6776" x="6175.62" y="1406.9775">getContactId(): int</text><ellipse cx="6166.62" cy="1422.1134" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.5515" x="6175.62" y="1426.0454">getPseudo(): String</text><ellipse cx="6166.62" cy="1441.1814" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234.8071" x="6175.62" y="1445.1133">updatePseudo(pseudo: String): void</text><ellipse cx="6166.62" cy="1460.2493" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3514" x="6175.62" y="1464.1813">updateLastSeen(): void</text><ellipse cx="6166.62" cy="1479.3172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.1073" x="6175.62" y="1483.2492">getPublicKey(): PublicKey</text><ellipse cx="6166.62" cy="1498.3851" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219.9111" x="6175.62" y="1502.3171">setPublicKey(key: PublicKey): void</text></g><!--class Group--><g class="entity" data-entity="Group" data-source-line="427" data-uid="ent0088" id="entity_Group"><rect fill="#F1F1F1" height="314.9508" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="333.2429" x="5241.38" y="1224.072"/><ellipse cx="5382.8985" cy="1240.072" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5382.3673,1246.9939 Q5380.6173,1246.9939 5379.4766,1246.2595 Q5378.3516,1245.5095 5377.7891,1244.1657 Q5377.2423,1242.8064 5377.2423,1241.0095 Q5377.2423,1238.9782 5377.8985,1237.5251 Q5378.5548,1236.072 5379.836,1235.2907 Q5381.1173,1234.5095 5382.9923,1234.5095 Q5383.8829,1234.5095 5384.5548,1234.697 Q5385.2266,1234.8689 5385.9141,1235.2126 L5385.1016,1237.2282 Q5384.4766,1236.9157 5383.9298,1236.7907 Q5383.3985,1236.6657 5382.9141,1236.6657 Q5381.7423,1236.6657 5381.0391,1237.197 Q5380.336,1237.7282 5380.0391,1238.6814 Q5379.7423,1239.6345 5379.7423,1240.9001 Q5379.7423,1242.9157 5380.461,1243.8845 Q5381.1798,1244.8376 5382.7735,1244.8376 Q5383.3673,1244.8376 5383.9923,1244.6814 Q5384.6173,1244.5251 5385.4454,1244.1501 L5385.4454,1246.3689 Q5384.711,1246.6814 5383.9141,1246.8376 Q5383.1329,1246.9939 5382.3673,1246.9939 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.7058" x="5403.3985" y="1245.504">Group</text><line style="stroke:#181818;stroke-width:0.5;" x1="5242.38" x2="5573.6229" y1="1256.072" y2="1256.072"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5249.38" y="1268.1059"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.0155" x="5261.38" y="1275.0379">groupId: int {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5249.38" y="1287.1739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2797" x="5261.38" y="1294.1058">name: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5249.38" y="1306.2418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.7095" x="5261.38" y="1313.1738">adminId: int {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5249.38" y="1325.3097"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.7494" x="5261.38" y="1332.2417">members: Set&lt;Integer&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="5242.38" x2="5573.6229" y1="1340.3436" y2="1340.3436"/><ellipse cx="5252.38" cy="1355.3776" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="307.2429" x="5261.38" y="1359.3096">Group(groupId: int, name: String, adminId: int)</text><ellipse cx="5252.38" cy="1374.4455" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.7316" x="5261.38" y="1378.3775">getGroupId(): int</text><ellipse cx="5252.38" cy="1393.5134" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2276" x="5261.38" y="1397.4454">getName(): String</text><ellipse cx="5252.38" cy="1412.5814" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.0113" x="5261.38" y="1416.5133">setName(name: String): void</text><ellipse cx="5252.38" cy="1431.6493" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.9356" x="5261.38" y="1435.5813">getAdminId(): int</text><ellipse cx="5252.38" cy="1450.7172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.3173" x="5261.38" y="1454.6492">getMembers(): Set&lt;Integer&gt;</text><ellipse cx="5252.38" cy="1469.7851" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219.0712" x="5261.38" y="1473.7171">addMember(memberId: int): void</text><ellipse cx="5252.38" cy="1488.853" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244.2431" x="5261.38" y="1492.785">removeMember(memberId: int): void</text><ellipse cx="5252.38" cy="1507.9209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.6853" x="5261.38" y="1511.8529">isAdmin(userId: int): boolean</text><ellipse cx="5252.38" cy="1526.9889" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202.7472" x="5261.38" y="1530.9208">isMember(userId: int): boolean</text></g><!--class Message--><g class="entity" data-entity="Message" data-source-line="446" data-uid="ent0089" id="entity_Message"><rect fill="#F1F1F1" height="505.63" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="426.2306" x="5651.88" y="1599.022"/><ellipse cx="5831.5624" cy="1615.022" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5831.0311,1621.9439 Q5829.2811,1621.9439 5828.1405,1621.2095 Q5827.0155,1620.4595 5826.453,1619.1157 Q5825.9061,1617.7564 5825.9061,1615.9595 Q5825.9061,1613.9282 5826.5624,1612.4751 Q5827.2186,1611.022 5828.4999,1610.2407 Q5829.7811,1609.4595 5831.6561,1609.4595 Q5832.5468,1609.4595 5833.2186,1609.647 Q5833.8905,1609.8189 5834.578,1610.1626 L5833.7655,1612.1782 Q5833.1405,1611.8657 5832.5936,1611.7407 Q5832.0624,1611.6157 5831.578,1611.6157 Q5830.4061,1611.6157 5829.703,1612.147 Q5828.9999,1612.6782 5828.703,1613.6314 Q5828.4061,1614.5845 5828.4061,1615.8501 Q5828.4061,1617.8657 5829.1249,1618.8345 Q5829.8436,1619.7876 5831.4374,1619.7876 Q5832.0311,1619.7876 5832.6561,1619.6314 Q5833.2811,1619.4751 5834.1093,1619.1001 L5834.1093,1621.3189 Q5833.3749,1621.6314 5832.578,1621.7876 Q5831.7968,1621.9439 5831.0311,1621.9439 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3658" x="5852.0624" y="1620.454">Message</text><line style="stroke:#181818;stroke-width:0.5;" x1="5652.88" x2="6077.1106" y1="1631.022" y2="1631.022"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5659.88" y="1643.0559"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.7274" x="5671.88" y="1649.9879">messageId: String {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5659.88" y="1662.1239"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.8678" x="5671.88" y="1669.0558">from: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5659.88" y="1681.1918"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.2339" x="5671.88" y="1688.1238">to: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5659.88" y="1700.2597"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.2856" x="5671.88" y="1707.1917">content: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5659.88" y="1719.3276"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.9014" x="5671.88" y="1726.2596">timestamp: Instant {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5659.88" y="1738.3955"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.3416" x="5671.88" y="1745.3275">isRead: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5659.88" y="1757.4634"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.4376" x="5671.88" y="1764.3954">replyToId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5659.88" y="1776.5314"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245.3911" x="5671.88" y="1783.4633">reactions: Map&lt;String, Set&lt;Integer&gt;&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5659.88" y="1795.5993"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.0954" x="5671.88" y="1802.5313">mediaAttachment: Media</text><line style="stroke:#181818;stroke-width:1;" x1="5652.88" x2="6077.1106" y1="1810.6332" y2="1810.6332"/><ellipse cx="5662.88" cy="1825.6672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="400.2306" x="5671.88" y="1829.5992">Message(messageId: String, from: int, to: int, content: String)</text><ellipse cx="5662.88" cy="1844.7351" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.4695" x="5671.88" y="1848.6671">getMessageId(): String</text><ellipse cx="5662.88" cy="1863.803" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.2777" x="5671.88" y="1867.735">getFrom(): int</text><ellipse cx="5662.88" cy="1882.8709" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.9237" x="5671.88" y="1886.8029">getTo(): int</text><ellipse cx="5662.88" cy="1901.9389" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.3735" x="5671.88" y="1905.8708">getContent(): String</text><ellipse cx="5662.88" cy="1921.0068" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.7654" x="5671.88" y="1924.9388">getTimestamp(): Instant</text><ellipse cx="5662.88" cy="1940.0747" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.5175" x="5671.88" y="1944.0067">markAsRead(): void</text><ellipse cx="5662.88" cy="1959.1426" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.7416" x="5671.88" y="1963.0746">isRead(): boolean</text><ellipse cx="5662.88" cy="1978.2105" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234.3731" x="5671.88" y="1982.1425">setReplyTo(messageId: String): void</text><ellipse cx="5662.88" cy="1997.2784" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.3235" x="5671.88" y="2001.2104">getReplyToId(): String</text><ellipse cx="5662.88" cy="2016.3464" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="283.5969" x="5671.88" y="2020.2783">addReaction(emoji: String, userId: int): void</text><ellipse cx="5662.88" cy="2035.4143" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="308.7688" x="5671.88" y="2039.3463">removeReaction(emoji: String, userId: int): void</text><ellipse cx="5662.88" cy="2054.4822" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="278.2769" x="5671.88" y="2058.4142">getReactions(): Map&lt;String, Set&lt;Integer&gt;&gt;</text><ellipse cx="5662.88" cy="2073.5501" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="270.017" x="5671.88" y="2077.4821">setMediaAttachment(media: Media): void</text><ellipse cx="5662.88" cy="2092.618" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.6633" x="5671.88" y="2096.55">getMediaAttachment(): Media</text></g><g class="entity" data-entity="GMN90" data-source-line="474" data-uid="ent0091" id="entity_GMN90"><path d="M6112.62,1820.272 L6112.62,1847.712 L6078.49,1851.712 L6112.62,1855.712 L6112.62,1883.39 A0,0 0 0 0 6112.62,1883.39 L6455.3702,1883.39 A0,0 0 0 0 6455.3702,1883.39 L6455.3702,1830.272 L6445.3702,1820.272 L6112.62,1820.272 A0,0 0 0 0 6112.62,1820.272" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M6445.3702,1820.272 L6445.3702,1830.272 L6455.3702,1830.272 L6445.3702,1820.272" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="152.0091" x="6118.62" y="1839.169">ID unique généré client</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321.7502" x="6118.62" y="1856.875">messageId = SHA-256(userId + timestamp + counter)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.3912" x="6118.62" y="1874.581">Permet réponses, réactions, etc.</text></g><!--class Media--><g class="entity" data-entity="Media" data-source-line="480" data-uid="ent0093" id="entity_Media"><rect fill="#F1F1F1" height="143.3396" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174.8474" x="5654.58" y="2164.652"/><ellipse cx="5718.5388" cy="2180.652" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5714.57,2187.152 L5714.57,2185.4489 L5716.9294,2185.1832 L5716.9294,2176.9801 L5714.57,2176.7145 L5714.57,2175.0114 L5721.7107,2175.0114 L5721.7107,2176.7145 L5719.2888,2176.9801 L5719.2888,2185.1832 L5721.7107,2185.4489 L5721.7107,2187.152 L5714.57,2187.152 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="38.4299" x="5739.0388" y="2186.084">Media</text><line style="stroke:#181818;stroke-width:0.5;" x1="5655.58" x2="5828.4274" y1="2196.652" y2="2196.652"/><line style="stroke:#181818;stroke-width:0.5;" x1="5655.58" x2="5828.4274" y1="2204.652" y2="2204.652"/><ellipse cx="5665.58" cy="2219.6859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7735" x="5674.58" y="2223.6179">getMediaId(): String</text><ellipse cx="5665.58" cy="2238.7539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.8474" x="5674.58" y="2242.6858">getMediaType(): String</text><ellipse cx="5665.58" cy="2257.8218" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.7814" x="5674.58" y="2261.7538">getThumbnail(): byte[]</text><ellipse cx="5665.58" cy="2276.8897" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.8895" x="5674.58" y="2280.8217">getContent(): byte[]</text><ellipse cx="5665.58" cy="2295.9576" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.4495" x="5674.58" y="2299.8896">isLoaded(): boolean</text></g><g class="entity" data-entity="GMN94" data-source-line="488" data-uid="ent0095" id="entity_GMN94"><path d="M5447.11,1829.132 L5447.11,1874.544 L5616.8951,1874.544 L5616.8951,1839.132 L5606.8951,1829.132 L5447.11,1829.132" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M5606.8951,1829.132 L5606.8951,1839.132 L5616.8951,1839.132 L5606.8951,1829.132" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="93.1451" x="5453.11" y="1848.029">Pattern: Proxy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.7851" x="5453.11" y="1865.735">Lazy loading des médias</text></g><!--class RealMedia--><g class="entity" data-entity="RealMedia" data-source-line="492" data-uid="ent0097" id="entity_RealMedia"><rect fill="#F1F1F1" height="238.6792" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="434.2105" x="5369.89" y="2847.812"/><ellipse cx="5548.3754" cy="2863.812" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5547.8441,2870.7339 Q5546.0941,2870.7339 5544.9535,2869.9995 Q5543.8285,2869.2495 5543.266,2867.9057 Q5542.7191,2866.5464 5542.7191,2864.7495 Q5542.7191,2862.7182 5543.3754,2861.2651 Q5544.0316,2859.812 5545.3129,2859.0307 Q5546.5941,2858.2495 5548.4691,2858.2495 Q5549.3597,2858.2495 5550.0316,2858.437 Q5550.7035,2858.6089 5551.391,2858.9526 L5550.5785,2860.9682 Q5549.9535,2860.6557 5549.4066,2860.5307 Q5548.8754,2860.4057 5548.391,2860.4057 Q5547.2191,2860.4057 5546.516,2860.937 Q5545.8129,2861.4682 5545.516,2862.4214 Q5545.2191,2863.3745 5545.2191,2864.6401 Q5545.2191,2866.6557 5545.9379,2867.6245 Q5546.6566,2868.5776 5548.2504,2868.5776 Q5548.8441,2868.5776 5549.4691,2868.4214 Q5550.0941,2868.2651 5550.9222,2867.8901 L5550.9222,2870.1089 Q5550.1879,2870.4214 5549.391,2870.5776 Q5548.6097,2870.7339 5547.8441,2870.7339 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.7397" x="5568.8754" y="2869.244">RealMedia</text><line style="stroke:#181818;stroke-width:0.5;" x1="5370.89" x2="5803.1005" y1="2879.812" y2="2879.812"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5377.89" y="2891.8459"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.2056" x="5389.89" y="2898.7779">mediaId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5377.89" y="2910.9139"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.2795" x="5389.89" y="2917.8458">mediaType: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5377.89" y="2929.9818"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.0916" x="5389.89" y="2936.9138">thumbnail: byte[]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5377.89" y="2949.0497"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.8016" x="5389.89" y="2955.9817">content: byte[]</text><line style="stroke:#181818;stroke-width:1;" x1="5370.89" x2="5803.1005" y1="2964.0836" y2="2964.0836"/><ellipse cx="5380.89" cy="2979.1176" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="408.2105" x="5389.89" y="2983.0496">RealMedia(mediaId: String, mediaType: String, content: byte[])</text><ellipse cx="5380.89" cy="2998.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7735" x="5389.89" y="3002.1175">getMediaId(): String</text><ellipse cx="5380.89" cy="3017.2534" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.8474" x="5389.89" y="3021.1854">getMediaType(): String</text><ellipse cx="5380.89" cy="3036.3214" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.7814" x="5389.89" y="3040.2533">getThumbnail(): byte[]</text><ellipse cx="5380.89" cy="3055.3893" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.8895" x="5389.89" y="3059.3213">getContent(): byte[]</text><ellipse cx="5380.89" cy="3074.4572" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.4495" x="5389.89" y="3078.3892">isLoaded(): boolean</text></g><!--class MediaProxy--><g class="entity" data-entity="MediaProxy" data-source-line="506" data-uid="ent0099" id="entity_MediaProxy"><rect fill="#F1F1F1" height="276.815" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="548.702" x="5622.65" y="2367.992"/><ellipse cx="5853.7822" cy="2383.992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5853.2509,2390.9139 Q5851.5009,2390.9139 5850.3603,2390.1795 Q5849.2353,2389.4295 5848.6728,2388.0857 Q5848.1259,2386.7264 5848.1259,2384.9295 Q5848.1259,2382.8982 5848.7822,2381.4451 Q5849.4384,2379.992 5850.7197,2379.2107 Q5852.0009,2378.4295 5853.8759,2378.4295 Q5854.7665,2378.4295 5855.4384,2378.617 Q5856.1103,2378.7889 5856.7978,2379.1326 L5855.9853,2381.1482 Q5855.3603,2380.8357 5854.8134,2380.7107 Q5854.2822,2380.5857 5853.7978,2380.5857 Q5852.6259,2380.5857 5851.9228,2381.117 Q5851.2197,2381.6482 5850.9228,2382.6014 Q5850.6259,2383.5545 5850.6259,2384.8201 Q5850.6259,2386.8357 5851.3447,2387.8045 Q5852.0634,2388.7576 5853.6572,2388.7576 Q5854.2509,2388.7576 5854.8759,2388.6014 Q5855.5009,2388.4451 5856.329,2388.0701 L5856.329,2390.2889 Q5855.5947,2390.6014 5854.7978,2390.7576 Q5854.0165,2390.9139 5853.2509,2390.9139 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.9377" x="5874.2822" y="2389.424">MediaProxy</text><line style="stroke:#181818;stroke-width:0.5;" x1="5623.65" x2="6170.352" y1="2399.992" y2="2399.992"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5630.65" y="2412.0259"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.2056" x="5642.65" y="2418.9579">mediaId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5630.65" y="2431.0939"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.2795" x="5642.65" y="2438.0258">mediaType: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5630.65" y="2450.1618"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.0916" x="5642.65" y="2457.0938">thumbnail: byte[]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5630.65" y="2469.2297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.9454" x="5642.65" y="2476.1617">realMedia: RealMedia</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5630.65" y="2488.2976"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.6117" x="5642.65" y="2495.2296">client: Client</text><line style="stroke:#181818;stroke-width:1;" x1="5623.65" x2="6170.352" y1="2503.3316" y2="2503.3316"/><ellipse cx="5633.65" cy="2518.3655" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="522.702" x="5642.65" y="2522.2975">MediaProxy(mediaId: String, mediaType: String, thumbnail: byte[], client: Client)</text><ellipse cx="5633.65" cy="2537.4334" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7735" x="5642.65" y="2541.3654">getMediaId(): String</text><ellipse cx="5633.65" cy="2556.5014" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.8474" x="5642.65" y="2560.4333">getMediaType(): String</text><ellipse cx="5633.65" cy="2575.5693" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.7814" x="5642.65" y="2579.5013">getThumbnail(): byte[]</text><ellipse cx="5633.65" cy="2594.6372" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.8895" x="5642.65" y="2598.5692">getContent(): byte[]</text><ellipse cx="5633.65" cy="2613.7051" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.4495" x="5642.65" y="2617.6371">isLoaded(): boolean</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5630.65" y="2629.773"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.8116" x="5642.65" y="2636.705">loadMedia(): void</text></g><!--class Client--><g class="entity" data-entity="Client" data-source-line="523" data-uid="ent0102" id="entity_Client"><rect fill="#F1F1F1" height="276.815" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="322.1969" x="5838.9" y="2828.742"/><ellipse cx="5976.9115" cy="2844.742" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5976.3803,2851.6639 Q5974.6303,2851.6639 5973.4897,2850.9295 Q5972.3647,2850.1795 5971.8022,2848.8357 Q5971.2553,2847.4764 5971.2553,2845.6795 Q5971.2553,2843.6482 5971.9115,2842.1951 Q5972.5678,2840.742 5973.849,2839.9607 Q5975.1303,2839.1795 5977.0053,2839.1795 Q5977.8959,2839.1795 5978.5678,2839.367 Q5979.2397,2839.5389 5979.9272,2839.8826 L5979.1147,2841.8982 Q5978.4897,2841.5857 5977.9428,2841.4607 Q5977.4115,2841.3357 5976.9272,2841.3357 Q5975.7553,2841.3357 5975.0522,2841.867 Q5974.349,2842.3982 5974.0522,2843.3514 Q5973.7553,2844.3045 5973.7553,2845.5701 Q5973.7553,2847.5857 5974.474,2848.5545 Q5975.1928,2849.5076 5976.7865,2849.5076 Q5977.3803,2849.5076 5978.0053,2849.3514 Q5978.6303,2849.1951 5979.4584,2848.8201 L5979.4584,2851.0389 Q5978.724,2851.3514 5977.9272,2851.5076 Q5977.1459,2851.6639 5976.3803,2851.6639 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.6738" x="5997.4115" y="2850.174">Client</text><line style="stroke:#181818;stroke-width:0.5;" x1="5839.9" x2="6160.0969" y1="2860.742" y2="2860.742"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5846.9" y="2872.7759"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.6117" x="5858.9" y="2879.7079">clientId: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5846.9" y="2891.8439"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.4717" x="5858.9" y="2898.7758">cnx: Socket</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5846.9" y="2910.9118"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.0053" x="5858.9" y="2917.8438">processor: PacketProcessor</text><line style="stroke:#181818;stroke-width:1;" x1="5839.9" x2="6160.0969" y1="2925.9457" y2="2925.9457"/><ellipse cx="5849.9" cy="2940.9797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.0738" x="5858.9" y="2944.9117">Client()</text><ellipse cx="5849.9" cy="2960.0476" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.6855" x="5858.9" y="2963.9796">Client(clientId: int)</text><ellipse cx="5849.9" cy="2979.1155" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257.207" x="5858.9" y="2983.0475">connect(host: String, port: int): boolean</text><ellipse cx="5849.9" cy="2998.1834" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.6875" x="5858.9" y="3002.1154">disconnect(): void</text><ellipse cx="5849.9" cy="3017.2514" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216.6912" x="5858.9" y="3021.1833">sendPacket(pkt: Packet): boolean</text><ellipse cx="5849.9" cy="3036.3193" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="296.1969" x="5858.9" y="3040.2513">setPacketProcessor(p: PacketProcessor): void</text><ellipse cx="5849.9" cy="3055.3872" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.4714" x="5858.9" y="3059.3192">isConnected(): boolean</text><ellipse cx="5849.9" cy="3074.4551" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.6996" x="5858.9" y="3078.3871">getClientId(): int</text><ellipse cx="5849.9" cy="3093.523" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246.1751" x="5858.9" y="3097.455">requestMedia(mediaId: String): byte[]</text></g><!--class Conversation--><g class="entity" data-entity="Conversation" data-source-line="527" data-uid="ent0105" id="entity_Conversation"><rect fill="#F1F1F1" height="257.7471" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="510.5103" x="5609.74" y="1252.672"/><ellipse cx="5817.1913" cy="1268.672" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5816.6601,1275.5939 Q5814.9101,1275.5939 5813.7694,1274.8595 Q5812.6444,1274.1095 5812.0819,1272.7657 Q5811.5351,1271.4064 5811.5351,1269.6095 Q5811.5351,1267.5782 5812.1913,1266.1251 Q5812.8476,1264.672 5814.1288,1263.8907 Q5815.4101,1263.1095 5817.2851,1263.1095 Q5818.1757,1263.1095 5818.8476,1263.297 Q5819.5194,1263.4689 5820.2069,1263.8126 L5819.3944,1265.8282 Q5818.7694,1265.5157 5818.2226,1265.3907 Q5817.6913,1265.2657 5817.2069,1265.2657 Q5816.0351,1265.2657 5815.3319,1265.797 Q5814.6288,1266.3282 5814.3319,1267.2814 Q5814.0351,1268.2345 5814.0351,1269.5001 Q5814.0351,1271.5157 5814.7538,1272.4845 Q5815.4726,1273.4376 5817.0663,1273.4376 Q5817.6601,1273.4376 5818.2851,1273.2814 Q5818.9101,1273.1251 5819.7382,1272.7501 L5819.7382,1274.9689 Q5819.0038,1275.2814 5818.2069,1275.4376 Q5817.4257,1275.5939 5816.6601,1275.5939 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1077" x="5837.6913" y="1274.104">Conversation</text><line style="stroke:#181818;stroke-width:0.5;" x1="5610.74" x2="6119.2503" y1="1284.672" y2="1284.672"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5617.74" y="1296.7059"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165.8714" x="5629.74" y="1303.6379">conversationId: int {final}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5617.74" y="1315.7739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223.1872" x="5629.74" y="1322.7058">messages: Map&lt;String, Message&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5617.74" y="1334.8418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183.2733" x="5629.74" y="1341.7738">messageOrder: List&lt;String&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5617.74" y="1353.9097"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.9796" x="5629.74" y="1360.8417">isGroup: boolean</text><line style="stroke:#181818;stroke-width:1;" x1="5610.74" x2="6119.2503" y1="1368.9436" y2="1368.9436"/><ellipse cx="5620.74" cy="1383.9776" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="338.9248" x="5629.74" y="1387.9096">Conversation(conversationId: int, isGroup: boolean)</text><ellipse cx="5620.74" cy="1403.0455" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221.1992" x="5629.74" y="1406.9775">addMessage(msg: Message): void</text><ellipse cx="5620.74" cy="1422.1134" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="272.985" x="5629.74" y="1426.0454">getMessage(messageId: String): Message</text><ellipse cx="5620.74" cy="1441.1814" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.5132" x="5629.74" y="1445.1133">getMessages(): List&lt;Message&gt;</text><ellipse cx="5620.74" cy="1460.2493" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.3734" x="5629.74" y="1464.1813">getUnreadCount(): int</text><ellipse cx="5620.74" cy="1479.3172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.6875" x="5629.74" y="1483.2492">markAllAsRead(): void</text><ellipse cx="5620.74" cy="1498.3851" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="484.5103" x="5629.74" y="1502.3171">addReactionToMessage(messageId: String, emoji: String, userId: int): void</text></g><!--class Repository--><g class="entity" data-entity="Repository" data-source-line="543" data-uid="ent0106" id="entity_Repository"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156.7735" x="5604.61" y="445.562"/><ellipse cx="5641.8696" cy="461.562" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5637.9008,468.062 L5637.9008,466.3589 L5640.2602,466.0932 L5640.2602,457.8901 L5637.9008,457.6245 L5637.9008,455.9214 L5645.0414,455.9214 L5645.0414,457.6245 L5642.6196,457.8901 L5642.6196,466.0932 L5645.0414,466.3589 L5645.0414,468.062 L5637.9008,468.062 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="65.2958" x="5660.8161" y="466.994">Repository</text><rect fill="#FFFFFF" height="18.3441" style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" width="8.012" x="5756.3714" y="442.562"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="6.012" x="5757.3714" y="456.3901">T</text><line style="stroke:#181818;stroke-width:0.5;" x1="5605.61" x2="5760.3835" y1="477.562" y2="477.562"/><line style="stroke:#181818;stroke-width:0.5;" x1="5605.61" x2="5760.3835" y1="485.562" y2="485.562"/><ellipse cx="5615.61" cy="500.5959" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.4976" x="5624.61" y="504.5279">add(item: T): void</text><ellipse cx="5615.61" cy="519.6639" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7735" x="5624.61" y="523.5958">remove(id: int): void</text><ellipse cx="5615.61" cy="538.7318" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.0677" x="5624.61" y="542.6638">get(id: int): T</text><ellipse cx="5615.61" cy="557.7997" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.0296" x="5624.61" y="561.7317">getAll(): List&lt;T&gt;</text></g><g class="entity" data-entity="GMN107" data-source-line="550" data-uid="ent0108" id="entity_GMN107"><path d="M5522.51,44.602 L5522.51,90.014 A0,0 0 0 0 5522.51,90.014 L5679,90.014 L5683,445.122 L5687,90.014 L5843.4852,90.014 A0,0 0 0 0 5843.4852,90.014 L5843.4852,54.602 L5833.4852,44.602 L5522.51,44.602 A0,0 0 0 0 5522.51,44.602" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M5833.4852,44.602 L5833.4852,54.602 L5843.4852,54.602 L5833.4852,44.602" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126.2431" x="5528.51" y="63.499">Pattern: Repository</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299.9752" x="5528.51" y="81.205">Abstrait l'accès aux données stockées localement</text></g><!--class ContactRepository--><g class="entity" data-entity="ContactRepository" data-source-line="554" data-uid="ent0110" id="entity_ContactRepository"><rect fill="#F1F1F1" height="143.3396" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="240.4792" x="5901.76" y="973.062"/><ellipse cx="5957.1998" cy="989.062" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5956.6686,995.9839 Q5954.9186,995.9839 5953.7779,995.2495 Q5952.6529,994.4995 5952.0904,993.1557 Q5951.5436,991.7964 5951.5436,989.9995 Q5951.5436,987.9682 5952.1998,986.5151 Q5952.8561,985.062 5954.1373,984.2807 Q5955.4186,983.4995 5957.2936,983.4995 Q5958.1842,983.4995 5958.8561,983.687 Q5959.5279,983.8589 5960.2154,984.2026 L5959.4029,986.2182 Q5958.7779,985.9057 5958.2311,985.7807 Q5957.6998,985.6557 5957.2154,985.6557 Q5956.0436,985.6557 5955.3404,986.187 Q5954.6373,986.7182 5954.3404,987.6714 Q5954.0436,988.6245 5954.0436,989.8901 Q5954.0436,991.9057 5954.7623,992.8745 Q5955.4811,993.8276 5957.0748,993.8276 Q5957.6686,993.8276 5958.2936,993.6714 Q5958.9186,993.5151 5959.7467,993.1401 L5959.7467,995.3589 Q5959.0123,995.6714 5958.2154,995.8276 Q5957.4342,995.9839 5956.6686,995.9839 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.0995" x="5977.6998" y="994.494">ContactRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="5902.76" x2="6141.2392" y1="1005.062" y2="1005.062"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5909.76" y="1017.0959"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214.4792" x="5921.76" y="1024.0279">contacts: Map&lt;Integer, Contact&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="5902.76" x2="6141.2392" y1="1032.1299" y2="1032.1299"/><ellipse cx="5912.76" cy="1047.1639" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2373" x="5921.76" y="1051.0958">add(contact: Contact): void</text><ellipse cx="5912.76" cy="1066.2318" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7735" x="5921.76" y="1070.1638">remove(id: int): void</text><ellipse cx="5912.76" cy="1085.2997" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.9355" x="5921.76" y="1089.2317">get(id: int): Contact</text><ellipse cx="5912.76" cy="1104.3676" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.8974" x="5921.76" y="1108.2996">getAll(): List&lt;Contact&gt;</text></g><!--class GroupRepository--><g class="entity" data-entity="GroupRepository" data-source-line="563" data-uid="ent0112" id="entity_GroupRepository"><rect fill="#F1F1F1" height="143.3396" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="223.1333" x="5241.43" y="973.062"/><ellipse cx="5292.6698" cy="989.062" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5292.1386,995.9839 Q5290.3886,995.9839 5289.248,995.2495 Q5288.123,994.4995 5287.5605,993.1557 Q5287.0136,991.7964 5287.0136,989.9995 Q5287.0136,987.9682 5287.6698,986.5151 Q5288.3261,985.062 5289.6073,984.2807 Q5290.8886,983.4995 5292.7636,983.4995 Q5293.6542,983.4995 5294.3261,983.687 Q5294.998,983.8589 5295.6855,984.2026 L5294.873,986.2182 Q5294.248,985.9057 5293.7011,985.7807 Q5293.1698,985.6557 5292.6855,985.6557 Q5291.5136,985.6557 5290.8105,986.187 Q5290.1073,986.7182 5289.8105,987.6714 Q5289.5136,988.6245 5289.5136,989.8901 Q5289.5136,991.9057 5290.2323,992.8745 Q5290.9511,993.8276 5292.5448,993.8276 Q5293.1386,993.8276 5293.7636,993.6714 Q5294.3886,993.5151 5295.2167,993.1401 L5295.2167,995.3589 Q5294.4823,995.6714 5293.6855,995.8276 Q5292.9042,995.9839 5292.1386,995.9839 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.1536" x="5313.1698" y="994.494">GroupRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="5242.43" x2="5463.5633" y1="1005.062" y2="1005.062"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5249.43" y="1017.0959"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197.1333" x="5261.43" y="1024.0279">groups: Map&lt;Integer, Group&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="5242.43" x2="5463.5633" y1="1032.1299" y2="1032.1299"/><ellipse cx="5252.43" cy="1047.1639" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.8914" x="5261.43" y="1051.0958">add(group: Group): void</text><ellipse cx="5252.43" cy="1066.2318" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7735" x="5261.43" y="1070.1638">remove(id: int): void</text><ellipse cx="5252.43" cy="1085.2997" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.9895" x="5261.43" y="1089.2317">get(id: int): Group</text><ellipse cx="5252.43" cy="1104.3676" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.9515" x="5261.43" y="1108.2996">getAll(): List&lt;Group&gt;</text></g><!--class ConversationRepository--><g class="entity" data-entity="ConversationRepository" data-source-line="572" data-uid="ent0114" id="entity_ConversationRepository"><rect fill="#F1F1F1" height="162.4075" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="367.8087" x="5499.1" y="963.522"/><ellipse cx="5599.9767" cy="979.522" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5599.4454,986.4439 Q5597.6954,986.4439 5596.5548,985.7095 Q5595.4298,984.9595 5594.8673,983.6157 Q5594.3204,982.2564 5594.3204,980.4595 Q5594.3204,978.4282 5594.9767,976.9751 Q5595.6329,975.522 5596.9142,974.7407 Q5598.1954,973.9595 5600.0704,973.9595 Q5600.961,973.9595 5601.6329,974.147 Q5602.3048,974.3189 5602.9923,974.6626 L5602.1798,976.6782 Q5601.5548,976.3657 5601.0079,976.2407 Q5600.4767,976.1157 5599.9923,976.1157 Q5598.8204,976.1157 5598.1173,976.647 Q5597.4142,977.1782 5597.1173,978.1314 Q5596.8204,979.0845 5596.8204,980.3501 Q5596.8204,982.3657 5597.5392,983.3345 Q5598.2579,984.2876 5599.8517,984.2876 Q5600.4454,984.2876 5601.0704,984.1314 Q5601.6954,983.9751 5602.5235,983.6001 L5602.5235,985.8189 Q5601.7892,986.1314 5600.9923,986.2876 Q5600.211,986.4439 5599.4454,986.4439 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.5554" x="5620.4767" y="984.954">ConversationRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="5500.1" x2="5865.9087" y1="995.522" y2="995.522"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5507.1" y="1007.5559"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287.3909" x="5519.1" y="1014.4879">conversations: Map&lt;Integer, Conversation&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="5500.1" x2="5865.9087" y1="1022.5899" y2="1022.5899"/><ellipse cx="5510.1" cy="1037.6239" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248.149" x="5519.1" y="1041.5558">add(conversation: Conversation): void</text><ellipse cx="5510.1" cy="1056.6918" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7735" x="5519.1" y="1060.6238">remove(id: int): void</text><ellipse cx="5510.1" cy="1075.7597" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.3914" x="5519.1" y="1079.6917">get(id: int): Conversation</text><ellipse cx="5510.1" cy="1094.8276" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.3533" x="5519.1" y="1098.7596">getAll(): List&lt;Conversation&gt;</text><ellipse cx="5510.1" cy="1113.8955" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="341.8087" x="5519.1" y="1117.8275">getOrCreate(id: int, isGroup: boolean): Conversation</text></g><!--class ClientEventListener--><g class="entity" data-entity="ClientEventListener" data-source-line="583" data-uid="ent0116" id="entity_ClientEventListener"><rect fill="#F1F1F1" height="162.4075" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="470.6104" x="6625.69" y="963.522"/><ellipse cx="6798.0924" cy="979.522" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6794.1237,986.022 L6794.1237,984.3189 L6796.4831,984.0532 L6796.4831,975.8501 L6794.1237,975.5845 L6794.1237,973.8814 L6801.2643,973.8814 L6801.2643,975.5845 L6798.8424,975.8501 L6798.8424,984.0532 L6801.2643,984.3189 L6801.2643,986.022 L6794.1237,986.022 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117.3056" x="6818.5924" y="984.954">ClientEventListener</text><line style="stroke:#181818;stroke-width:0.5;" x1="6626.69" x2="7095.3004" y1="995.522" y2="995.522"/><line style="stroke:#181818;stroke-width:0.5;" x1="6626.69" x2="7095.3004" y1="1003.522" y2="1003.522"/><ellipse cx="6636.69" cy="1018.5559" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="271.697" x="6645.69" y="1022.4879">onMessageReceived(msg: Message): void</text><ellipse cx="6636.69" cy="1037.6239" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="444.6104" x="6645.69" y="1041.5558">onReactionAdded(messageId: String, emoji: String, userId: int): void</text><ellipse cx="6636.69" cy="1056.6918" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260.609" x="6645.69" y="1060.6238">onContactAdded(contact: Contact): void</text><ellipse cx="6636.69" cy="1075.7597" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248.5131" x="6645.69" y="1079.6917">onGroupUpdated(group: Group): void</text><ellipse cx="6636.69" cy="1094.8276" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="358.0347" x="6645.69" y="1098.7596">onConnectionStateChanged(connected: boolean): void</text><ellipse cx="6636.69" cy="1113.8955" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174.8174" x="6645.69" y="1117.8275">onError(error: String): void</text></g><g class="entity" data-entity="GMN117" data-source-line="592" data-uid="ent0118" id="entity_GMN117"><path d="M7666.89,1022.022 L7666.89,1067.434 L7959.1092,1067.434 L7959.1092,1032.022 L7949.1092,1022.022 L7666.89,1022.022" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M7949.1092,1022.022 L7949.1092,1032.022 L7959.1092,1032.022 L7949.1092,1022.022" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="115.7911" x="7672.89" y="1040.919">Pattern: Observer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271.2192" x="7672.89" y="1058.625">Permet à l'UI d'être notifiée des événements</text></g><!--class ClientPacketHandler--><g class="entity" data-entity="ClientPacketHandler" data-source-line="597" data-uid="ent0120" id="entity_ClientPacketHandler"><rect fill="#F1F1F1" height="124.2717" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="315.1129" x="5842.44" y="3772.452"/><ellipse cx="5932.8307" cy="3788.452" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5928.0025,3794.202 L5931.3463,3782.0145 L5934.4869,3782.0145 L5937.8619,3794.202 L5935.3932,3794.202 L5934.6588,3791.1864 L5931.1432,3791.1864 L5930.3932,3794.202 L5928.0025,3794.202 Z M5932.4088,3786.1551 L5931.6588,3789.1551 L5934.1744,3789.1551 L5933.4557,3786.1551 Q5933.315,3785.577 5933.19,3785.0301 Q5933.065,3784.4676 5932.9244,3783.8895 Q5932.815,3784.4676 5932.6744,3785.0301 Q5932.5338,3785.577 5932.4088,3786.1551 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="125.8315" x="5953.3307" y="3793.884">ClientPacketHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="5843.44" x2="6156.5529" y1="3804.452" y2="3804.452"/><polygon fill="none" points="5853.44,3814.4859,5857.44,3818.4859,5853.44,3822.4859,5849.44,3818.4859" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.7894" x="5862.44" y="3823.4179">client: ClientController</text><line style="stroke:#181818;stroke-width:1;" x1="5843.44" x2="6156.5529" y1="3831.5199" y2="3831.5199"/><ellipse cx="5853.44" cy="3846.5539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289.1129" x="5862.44" y="3850.4858">ClientPacketHandler(client: ClientController)</text><ellipse cx="5853.44" cy="3865.6218" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="223.6352" x="5862.44" y="3869.5538">handle(msg: ProtocolMessage): void</text><ellipse cx="5853.44" cy="3884.6897" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="248.5971" x="5862.44" y="3888.6217">canHandle(type: MessageType): boolean</text></g><!--class ClientTextMessageHandler--><g class="entity" data-entity="ClientTextMessageHandler" data-source-line="605" data-uid="ent0121" id="entity_ClientTextMessageHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291.467" x="6017.27" y="4080.662"/><ellipse cx="6070.2738" cy="4096.662" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6069.7426,4103.5839 Q6067.9926,4103.5839 6066.852,4102.8495 Q6065.727,4102.0995 6065.1645,4100.7557 Q6064.6176,4099.3964 6064.6176,4097.5995 Q6064.6176,4095.5682 6065.2738,4094.1151 Q6065.9301,4092.662 6067.2113,4091.8807 Q6068.4926,4091.0995 6070.3676,4091.0995 Q6071.2582,4091.0995 6071.9301,4091.287 Q6072.602,4091.4589 6073.2895,4091.8026 L6072.477,4093.8182 Q6071.852,4093.5057 6071.3051,4093.3807 Q6070.7738,4093.2557 6070.2895,4093.2557 Q6069.1176,4093.2557 6068.4145,4093.787 Q6067.7113,4094.3182 6067.4145,4095.2714 Q6067.1176,4096.2245 6067.1176,4097.4901 Q6067.1176,4099.5057 6067.8363,4100.4745 Q6068.5551,4101.4276 6070.1488,4101.4276 Q6070.7426,4101.4276 6071.3676,4101.2714 Q6071.9926,4101.1151 6072.8207,4100.7401 L6072.8207,4102.9589 Q6072.0863,4103.2714 6071.2895,4103.4276 Q6070.5082,4103.5839 6069.7426,4103.5839 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.9593" x="6090.7738" y="4102.094">ClientTextMessageHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="6018.27" x2="6307.737" y1="4112.662" y2="4112.662"/><line style="stroke:#181818;stroke-width:1;" x1="6018.27" x2="6307.737" y1="4120.662" y2="4120.662"/><ellipse cx="6028.27" cy="4135.6959" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.0831" x="6037.27" y="4139.6279">handle(msg: ProtocolMessage): void</text><ellipse cx="6028.27" cy="4154.7639" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="6037.27" y="4158.6958">canHandle(type: MessageType): boolean</text></g><!--class ClientMediaMessageHandler--><g class="entity" data-entity="ClientMediaMessageHandler" data-source-line="611" data-uid="ent0123" id="entity_ClientMediaMessageHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291.467" x="6343.27" y="4080.662"/><ellipse cx="6390.0089" cy="4096.662" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6389.4776,4103.5839 Q6387.7276,4103.5839 6386.587,4102.8495 Q6385.462,4102.0995 6384.8995,4100.7557 Q6384.3526,4099.3964 6384.3526,4097.5995 Q6384.3526,4095.5682 6385.0089,4094.1151 Q6385.6651,4092.662 6386.9464,4091.8807 Q6388.2276,4091.0995 6390.1026,4091.0995 Q6390.9932,4091.0995 6391.6651,4091.287 Q6392.337,4091.4589 6393.0245,4091.8026 L6392.212,4093.8182 Q6391.587,4093.5057 6391.0401,4093.3807 Q6390.5089,4093.2557 6390.0245,4093.2557 Q6388.8526,4093.2557 6388.1495,4093.787 Q6387.4464,4094.3182 6387.1495,4095.2714 Q6386.8526,4096.2245 6386.8526,4097.4901 Q6386.8526,4099.5057 6387.5714,4100.4745 Q6388.2901,4101.4276 6389.8839,4101.4276 Q6390.4776,4101.4276 6391.1026,4101.2714 Q6391.7276,4101.1151 6392.5557,4100.7401 L6392.5557,4102.9589 Q6391.8214,4103.2714 6391.0245,4103.4276 Q6390.2432,4103.5839 6389.4776,4103.5839 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.4893" x="6410.5089" y="4102.094">ClientMediaMessageHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="6344.27" x2="6633.737" y1="4112.662" y2="4112.662"/><line style="stroke:#181818;stroke-width:1;" x1="6344.27" x2="6633.737" y1="4120.662" y2="4120.662"/><ellipse cx="6354.27" cy="4135.6959" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.0831" x="6363.27" y="4139.6279">handle(msg: ProtocolMessage): void</text><ellipse cx="6354.27" cy="4154.7639" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="6363.27" y="4158.6958">canHandle(type: MessageType): boolean</text></g><!--class ClientReactionHandler--><g class="entity" data-entity="ClientReactionHandler" data-source-line="617" data-uid="ent0125" id="entity_ClientReactionHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291.467" x="5365.27" y="4080.662"/><ellipse cx="5433.0438" cy="4096.662" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5432.5125,4103.5839 Q5430.7625,4103.5839 5429.6219,4102.8495 Q5428.4969,4102.0995 5427.9344,4100.7557 Q5427.3875,4099.3964 5427.3875,4097.5995 Q5427.3875,4095.5682 5428.0438,4094.1151 Q5428.7,4092.662 5429.9813,4091.8807 Q5431.2625,4091.0995 5433.1375,4091.0995 Q5434.0282,4091.0995 5434.7,4091.287 Q5435.3719,4091.4589 5436.0594,4091.8026 L5435.2469,4093.8182 Q5434.6219,4093.5057 5434.075,4093.3807 Q5433.5438,4093.2557 5433.0594,4093.2557 Q5431.8875,4093.2557 5431.1844,4093.787 Q5430.4813,4094.3182 5430.1844,4095.2714 Q5429.8875,4096.2245 5429.8875,4097.4901 Q5429.8875,4099.5057 5430.6063,4100.4745 Q5431.325,4101.4276 5432.9188,4101.4276 Q5433.5125,4101.4276 5434.1375,4101.2714 Q5434.7625,4101.1151 5435.5907,4100.7401 L5435.5907,4102.9589 Q5434.8563,4103.2714 5434.0594,4103.4276 Q5433.2782,4103.5839 5432.5125,4103.5839 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.4194" x="5453.5438" y="4102.094">ClientReactionHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="5366.27" x2="5655.737" y1="4112.662" y2="4112.662"/><line style="stroke:#181818;stroke-width:1;" x1="5366.27" x2="5655.737" y1="4120.662" y2="4120.662"/><ellipse cx="5376.27" cy="4135.6959" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.0831" x="5385.27" y="4139.6279">handle(msg: ProtocolMessage): void</text><ellipse cx="5376.27" cy="4154.7639" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="5385.27" y="4158.6958">canHandle(type: MessageType): boolean</text></g><!--class ClientManagementHandler--><g class="entity" data-entity="ClientManagementHandler" data-source-line="623" data-uid="ent0127" id="entity_ClientManagementHandler"><rect fill="#F1F1F1" height="86.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291.467" x="5691.27" y="4080.662"/><ellipse cx="5743.3988" cy="4096.662" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5742.8676,4103.5839 Q5741.1176,4103.5839 5739.977,4102.8495 Q5738.852,4102.0995 5738.2895,4100.7557 Q5737.7426,4099.3964 5737.7426,4097.5995 Q5737.7426,4095.5682 5738.3988,4094.1151 Q5739.0551,4092.662 5740.3363,4091.8807 Q5741.6176,4091.0995 5743.4926,4091.0995 Q5744.3832,4091.0995 5745.0551,4091.287 Q5745.727,4091.4589 5746.4145,4091.8026 L5745.602,4093.8182 Q5744.977,4093.5057 5744.4301,4093.3807 Q5743.8988,4093.2557 5743.4145,4093.2557 Q5742.2426,4093.2557 5741.5395,4093.787 Q5740.8363,4094.3182 5740.5395,4095.2714 Q5740.2426,4096.2245 5740.2426,4097.4901 Q5740.2426,4099.5057 5740.9613,4100.4745 Q5741.6801,4101.4276 5743.2738,4101.4276 Q5743.8676,4101.4276 5744.4926,4101.2714 Q5745.1176,4101.1151 5745.9457,4100.7401 L5745.9457,4102.9589 Q5745.2113,4103.2714 5744.4145,4103.4276 Q5743.6332,4103.5839 5742.8676,4103.5839 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.7093" x="5763.8988" y="4102.094">ClientManagementHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="5692.27" x2="5981.737" y1="4112.662" y2="4112.662"/><line style="stroke:#181818;stroke-width:1;" x1="5692.27" x2="5981.737" y1="4120.662" y2="4120.662"/><ellipse cx="5702.27" cy="4135.6959" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.0831" x="5711.27" y="4139.6279">handle(msg: ProtocolMessage): void</text><ellipse cx="5702.27" cy="4154.7639" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265.467" x="5711.27" y="4158.6958">canHandle(type: MessageType): boolean</text></g><!--class ClientPacketRouter--><g class="entity" data-entity="ClientPacketRouter" data-source-line="629" data-uid="ent0129" id="entity_ClientPacketRouter"><rect fill="#F1F1F1" height="105.2038" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="339.8228" x="5830.09" y="3540.512"/><ellipse cx="5932.8987" cy="3556.512" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5932.3674,3563.4339 Q5930.6174,3563.4339 5929.4768,3562.6995 Q5928.3518,3561.9495 5927.7893,3560.6057 Q5927.2424,3559.2464 5927.2424,3557.4495 Q5927.2424,3555.4182 5927.8987,3553.9651 Q5928.5549,3552.512 5929.8362,3551.7307 Q5931.1174,3550.9495 5932.9924,3550.9495 Q5933.883,3550.9495 5934.5549,3551.137 Q5935.2268,3551.3089 5935.9143,3551.6526 L5935.1018,3553.6682 Q5934.4768,3553.3557 5933.9299,3553.2307 Q5933.3987,3553.1057 5932.9143,3553.1057 Q5931.7424,3553.1057 5931.0393,3553.637 Q5930.3362,3554.1682 5930.0393,3555.1214 Q5929.7424,3556.0745 5929.7424,3557.3401 Q5929.7424,3559.3557 5930.4612,3560.3245 Q5931.1799,3561.2776 5932.7737,3561.2776 Q5933.3674,3561.2776 5933.9924,3561.1214 Q5934.6174,3560.9651 5935.4455,3560.5901 L5935.4455,3562.8089 Q5934.7112,3563.1214 5933.9143,3563.2776 Q5933.133,3563.4339 5932.3674,3563.4339 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.7055" x="5953.3987" y="3561.944">ClientPacketRouter</text><line style="stroke:#181818;stroke-width:0.5;" x1="5831.09" x2="6168.9128" y1="3572.512" y2="3572.512"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5838.09" y="3584.5459"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237.8031" x="5850.09" y="3591.4779">handlers: List&lt;ClientPacketHandler&gt;</text><line style="stroke:#181818;stroke-width:1;" x1="5831.09" x2="6168.9128" y1="3599.5799" y2="3599.5799"/><ellipse cx="5841.09" cy="3614.6139" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="313.8228" x="5850.09" y="3618.5458">addHandler(handler: ClientPacketHandler): void</text><ellipse cx="5841.09" cy="3633.6818" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.4874" x="5850.09" y="3637.6138">process(pkt: Packet): void</text></g><!--class PacketProcessor--><g class="entity" data-entity="PacketProcessor" data-source-line="630" data-uid="ent0130" id="entity_PacketProcessor"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.0656" x="5933.47" y="3356.242"/><ellipse cx="5948.47" cy="3372.242" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5944.5013,3378.742 L5944.5013,3377.0389 L5946.8606,3376.7732 L5946.8606,3368.5701 L5944.5013,3368.3045 L5944.5013,3366.6014 L5951.6419,3366.6014 L5951.6419,3368.3045 L5949.22,3368.5701 L5949.22,3376.7732 L5951.6419,3377.0389 L5951.6419,3378.742 L5944.5013,3378.742 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="101.0656" x="5962.47" y="3377.674">PacketProcessor</text><line style="stroke:#181818;stroke-width:0.5;" x1="5934.47" x2="6065.5356" y1="3388.242" y2="3388.242"/><line style="stroke:#181818;stroke-width:0.5;" x1="5934.47" x2="6065.5356" y1="3396.242" y2="3396.242"/></g><!--class ClientController--><g class="entity" data-entity="ClientController" data-source-line="654" data-uid="ent0132" id="entity_ClientController"><rect fill="#F1F1F1" height="715.3771" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="517.0062" x="5960.5" y="150.012"/><ellipse cx="6162.8273" cy="166.012" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M6162.2961,172.9339 Q6160.5461,172.9339 6159.4054,172.1995 Q6158.2804,171.4495 6157.7179,170.1057 Q6157.1711,168.7464 6157.1711,166.9495 Q6157.1711,164.9182 6157.8273,163.4651 Q6158.4836,162.012 6159.7648,161.2307 Q6161.0461,160.4495 6162.9211,160.4495 Q6163.8117,160.4495 6164.4836,160.637 Q6165.1554,160.8089 6165.8429,161.1526 L6165.0304,163.1682 Q6164.4054,162.8557 6163.8586,162.7307 Q6163.3273,162.6057 6162.8429,162.6057 Q6161.6711,162.6057 6160.9679,163.137 Q6160.2648,163.6682 6159.9679,164.6214 Q6159.6711,165.5745 6159.6711,166.8401 Q6159.6711,168.8557 6160.3898,169.8245 Q6161.1086,170.7776 6162.7023,170.7776 Q6163.2961,170.7776 6163.9211,170.6214 Q6164.5461,170.4651 6165.3742,170.0901 L6165.3742,172.3089 Q6164.6398,172.6214 6163.8429,172.7776 Q6163.0617,172.9339 6162.2961,172.9339 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.8516" x="6183.3273" y="171.444">ClientController</text><line style="stroke:#181818;stroke-width:0.5;" x1="5961.5" x2="6476.5062" y1="182.012" y2="182.012"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="194.0459"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.6117" x="5980.5" y="200.9779">client: Client</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="213.1139"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.1656" x="5980.5" y="220.0458">currentUser: User</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="232.1818"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247.4631" x="5980.5" y="239.1138">contactRepository: ContactRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="251.2497"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230.1171" x="5980.5" y="258.1817">groupRepository: GroupRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="270.3176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320.3748" x="5980.5" y="277.2496">conversationRepository: ConversationRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="289.3855"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229.1371" x="5980.5" y="296.3175">listeners: List&lt;ClientEventListener&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="308.4534"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221.2691" x="5980.5" y="315.3854">packetRouter: ClientPacketRouter</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="327.5214"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="286.3829" x="5980.5" y="334.4533">messageIdGenerator: MessageIdGenerator</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="346.5893"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203.2233" x="5980.5" y="353.5213">cryptoStrategy: CryptoStrategy</text><line style="stroke:#181818;stroke-width:1;" x1="5961.5" x2="6476.5062" y1="361.6232" y2="361.6232"/><ellipse cx="5971.5" cy="376.6572" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.2516" x="5980.5" y="380.5892">ClientController()</text><ellipse cx="5971.5" cy="395.7251" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="331.7007" x="5980.5" y="399.6571">connect(host: String, port: int, userId: int): boolean</text><ellipse cx="5971.5" cy="414.793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.6875" x="5980.5" y="418.725">disconnect(): void</text><ellipse cx="5971.5" cy="433.8609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.2534" x="5980.5" y="437.7929">getCurrentUser(): User</text><ellipse cx="5971.5" cy="452.9289" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305.3108" x="5980.5" y="456.8608">addListener(listener: ClientEventListener): void</text><ellipse cx="5971.5" cy="471.9968" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="330.4827" x="5980.5" y="475.9288">removeListener(listener: ClientEventListener): void</text><ellipse cx="5971.5" cy="491.0647" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="316.4689" x="5980.5" y="494.9967">sendTextMessage(to: int, content: String): String</text><ellipse cx="5971.5" cy="510.1326" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="433.2985" x="5980.5" y="514.0646">sendTextMessage(to: int, content: String, replyToId: String): String</text><ellipse cx="5971.5" cy="529.2005" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="444.7504" x="5980.5" y="533.1325">sendMediaMessage(to: int, media: byte[], mediaType: String): String</text><ellipse cx="5971.5" cy="548.2684" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="465.8344" x="5980.5" y="552.2004">addReaction(conversationId: int, messageId: String, emoji: String): void</text><ellipse cx="5971.5" cy="567.3364" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="491.0062" x="5980.5" y="571.2683">removeReaction(conversationId: int, messageId: String, emoji: String): void</text><ellipse cx="5971.5" cy="586.4043" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.9112" x="5980.5" y="590.3363">addContact(contactId: int): void</text><ellipse cx="5971.5" cy="605.4722" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210.7832" x="5980.5" y="609.4042">createGroup(name: String): void</text><ellipse cx="5971.5" cy="624.5401" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="346.3587" x="5980.5" y="628.4721">addGroupMember(groupId: int, memberId: int): void</text><ellipse cx="5971.5" cy="643.608" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="371.5306" x="5980.5" y="647.54">removeGroupMember(groupId: int, memberId: int): void</text><ellipse cx="5971.5" cy="662.6759" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197.8612" x="5980.5" y="666.6079">leaveGroup(groupId: int): void</text><ellipse cx="5971.5" cy="681.7439" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204.4552" x="5980.5" y="685.6758">deleteGroup(groupId: int): void</text><ellipse cx="5971.5" cy="700.8118" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262.219" x="5980.5" y="704.7438">updatePseudo(newPseudo: String): void</text><ellipse cx="5971.5" cy="719.8797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225.2451" x="5980.5" y="723.8117">getContact(contactId: int): Contact</text><ellipse cx="5971.5" cy="738.9476" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.9532" x="5980.5" y="742.8796">getGroup(groupId: int): Group</text><ellipse cx="5971.5" cy="758.0155" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="334.6128" x="5980.5" y="761.9475">getConversation(conversationId: int): Conversation</text><ellipse cx="5971.5" cy="777.0834" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="322.6989" x="5980.5" y="781.0154">setCryptoStrategy(strategy: CryptoStrategy): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="793.1514"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292.3188" x="5980.5" y="800.0833">notifyMessageReceived(msg: Message): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="812.2193"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="465.2324" x="5980.5" y="819.1513">notifyReactionAdded(messageId: String, emoji: String, userId: int): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="831.2872"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="269.135" x="5980.5" y="838.2192">notifyGroupUpdated(group: Group): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="5968.5" y="850.3551"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.4393" x="5980.5" y="857.2871">notifyError(error: String): void</text></g><g class="entity" data-entity="GMN133" data-source-line="693" data-uid="ent0134" id="entity_GMN133"><path d="M6177.68,1022.022 L6177.68,1067.434 A0,0 0 0 0 6177.68,1067.434 L6590.3183,1067.434 A0,0 0 0 0 6590.3183,1067.434 L6590.3183,1032.022 L6580.3183,1022.022 L6256.64,1022.022 L6252.64,865.532 L6248.64,1022.022 L6177.68,1022.022 A0,0 0 0 0 6177.68,1022.022" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M6580.3183,1022.022 L6580.3183,1032.022 L6590.3183,1032.022 L6580.3183,1022.022" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101.5951" x="6183.68" y="1040.919">Pattern: Facade</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="391.6383" x="6183.68" y="1058.625">Fournit une interface simplifiée pour toutes les opérations client</text></g><!--link PacketBuilder to Packet--><g class="link" data-entity-1="PacketBuilder" data-entity-2="Packet" data-source-line="34" data-uid="lnk5" id="link_PacketBuilder_Packet"><path codeLine="34" d="M4945,3954.282 C4945,3974.012 4945,3988.382 4945,4007.852" fill="none" id="PacketBuilder-to-Packet" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4945,4013.852,4949,4004.852,4945,4008.852,4941,4004.852,4945,4013.852" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.486" x="4900" y="3979.969">creates</text></g><!--reverse link ProtocolMessage to TextMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="TextMessage" data-source-line="81" data-uid="lnk13" id="link_ProtocolMessage_TextMessage"><path d="M3403.22,4198.712 C3098.82,4198.712 2167.97,4198.712 2167.97,4198.712 C2167.97,4198.712 2167.97,4270.042 2167.97,4340.812" fill="none" id="ProtocolMessage-backto-TextMessage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="3421.22,4198.712,3403.22,4192.712,3403.22,4204.712,3421.22,4198.712" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ProtocolMessage to MediaMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="MediaMessage" data-source-line="97" data-uid="lnk15" id="link_ProtocolMessage_MediaMessage"><path d="M3467.86,4242.472 C3467.86,4305.072 3467.86,4355.712 3467.86,4355.712 C3467.86,4355.712 3010.18,4355.712 2714.74,4355.712" fill="none" id="ProtocolMessage-backto-MediaMessage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="3467.86,4224.472,3461.86,4242.472,3473.86,4242.472,3467.86,4224.472" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ProtocolMessage to ManagementMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="ManagementMessage" data-source-line="113" data-uid="lnk17" id="link_ProtocolMessage_ManagementMessage"><path d="M3403.3,4211.712 C3241.13,4211.712 2941,4211.712 2941,4211.712 C2941,4211.712 2941,4310.872 2941,4388.542" fill="none" id="ProtocolMessage-backto-ManagementMessage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="3421.3,4211.712,3403.3,4205.712,3403.3,4217.712,3421.3,4211.712" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ProtocolMessage to ReactionMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="ReactionMessage" data-source-line="124" data-uid="lnk19" id="link_ProtocolMessage_ReactionMessage"><path d="M3514,4242.292 C3514,4287.512 3514,4323.012 3514,4369.322" fill="none" id="ProtocolMessage-backto-ReactionMessage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="3514,4224.292,3508,4242.292,3520,4242.292,3514,4224.292" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ProtocolMessage to NotificationMessage--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="NotificationMessage" data-source-line="137" data-uid="lnk21" id="link_ProtocolMessage_NotificationMessage"><path d="M3624.66,4197.712 C3723.58,4197.712 3848.25,4197.712 3848.25,4197.712 C3848.25,4197.712 3848.25,4324.232 3848.25,4407.752" fill="none" id="ProtocolMessage-backto-NotificationMessage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="3606.66,4197.712,3624.66,4203.712,3624.66,4191.712,3606.66,4197.712" style="stroke:#181818;stroke-width:1;"/></g><!--link GMN31 to CryptoStrategy--><g class="link" data-entity-1="GMN31" data-entity-2="CryptoStrategy" data-source-line="179" data-uid="lnk33" id="link_GMN31_CryptoStrategy"><path d="M3530.62,4839.502 C3530.62,4887.922 3530.62,4995.712 3530.62,4995.712 C3530.62,4995.712 3412.29,4995.712 3321.47,4995.712" fill="none" id="GMN31-CryptoStrategy" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--reverse link CryptoStrategy to AESCryptoStrategy--><g class="link" data-entity-1="CryptoStrategy" data-entity-2="AESCryptoStrategy" data-source-line="184" data-uid="lnk35" id="link_CryptoStrategy_AESCryptoStrategy"><path d="M3145.05,5071.442 C3145.05,5094.842 3145.05,5106.182 3145.05,5132.032" fill="none" id="CryptoStrategy-backto-AESCryptoStrategy" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="3145.05,5053.442,3139.05,5071.442,3151.05,5071.442,3145.05,5053.442" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link CryptoStrategy to E2ECryptoStrategy--><g class="link" data-entity-1="CryptoStrategy" data-entity-2="E2ECryptoStrategy" data-source-line="192" data-uid="lnk37" id="link_CryptoStrategy_E2ECryptoStrategy"><path d="M3264.85,5071.442 C3264.85,5089.202 3264.85,5092.392 3264.85,5112.872" fill="none" id="CryptoStrategy-backto-E2ECryptoStrategy" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="3264.85,5053.442,3258.85,5071.442,3270.85,5071.442,3264.85,5053.442" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ProtocolMessage to ProtocolMessageDecorator--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="ProtocolMessageDecorator" data-source-line="202" data-uid="lnk39" id="link_ProtocolMessage_ProtocolMessageDecorator"><path d="M3624.68,4172.712 C3831.61,4172.712 4295.19,4172.712 4295.19,4172.712 C4295.19,4172.712 4295.19,4316.952 4295.19,4407.662" fill="none" id="ProtocolMessage-backto-ProtocolMessageDecorator" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="3606.68,4172.712,3624.68,4178.712,3624.68,4166.712,3606.68,4172.712" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ProtocolMessageDecorator to EncryptedMessage--><g class="link" data-entity-1="ProtocolMessageDecorator" data-entity-2="EncryptedMessage" data-source-line="215" data-uid="lnk44" id="link_ProtocolMessageDecorator_EncryptedMessage"><path d="M4471,4569.752 C4471,4652.742 4471,4759.712 4471,4759.712 C4471,4759.712 3813.18,4759.712 3451.19,4759.712" fill="none" id="ProtocolMessageDecorator-backto-EncryptedMessage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="4471,4551.752,4465,4569.752,4477,4569.752,4471,4551.752" style="stroke:#181818;stroke-width:1;"/></g><!--link EncryptedMessage to CryptoStrategy--><g class="link" data-entity-1="EncryptedMessage" data-entity-2="CryptoStrategy" data-source-line="225" data-uid="lnk45" id="link_EncryptedMessage_CryptoStrategy"><path codeLine="225" d="M3219,4907.662 C3219,4928.272 3219,4943.242 3219,4960.792" fill="none" id="EncryptedMessage-to-CryptoStrategy" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="3219,4966.792,3223,4957.792,3219,4961.792,3215,4957.792,3219,4966.792" style="stroke:#181818;stroke-width:1;"/></g><!--link MessageFactory to ProtocolMessage--><g class="link" data-entity-1="MessageFactory" data-entity-2="ProtocolMessage" data-source-line="227" data-uid="lnk46" id="link_MessageFactory_ProtocolMessage"><path codeLine="227" d="M3514,3916.282 C3514,3949.522 3514,3982.252 3514,4017.202" fill="none" id="MessageFactory-to-ProtocolMessage" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="3514,4023.202,3518,4014.202,3514,4018.202,3510,4014.202,3514,4023.202" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.486" x="3469" y="3965.639">creates</text></g><!--link MessageFactory to Packet--><g class="link" data-entity-1="MessageFactory" data-entity-2="Packet" data-source-line="228" data-uid="lnk47" id="link_MessageFactory_Packet"><path codeLine="228" d="M3913.08,3906.712 C4277.31,3906.712 4765.81,3906.712 4765.81,3906.712 C4765.81,3906.712 4765.81,3953.912 4765.81,4007.632" fill="none" id="MessageFactory-to-Packet" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4765.81,4013.632,4769.81,4004.632,4765.81,4008.632,4761.81,4004.632,4765.81,4013.632" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="4364.91" y="3902.609">uses</text></g><!--reverse link IdGenerator to SequentialIdGenerator--><g class="link" data-entity-1="IdGenerator" data-entity-2="SequentialIdGenerator" data-source-line="242" data-uid="lnk51" id="link_IdGenerator_SequentialIdGenerator"><path d="M1270.48,3431.972 C1270.48,3465.852 1270.48,3500.562 1270.48,3540.042" fill="none" id="IdGenerator-backto-SequentialIdGenerator" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="1270.48,3413.972,1264.48,3431.972,1276.48,3431.972,1270.48,3413.972" style="stroke:#181818;stroke-width:1;"/></g><!--link IdGenerator to GMN52--><g class="link" data-entity-1="IdGenerator" data-entity-2="GMN52" data-source-line="248" data-uid="lnk54" id="link_IdGenerator_GMN52"><path d="M1336.53,3413.902 C1336.53,3473.822 1336.53,3592.712 1336.53,3592.712 C1336.53,3592.712 1344.02,3592.712 1355.95,3592.712" fill="none" id="IdGenerator-GMN52" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--reverse link ServerPacketHandler to TextMessageHandler--><g class="link" data-entity-1="ServerPacketHandler" data-entity-2="TextMessageHandler" data-source-line="304" data-uid="lnk59" id="link_ServerPacketHandler_TextMessageHandler"><path d="M933.92,3914.972 C933.92,3970.252 933.92,4031.552 933.92,4080.232" fill="none" id="ServerPacketHandler-backto-TextMessageHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="933.92,3896.972,927.92,3914.972,939.92,3914.972,933.92,3896.972" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ServerPacketHandler to MediaMessageHandler--><g class="link" data-entity-1="ServerPacketHandler" data-entity-2="MediaMessageHandler" data-source-line="310" data-uid="lnk61" id="link_ServerPacketHandler_MediaMessageHandler"><path d="M1017.58,3914.932 C1017.58,3984.892 1017.58,4070.712 1017.58,4070.712 C1017.58,4070.712 1091.3,4070.712 1176.26,4070.712" fill="none" id="ServerPacketHandler-backto-MediaMessageHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="1017.58,3896.932,1011.58,3914.932,1023.58,3914.932,1017.58,3896.932" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ServerPacketHandler to ReactionHandler--><g class="link" data-entity-1="ServerPacketHandler" data-entity-2="ReactionHandler" data-source-line="318" data-uid="lnk63" id="link_ServerPacketHandler_ReactionHandler"><path d="M750.57,3876.712 C524.99,3876.712 168,3876.712 168,3876.712 C168,3876.712 168,4009.582 168,4080.422" fill="none" id="ServerPacketHandler-backto-ReactionHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="768.57,3876.712,750.57,3870.712,750.57,3882.712,768.57,3876.712" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ServerPacketHandler to GroupManagementHandler--><g class="link" data-entity-1="ServerPacketHandler" data-entity-2="GroupManagementHandler" data-source-line="324" data-uid="lnk65" id="link_ServerPacketHandler_GroupManagementHandler"><path d="M791.77,3914.972 C791.77,3951.742 791.77,3981.142 791.77,4023.082" fill="none" id="ServerPacketHandler-backto-GroupManagementHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="791.77,3896.972,785.77,3914.972,797.77,3914.972,791.77,3896.972" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link PacketProcessor to ServerPacketRouter--><g class="link" data-entity-1="PacketProcessor" data-entity-2="ServerPacketRouter" data-source-line="340" data-uid="lnk71" id="link_PacketProcessor_ServerPacketRouter"><path d="M997.31,3422.662 C997.31,3453.132 997.31,3488.352 997.31,3530.482" fill="none" id="PacketProcessor-backto-ServerPacketRouter" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="997.31,3404.662,991.31,3422.662,1003.31,3422.662,997.31,3404.662" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link MediaStorage to FileSystemMediaStorage--><g class="link" data-entity-1="MediaStorage" data-entity-2="FileSystemMediaStorage" data-source-line="373" data-uid="lnk78" id="link_MediaStorage_FileSystemMediaStorage"><path d="M1428,4560.182 C1428,4614.492 1428,4675.512 1428,4734.792" fill="none" id="MediaStorage-backto-FileSystemMediaStorage" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="1428,4542.182,1422,4560.182,1434,4560.182,1428,4542.182" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link TchatsAppServer to ConnectionState--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="ConnectionState" data-source-line="382" data-uid="lnk79" id="link_TchatsAppServer_ConnectionState"><path codeLine="382" d="M1514,3241.932 C1514,3262.782 1514,3270.802 1514,3289.052" fill="none" id="TchatsAppServer-backto-ConnectionState" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1514,3229.932,1510,3235.932,1514,3241.932,1518,3235.932,1514,3229.932" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="1510.4998" y="3251.0988">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="1478.5964" y="3277.7228">many</text></g><!--reverse link TchatsAppServer to IdGenerator--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="IdGenerator" data-source-line="383" data-uid="lnk80" id="link_TchatsAppServer_IdGenerator"><path codeLine="383" d="M1310.03,3241.932 C1310.03,3288.242 1310.03,3318.462 1310.03,3346.282" fill="none" id="TchatsAppServer-backto-IdGenerator" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="1310.03,3229.932,1306.03,3235.932,1310.03,3241.932,1314.03,3235.932,1310.03,3229.932" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link TchatsAppServer to PacketProcessor--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="PacketProcessor" data-source-line="384" data-uid="lnk81" id="link_TchatsAppServer_PacketProcessor"><path codeLine="384" d="M1255.66,2966.712 C1133.74,2966.712 1015,2966.712 1015,2966.712 C1015,2966.712 1015,3267.272 1015,3355.912" fill="none" id="TchatsAppServer-backto-PacketProcessor" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="1267.66,2966.712,1261.66,2962.712,1255.66,2966.712,1261.66,2970.712,1267.66,2966.712" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ServerPacketRouter to ServerPacketHandler--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="ServerPacketHandler" data-source-line="385" data-uid="lnk82" id="link_ServerPacketRouter_ServerPacketHandler"><path codeLine="385" d="M861.23,3667.612 C861.23,3703.522 861.23,3736.482 861.23,3772.352" fill="none" id="ServerPacketRouter-backto-ServerPacketHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="861.23,3655.612,857.23,3661.612,861.23,3667.612,865.23,3661.612,861.23,3655.612" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="846.8053" y="3677.6492">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="816.1743" y="3760.6711">many</text></g><!--reverse link GroupManagementHandler to GroupInfo--><g class="link" data-entity-1="GroupManagementHandler" data-entity-2="GroupInfo" data-source-line="386" data-uid="lnk83" id="link_GroupManagementHandler_GroupInfo"><path codeLine="386" d="M582,4236.292 C582,4284.692 582,4330.592 582,4379.002" fill="none" id="GroupManagementHandler-backto-GroupInfo" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="582,4224.292,578,4230.292,582,4236.292,586,4230.292,582,4224.292" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="574.1184" y="4246.0245">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="546.7026" y="4367.5722">many</text></g><!--reverse link MediaMessageHandler to MediaStorage--><g class="link" data-entity-1="MediaMessageHandler" data-entity-2="MediaStorage" data-source-line="387" data-uid="lnk84" id="link_MediaMessageHandler_MediaStorage"><path codeLine="387" d="M1428,4198.132 C1428,4263.022 1428,4352.022 1428,4416.992" fill="none" id="MediaMessageHandler-backto-MediaStorage" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="1428,4186.132,1424,4192.132,1428,4198.132,1432,4192.132,1428,4186.132" style="stroke:#181818;stroke-width:1;"/></g><!--link GMN94 to Media--><g class="link" data-entity-1="GMN94" data-entity-2="Media" data-source-line="488" data-uid="lnk96" id="link_GMN94_Media"><path d="M5560.3,1874.962 C5560.3,1954.602 5560.3,2212.712 5560.3,2212.712 C5560.3,2212.712 5607.88,2212.712 5654.34,2212.712" fill="none" id="GMN94-Media" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--reverse link Media to RealMedia--><g class="link" data-entity-1="Media" data-entity-2="RealMedia" data-source-line="493" data-uid="lnk98" id="link_Media_RealMedia"><path d="M5636.28,2259.712 C5568.34,2259.712 5503.7,2259.712 5503.7,2259.712 C5503.7,2259.712 5503.7,2645.822 5503.7,2847.542" fill="none" id="Media-backto-RealMedia" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="5654.28,2259.712,5636.28,2253.712,5636.28,2265.712,5654.28,2259.712" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link Media to MediaProxy--><g class="link" data-entity-1="Media" data-entity-2="MediaProxy" data-source-line="507" data-uid="lnk100" id="link_Media_MediaProxy"><path d="M5742,2326.342 C5742,2344.702 5742,2347.062 5742,2367.542" fill="none" id="Media-backto-MediaProxy" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="5742,2308.342,5736,2326.342,5748,2326.342,5742,2308.342" style="stroke:#181818;stroke-width:1;"/></g><!--link MediaProxy to RealMedia--><g class="link" data-entity-1="MediaProxy" data-entity-2="RealMedia" data-source-line="522" data-uid="lnk101" id="link_MediaProxy_RealMedia"><path codeLine="522" d="M5713.38,2645.262 C5713.38,2709.782 5713.38,2779.742 5713.38,2841.662" fill="none" id="MediaProxy-to-RealMedia" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5713.38,2847.662,5717.38,2838.662,5713.38,2842.662,5709.38,2838.662,5713.38,2847.662" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.9491" x="5595.38" y="2742.359">creates on demand</text></g><!--link MediaProxy to Client--><g class="link" data-entity-1="MediaProxy" data-entity-2="Client" data-source-line="523" data-uid="lnk103" id="link_MediaProxy_Client"><path codeLine="523" d="M6000,2645.262 C6000,2703.292 6000,2764.572 6000,2822.572" fill="none" id="MediaProxy-to-Client" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="6000,2828.572,6004,2819.572,6000,2823.572,5996,2819.572,6000,2828.572" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.7181" x="5905" y="2732.809">requests media</text></g><!--link Message to Media--><g class="link" data-entity-1="Message" data-entity-2="Media" data-source-line="524" data-uid="lnk104" id="link_Message_Media"><path codeLine="524" d="M5742,2105.072 C5742,2126.302 5742,2140.432 5742,2158.252" fill="none" id="Message-to-Media" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5742,2164.252,5746,2155.252,5742,2159.252,5738,2155.252,5742,2164.252" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link Repository to ContactRepository--><g class="link" data-entity-1="Repository" data-entity-2="ContactRepository" data-source-line="555" data-uid="lnk111" id="link_Repository_ContactRepository"><path d="M5779.85,507.712 C5852.51,507.712 5931.13,507.712 5931.13,507.712 C5931.13,507.712 5931.13,826.122 5931.13,972.582" fill="none" id="Repository-backto-ContactRepository" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="5761.85,507.712,5779.85,513.712,5779.85,501.712,5761.85,507.712" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link Repository to GroupRepository--><g class="link" data-entity-1="Repository" data-entity-2="GroupRepository" data-source-line="564" data-uid="lnk113" id="link_Repository_GroupRepository"><path d="M5586.23,507.712 C5478.34,507.712 5315.81,507.712 5315.81,507.712 C5315.81,507.712 5315.81,826.122 5315.81,972.582" fill="none" id="Repository-backto-GroupRepository" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="5604.23,507.712,5586.23,501.712,5586.23,513.712,5604.23,507.712" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link Repository to ConversationRepository--><g class="link" data-entity-1="Repository" data-entity-2="ConversationRepository" data-source-line="573" data-uid="lnk115" id="link_Repository_ConversationRepository"><path d="M5683,588.092 C5683,685.382 5683,855.242 5683,963.142" fill="none" id="Repository-backto-ConversationRepository" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="5683,570.092,5677,588.092,5689,588.092,5683,570.092" style="stroke:#181818;stroke-width:1;"/></g><!--link ClientEventListener to GMN117--><g class="link" data-entity-1="ClientEventListener" data-entity-2="GMN117" data-source-line="592" data-uid="lnk119" id="link_ClientEventListener_GMN117"><path d="M6865.52,1126.192 C6865.52,1160.972 6865.52,1193.712 6865.52,1193.712 C6865.52,1193.712 7813,1193.712 7813,1193.712 C7813,1193.712 7813,1109.472 7813,1067.682" fill="none" id="ClientEventListener-GMN117" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--reverse link ClientPacketHandler to ClientTextMessageHandler--><g class="link" data-entity-1="ClientPacketHandler" data-entity-2="ClientTextMessageHandler" data-source-line="606" data-uid="lnk122" id="link_ClientPacketHandler_ClientTextMessageHandler"><path d="M6087.41,3914.972 C6087.41,3970.252 6087.41,4031.552 6087.41,4080.232" fill="none" id="ClientPacketHandler-backto-ClientTextMessageHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="6087.41,3896.972,6081.41,3914.972,6093.41,3914.972,6087.41,3896.972" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ClientPacketHandler to ClientMediaMessageHandler--><g class="link" data-entity-1="ClientPacketHandler" data-entity-2="ClientMediaMessageHandler" data-source-line="612" data-uid="lnk124" id="link_ClientPacketHandler_ClientMediaMessageHandler"><path d="M6175.82,3834.712 C6287.44,3834.712 6399.32,3834.712 6399.32,3834.712 C6399.32,3834.712 6399.32,3999.832 6399.32,4080.462" fill="none" id="ClientPacketHandler-backto-ClientMediaMessageHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="6157.82,3834.712,6175.82,3840.712,6175.82,3828.712,6157.82,3834.712" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ClientPacketHandler to ClientReactionHandler--><g class="link" data-entity-1="ClientPacketHandler" data-entity-2="ClientReactionHandler" data-source-line="618" data-uid="lnk126" id="link_ClientPacketHandler_ClientReactionHandler"><path d="M5823.99,3834.712 C5681.88,3834.712 5513.31,3834.712 5513.31,3834.712 C5513.31,3834.712 5513.31,3999.832 5513.31,4080.462" fill="none" id="ClientPacketHandler-backto-ClientReactionHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="5841.99,3834.712,5823.99,3828.712,5823.99,3840.712,5841.99,3834.712" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ClientPacketHandler to ClientManagementHandler--><g class="link" data-entity-1="ClientPacketHandler" data-entity-2="ClientManagementHandler" data-source-line="624" data-uid="lnk128" id="link_ClientPacketHandler_ClientManagementHandler"><path d="M5912.59,3914.972 C5912.59,3970.252 5912.59,4031.552 5912.59,4080.232" fill="none" id="ClientPacketHandler-backto-ClientManagementHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="5912.59,3896.972,5906.59,3914.972,5918.59,3914.972,5912.59,3896.972" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link PacketProcessor to ClientPacketRouter--><g class="link" data-entity-1="PacketProcessor" data-entity-2="ClientPacketRouter" data-source-line="630" data-uid="lnk131" id="link_PacketProcessor_ClientPacketRouter"><path d="M6000,3422.662 C6000,3455.532 6000,3496.882 6000,3540.222" fill="none" id="PacketProcessor-backto-ClientPacketRouter" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="6000,3404.662,5994,3422.662,6006,3422.662,6000,3404.662" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ClientController to Client--><g class="link" data-entity-1="ClientController" data-entity-2="Client" data-source-line="698" data-uid="lnk136" id="link_ClientController_Client"><path codeLine="698" d="M6489.99,626.712 C6558.68,626.712 6602.11,626.712 6602.11,626.712 C6602.11,626.712 6602.11,2966.712 6602.11,2966.712 C6602.11,2966.712 6339.71,2966.712 6161.35,2966.712" fill="none" id="ClientController-backto-Client" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="6477.99,626.712,6483.99,630.712,6489.99,626.712,6483.99,622.712,6477.99,626.712" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6485.7729" y="630.0183">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6168.922" y="2962.8176">1</text></g><!--reverse link ClientController to User--><g class="link" data-entity-1="ClientController" data-entity-2="User" data-source-line="699" data-uid="lnk137" id="link_ClientController_User"><path codeLine="699" d="M6402.55,877.822 C6402.55,924.622 6402.55,944.712 6402.55,944.712 C6402.55,944.712 6853.08,944.712 7131.14,944.712" fill="none" id="ClientController-backto-User" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="6402.55,865.822,6398.55,871.822,6402.55,877.822,6406.55,871.822,6402.55,865.822" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6408.2249" y="887.3266">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="7116.3363" y="937.7218">1</text></g><!--reverse link ClientController to ContactRepository--><g class="link" data-entity-1="ClientController" data-entity-2="ContactRepository" data-source-line="700" data-uid="lnk138" id="link_ClientController_ContactRepository"><path codeLine="700" d="M6081.66,877.532 C6081.66,917.622 6081.66,942.712 6081.66,972.622" fill="none" id="ClientController-backto-ContactRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="6081.66,865.532,6077.66,871.532,6081.66,877.532,6085.66,871.532,6081.66,865.532" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6064.7723" y="887.0162">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6080.474" y="961.2425">1</text></g><!--reverse link ClientController to GroupRepository--><g class="link" data-entity-1="ClientController" data-entity-2="GroupRepository" data-source-line="701" data-uid="lnk139" id="link_ClientController_GroupRepository"><path codeLine="701" d="M5948.17,791.712 C5704.99,791.712 5390.19,791.712 5390.19,791.712 C5390.19,791.712 5390.19,897.782 5390.19,972.562" fill="none" id="ClientController-backto-GroupRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5960.17,791.712,5954.17,787.712,5948.17,791.712,5954.17,795.712,5960.17,791.712" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="5945.3885" y="796.7987">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="5386.6871" y="961.1763">1</text></g><!--reverse link ClientController to ConversationRepository--><g class="link" data-entity-1="ClientController" data-entity-2="ConversationRepository" data-source-line="702" data-uid="lnk140" id="link_ClientController_ConversationRepository"><path codeLine="702" d="M6021.08,877.742 C6021.08,938.132 6021.08,969.712 6021.08,969.712 C6021.08,969.712 5946.48,969.712 5867.37,969.712" fill="none" id="ClientController-backto-ConversationRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="6021.08,865.742,6017.08,871.742,6021.08,877.742,6025.08,871.742,6021.08,865.742" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="5999.9328" y="887.2409">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="5874.8001" y="959.9821">1</text></g><!--reverse link ClientController to ClientPacketRouter--><g class="link" data-entity-1="ClientController" data-entity-2="ClientPacketRouter" data-source-line="703" data-uid="lnk141" id="link_ClientController_ClientPacketRouter"><path codeLine="703" d="M6490,388.712 C6564.43,388.712 6613.9,388.712 6613.9,388.712 C6613.9,388.712 6613.9,3592.712 6613.9,3592.712 C6613.9,3592.712 6351.87,3592.712 6170.19,3592.712" fill="none" id="ClientController-backto-ClientPacketRouter" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="6478,388.712,6484,392.712,6490,388.712,6484,384.712,6478,388.712" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6485.7835" y="378.259">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6178.0551" y="3588.8476">1</text></g><!--reverse link ClientController to MessageIdGenerator--><g class="link" data-entity-1="ClientController" data-entity-2="MessageIdGenerator" data-source-line="704" data-uid="lnk142" id="link_ClientController_MessageIdGenerator"><path codeLine="704" d="M5948.18,717.712 C5474.2,717.712 4527,717.712 4527,717.712 C4527,717.712 4527,3331.642 4527,3771.972" fill="none" id="ClientController-backto-MessageIdGenerator" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5960.18,717.712,5954.18,713.712,5948.18,717.712,5954.18,721.712,5960.18,717.712" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="5945.3988" y="720.6018">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="4519.6204" y="3760.687">1</text></g><!--reverse link ClientController to ClientEventListener--><g class="link" data-entity-1="ClientController" data-entity-2="ClientEventListener" data-source-line="705" data-uid="lnk143" id="link_ClientController_ClientEventListener"><path codeLine="705" d="M6327.59,877.692 C6327.59,936.512 6327.59,966.712 6327.59,966.712 C6327.59,966.712 6482.59,966.712 6625.49,966.712" fill="none" id="ClientController-backto-ClientEventListener" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="6327.59,865.692,6323.59,871.692,6327.59,877.692,6331.59,871.692,6327.59,865.692" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6327.9943" y="887.1874">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="6583.2065" y="960.7818">many</text></g><!--reverse link ClientController to CryptoStrategy--><g class="link" data-entity-1="ClientController" data-entity-2="CryptoStrategy" data-source-line="706" data-uid="lnk144" id="link_ClientController_CryptoStrategy"><path codeLine="706" d="M5948.17,643.712 C5418.36,643.712 4271.75,643.712 4271.75,643.712 C4271.75,643.712 4271.75,5024.712 4271.75,5024.712 C4271.75,5024.712 3585.93,5024.712 3321.38,5024.712" fill="none" id="ClientController-backto-CryptoStrategy" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="5960.17,643.712,5954.17,639.712,5948.17,643.712,5954.17,647.712,5960.17,643.712" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ContactRepository to Contact--><g class="link" data-entity-1="ContactRepository" data-entity-2="Contact" data-source-line="708" data-uid="lnk145" id="link_ContactRepository_Contact"><path codeLine="708" d="M6154.44,1091.712 C6168.89,1091.712 6166.65,1091.712 6166.65,1091.712 C6166.65,1091.712 6166.65,1175.022 6166.65,1252.312" fill="none" id="ContactRepository-backto-Contact" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="6142.44,1091.712,6148.44,1095.712,6154.44,1091.712,6148.44,1087.712,6142.44,1091.712" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="6150.4509" y="1093.5845">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="6123.9179" y="1240.8374">many</text></g><!--reverse link GroupRepository to Group--><g class="link" data-entity-1="GroupRepository" data-entity-2="Group" data-source-line="709" data-uid="lnk146" id="link_GroupRepository_Group"><path codeLine="709" d="M5353,1128.572 C5353,1159.962 5353,1186.122 5353,1223.592" fill="none" id="GroupRepository-backto-Group" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5353,1116.572,5349,1122.572,5353,1128.572,5357,1122.572,5353,1116.572" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="5344.709" y="1138.5482">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="5315.5151" y="1212.4434">many</text></g><!--reverse link ConversationRepository to Conversation--><g class="link" data-entity-1="ConversationRepository" data-entity-2="Conversation" data-source-line="710" data-uid="lnk147" id="link_ConversationRepository_Conversation"><path codeLine="710" d="M5738.32,1138.262 C5738.32,1176.132 5738.32,1210.062 5738.32,1252.472" fill="none" id="ConversationRepository-backto-Conversation" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5738.32,1126.262,5734.32,1132.262,5738.32,1138.262,5742.32,1132.262,5738.32,1126.262" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="5748.5561" y="1147.4692">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="5695.5682" y="1241.0071">many</text></g><!--reverse link Conversation to Message--><g class="link" data-entity-1="Conversation" data-entity-2="Message" data-source-line="711" data-uid="lnk148" id="link_Conversation_Message"><path codeLine="711" d="M5865,1522.672 C5865,1550.272 5865,1568.342 5865,1598.802" fill="none" id="Conversation-backto-Message" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5865,1510.672,5861,1516.672,5865,1522.672,5869,1516.672,5865,1510.672" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="5857.3241" y="1532.521">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="5830.4442" y="1587.129">many</text></g><!--reverse link ClientPacketRouter to ClientPacketHandler--><g class="link" data-entity-1="ClientPacketRouter" data-entity-2="ClientPacketHandler" data-source-line="713" data-uid="lnk149" id="link_ClientPacketRouter_ClientPacketHandler"><path codeLine="713" d="M6000,3658.102 C6000,3695.312 6000,3733.212 6000,3772.322" fill="none" id="ClientPacketRouter-backto-ClientPacketHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="6000,3646.102,5996,3652.102,6000,3658.102,6004,3652.102,6000,3646.102" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="5991.2352" y="3667.1011">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.112" x="5963.9354" y="3760.6374">many</text></g><!--reverse link Client to PacketProcessor--><g class="link" data-entity-1="Client" data-entity-2="PacketProcessor" data-source-line="714" data-uid="lnk150" id="link_Client_PacketProcessor"><path codeLine="714" d="M6000,3117.852 C6000,3208.792 6000,3307.482 6000,3355.752" fill="none" id="Client-backto-PacketProcessor" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="6000,3105.852,5996,3111.852,6000,3117.852,6004,3111.852,6000,3105.852" style="stroke:#181818;stroke-width:1;"/></g><!--link Client to Packet--><g class="link" data-entity-1="Client" data-entity-2="Packet" data-source-line="720" data-uid="lnk151" id="link_Client_Packet"><path codeLine="720" d="M5838.51,3095.712 C5589.13,3095.712 5138.75,3095.712 5138.75,3095.712 C5138.75,3095.712 5138.75,3742.512 5138.75,4007.712" fill="none" id="Client-to-Packet" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="5138.75,4013.712,5142.75,4004.712,5138.75,4008.712,5134.75,4004.712,5138.75,4013.712" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="5110.75" y="3200.729">uses</text></g><!--link TchatsAppServer to Packet--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="Packet" data-source-line="721" data-uid="lnk152" id="link_TchatsAppServer_Packet"><path codeLine="721" d="M1680.29,3146.712 C2402.95,3146.712 4776.68,3146.712 4776.68,3146.712 C4776.68,3146.712 4776.68,3752.042 4776.68,4007.552" fill="none" id="TchatsAppServer-to-Packet" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4776.68,4013.552,4780.68,4004.552,4776.68,4008.552,4772.68,4004.552,4776.68,4013.552" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="3633.91" y="3142.609">uses</text></g><!--link MessageFactory to MessageType--><g class="link" data-entity-1="MessageFactory" data-entity-2="MessageType" data-source-line="722" data-uid="lnk153" id="link_MessageFactory_MessageType"><path codeLine="722" d="M3880.62,3916.262 C3880.62,4052.112 3880.62,4309.712 3880.62,4309.712 C3880.62,4309.712 4640.32,4309.712 4940.91,4309.712" fill="none" id="MessageFactory-to-MessageType" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4946.91,4309.712,4937.91,4305.712,4941.91,4309.712,4937.91,4313.712,4946.91,4309.712" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="4189.04" y="4305.609">uses</text></g><!--link ProtocolMessage to MessageType--><g class="link" data-entity-1="ProtocolMessage" data-entity-2="MessageType" data-source-line="723" data-uid="lnk154" id="link_ProtocolMessage_MessageType"><path codeLine="723" d="M3560.14,4224.422 C3560.14,4275.022 3560.14,4325.712 3560.14,4325.712 C3560.14,4325.712 4585.02,4325.712 4940.89,4325.712" fill="none" id="ProtocolMessage-to-MessageType" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4946.89,4325.712,4937.89,4321.712,4941.89,4325.712,4937.89,4329.712,4946.89,4325.712" style="stroke:#181818;stroke-width:1;"/></g><!--link ServerPacketRouter to MessageFactory--><g class="link" data-entity-1="ServerPacketRouter" data-entity-2="MessageFactory" data-source-line="725" data-uid="lnk155" id="link_ServerPacketRouter_MessageFactory"><path codeLine="725" d="M953.69,3655.302 C953.69,3703.702 953.69,3762.712 953.69,3762.712 C953.69,3762.712 2410.01,3762.712 3128.67,3762.712" fill="none" id="ServerPacketRouter-to-MessageFactory" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="3134.67,3762.712,3125.67,3758.712,3129.67,3762.712,3125.67,3766.712,3134.67,3762.712" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="1962.48" y="3758.609">uses</text></g><!--link ClientPacketRouter to MessageFactory--><g class="link" data-entity-1="ClientPacketRouter" data-entity-2="MessageFactory" data-source-line="726" data-uid="lnk156" id="link_ClientPacketRouter_MessageFactory"><path codeLine="726" d="M5829.84,3630.712 C5290.39,3630.712 3653.67,3630.712 3653.67,3630.712 C3653.67,3630.712 3653.67,3690.342 3653.67,3747.132" fill="none" id="ClientPacketRouter-to-MessageFactory" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="3653.67,3753.132,3657.67,3744.132,3653.67,3748.132,3649.67,3744.132,3653.67,3753.132" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="4652.54" y="3626.609">uses</text></g><!--link TchatsAppServer to MessageFactory--><g class="link" data-entity-1="TchatsAppServer" data-entity-2="MessageFactory" data-source-line="728" data-uid="lnk157" id="link_TchatsAppServer_MessageFactory"><path codeLine="728" d="M1680.42,3187.712 C2176.4,3187.712 3394.33,3187.712 3394.33,3187.712 C3394.33,3187.712 3394.33,3573.082 3394.33,3746.992" fill="none" id="TchatsAppServer-to-MessageFactory" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="3394.33,3752.992,3398.33,3743.992,3394.33,3747.992,3390.33,3743.992,3394.33,3752.992" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="2792.02" y="3183.609">uses</text></g><!--SRC=[tHpBRjj8ykwlQ2I7K1afm0wmUn0oNYWoxGYZrqfqCDd1mA38jiqnHN99oed6yB_iSRs_uH_RVf7iHpKbESvCPdDm97PrTNLLTNMzgE8cIZ8_zzSeZX9SRZECqhoyJe-ECZ-uyQymUX6awtMQl41tHuZyOtzUeH_eFpGV37zqFRJq5kT3xtpXyiSC98Zzea1pWWINOYhzrqEhpUKbplletRR4xzXdT9TZFvmbyVQ-WUlL7xz3btcwTZfz52MbzBHCpMUPlurJFrn6ls5py0gNSpvEnvhr9H2_Q1vRWUwAqY-Zu1vHiayfRM5KzD69N_gZ9DkKov8ChCbildjePa0WIkpXp-K45mLXiqFto0Zkaes93q6Qb3Wf-uXWZ9AhFJ2wwwpSSY00euhW_iWGrBjD58TK8AgyG3ue4bAcEv8K104rBHthf92m3vhHK2zDBN3ffOw-BO5AXQj4BeZgenNPoy-_j4owZEAOYNMbxBnbHbGiY2figSQiqZJ6Vg8C3jDr5kCIXp30Yk9p8EcsQgoGdogvNk-uEdHzeHE5zTpE5xEXkrpE5jAv9Vp4-QKVO85cdgS1KT5KLWfoplXJ9xifAx89WRTf50hIwDyaBJ7Aewlh4gMNEheQsUlNSxyaQoPCpGczLzlNh-lHESxNP2yXHk7ZmsMKH3aAeylBnuUS78m2aGbHYTViSvPkSXHZye6jnBUDav3HOV9WGdO-E7EHzt7kBYK6u6IpHk9KUjGUDllst9-y-il4FHaDwc_3XJlmt8lpfRlGdvqjPkVp-k7v_8G-d2_TyvDP_NHmSd8nd4szmT1Jdh6v5nDtyax2kt0dimykF2RGyx7fOEBM8oVks3Me6Rk33_epmPWBGltG6ysczS1qverEHyE1yj1TB6RDyc_UlB6RSAg_peeVGA8j4eyLgyx0EXnCqYPLWHSpRpQSZMifDlBpLmNHYg2i35kUbccGnc8rIPel4RtkO3fUDlP7Xa_L9yeExwg5xmcSCC6WnPRXw5wBQhC__w8UVKgHOsKK0JW5xyKhPXkbnnB_E4-aUmUHZ-ICjF6fXzRysIYiRY9fJBkZf94SP_7MIy5PPKHmbluwwwCubKTaZkww7Wsop1jJPSkaca2vez7408PykcruKUq812Xa06Fpidbiv5InWI9K6F5TknB1ccC8UeB3o7ykIQyfCeyT6NWCblJrPhrA_2Ycxf6Xvy-W9V8UzrKJOok7Aig4xzSsxCcR1e_tiqZNJmYHzF8xHCJ4yaHf0bkL7cAn075LSkBGJlpiRSMnsUfN79J75X7eXCXo0DQJkUs7uRnQqxd1sqP8jtwy8GBYAuF71vpOgQOyCxU9XyTsSWYlIp-NjGbGSRnEVus0vr4n24FJMLJOhb44Ah-5WgwwS5TRJpiEdeh4flKkHGaECkomy_iSefccPNGP1VwXuacaUHR35ZAhfJ-MfG0i3aj2Mg2huEqy6pjqt_QKU72pnKSZB1TqdXBzIVEjp9FUqwFLFQxZldodsrTw7fFULwu6-sfVyHZrzJFQikT3RMZVDBjsxBAI7ggTVKZ5eQN8tL5WeRvgOAWTGckCgEeb52AA8Ib279BzvtuS5HZ5FjdkumEZauICHQKd-uQ2enDqvaxTnS1JGcBbp8p2CvnW4gUcQfeaI3SqSkwZGPckes3Sug_eU1pLtBAdrCnk2fnJNUCf3iCqLP3l_U9QXktgVbEt8Ov-LN59ObYb9Q5TaeD4eoIBiyU7XCJVdCk4PPia-jS6InAX194rtWzwt__rRu8oQhqggiXdGL07_Ns7QDpfSF5nJYDEC4SnpBTPcLPv0oL5WPE03ZgXv7T2dbY8Ty59B2hJZF97NNRFLCQ9bBVmuwiqZyfhmX6QsmYkoLZEZZBAqgA8Lh5LQRas3jobjlU8vfXu9iJAbHxYZXBPCYv_n5jOGmtSZZghynMvB6tH_TvzqXQpFBebJt-aDC_hppB0PXL70NacVDmHKQShd7VHl1gm-Ba6HGwybkxVLcZLKrgJqMyMDjtShyBWzXp92GvIRk1sEr4lqQVSpp8SYY7OrflvOikAphguCb1qlcPQH4jIMkY2ZdWzA9tnmQ_ffbJFix_vlEiU4lhE9LspqiRzHZpA_QCePjzcecXaKI-q8xxG2GA5qnKhwoj-eLEhAdN7hbRVoHlIGmn9vGtkqamvm2JsH_EFtxmvDew0cbs79bHPU7BeYwFxeoDnfUtvZu3JB3rrIvRkueExE7H-NRyZDkSMvs3zpkBmDFShxEqeNafRed69YMUGb94VouWaCxwdDoKiDAocu28EyJJoqgWRjT6j-K2myxDFhQA-vydbJkri-VXm5V6B_ahsdS9NevDThkbmDfswB0sFbjx0CokimpH9C0iFbiGDnugKWckV3CQ4s9Jguf1_HNUNKUB7zp9W715onSqaF-V8SJWWh1mbXAV4e9dJQHtq7L3MDG2Za0hgCf9C3xgxJMF2ZnWh16rooa1-XcnrDqKBD3uuWRRhZYrMvgSBJGQZAHgE1ykbmMAFyB4i1bcsP2T9KTGw-9aCVhgOBCykbgD_kbgLe05wTtvwwYuknkxqp7klGurEtAatElruuOqcxkpSqyTf47YBctrM6JfvbrsT3yTggfvBSyZ4hNi_RJFPX7ziy0RhizZ3jutKZu-LRA9Iy-jRYu3aMcgEMnyyUptqASrlM6BI_Oo33HcZyeW2ENrP1DSutCHK4PVYOzW2ZMCSi0MNufCyI0t83aLLonMgcZXPAWnGLr3kNTE3KfZ5RBgIOxf-1OaseCUurDZeP9d1Md3UK9ppnamIWwYm6vgMX61Ghy4HToSbwibMS1I3OiBIahZGHGFKS4c8uWUOE04Y28cvZWBESeyPedtWFf7O2-y36CHfWSNPSWh3ffY8_Hky8GgGXEnSEB05Dalba4KIHVhtW-d9s5qixILEhczSBk_z98mL6_KISGUWhokexJOra3aM11sugddDPi6UlA49qhp0J_Y2Zb6NjRjrHa6pOa3bFBSpHzdwGOH_0RLoMl90SdcQSqaEAekr9jAttTMn7UBiKeDZukty0HogigP_0c6UvUacQpAnXyhpYaxNxrI6SvHSfiSwv6ZdBVaxyA0AE6dumqXr_70T9NLY8_7NSXPUys924e6jLqGDnORgb3vzM7_DgLDVb782rB3rzBvv7bmXfkrPV2ygghQvK081a3SKFGpJzPgCIi43YK_zh23-2cjXIhCgIc1XGzFcj4zQsxmL5ZGheGHUzkQkdb0RwcYDew9y2spfUFVTmPTqj5HOPOB44ds8NwPgxjzjreHl9YsW7AxzAA7W2rnaXDdHAegZKWxgs5ovhGmHj0LvKB49-HcXBykZnuSTiHnhiqAZwUdC237g4wz6sP8g0j6KVEg0ONuA2ihZih8j5i7LoslQBw-WIL8SFEMesPp2_M2ZGi2fTG-eeN90wMg10qkY9wC1YQ5d2xLThCbro9UU8WPwBVAQfAFrkLILiZhTQcoVWE5RU3ASyAA6o0QkfuO_a-DPG6ZRBgnJ4i4ijyIahPKDIxR1meWUMla5FebO65TUmve4OtUKcPt_GzxgEO8NVtc1NlTww0KnyziNUcmDJaa9k7wbGp1G30qOUuq2syLayL-qsRM14DbEqu6bb2dkw9TaF8VZaJlrdfpnv24bcF6a3Rh86QU17zFMinoJyBPa5st7CChdXUQiIGR7iBSzb1Lu4wP0eHOgz1nGhvAF5oL9go8fgsgbadC62Ry9mURP6Xd5g8OSxC6gYriTQ7iC6tamzwFSWHZHjUn_HumicgMXT6X98-CxhKMLF7j-oP4LooLc6HIU6xMc9kdwZah73j4DA-13fRV9YDt4UmgG0u_5FfmdIxY1kR7MC-zj7X7e39bHabr-Si2XX1ej_b7lOFz8yutaHUsU4k4Vjvsm7AS4YUqCiZ4jbZAbC-0BWzYvFyLAQ-0UlveZjyi_szlXQ-bjS-X5WqCKKriURpksXfts_cP0BypE_vxP-T_IzovrtzXA9ZtnnX0KLxSrHESYBw8rvyh2FTQJHOEIs97hDQELNT2jRKaEq5gtpwjf1_PFxrcYtxSnN-cZrsqnYOJy_6R06Ev0sbeDc1hQjFIRV05FO_iR0kIqLPajHsiSL8y0UFYUD9NH99I6DKtiL1kswucgETmF5le3Bg9FwCZArjBg9mNbTIjPLILzV1259oaShyM0VjYlmqolpXAiDD37HPT-59pf8bm6RtPs2T88qXevQlNnNQy8JAf-rPtl4DXU3vBEX34S5UFK3sqD4N8hcseIfDG82J0-oucGiV_R5j5N4QdLP5cenmSojJq9HNGlvjpHuqipgttmIoVrgoN0QoMrVT97j0Rws19x6kjsTPITFusuzT83a-plBP2yudM_ORjHOUuZNZzigMKmulUIbq5DLrlbpo114MYGCQwe5eTQaYljQsgENTscX5XBD4qwGnCuGmYqo7SNdA5oRnE3QyIcHsCVtCLoeFNfrY4PJPdodXSjBgi7sjnqdknMxov1rB49ECj3cbZcgMi6VQpuNSmTtz7v9fFi06Hs3Jn6TbJgcBEMN1fF2NGlp5QtPWAxpDaU3Kxmo3-XjV0XlGHDXuhvGt5iTOaaFyLBMnp3_HmHm8TVkFFPSkJD5YFbrUlcHYL-L5f4j9VkhNUitAo4DeVMGlh8ipbAJjJY3Kc3dXP9nN7DLE_OSbqsX45tPZCgzuIo2dTKelYL7mIF_obOIsYO9iJ7OHrYQN33Fh58XfdarZjLP0QQjMHJBZq5KY10omzzR8bwAQl5n7u5-gKy5sZid5T8Wgkj1-tSNc1jsVKLFziCx4jtp93OzokHSWz8khOyXugxdWZ8l1vh5tmDrbScFOCArBXQzG0Wau7DyY6xqogSW3K6Le6IY2pDZCQZfKUxOE4tJDZDwDwIFvGkcfrNx57zHjG21pYw9JTukysdakIcTH3I-_x9PhL29muCnxRxkAO9OzKvI_pjqdI6NIvSq0QcAxuERz-IMMvCTlCypHrC_q9HCnGM0ko63ErinPjOpExRntyJEti-Gk6hn_-MEHRlU1BxocAMnuTR4blomxEhyvOhnzvTM9noUnUMwdjI-UHf75lRMKriZWt3jzE7nIbhwSPgPz8Vqi33IMhhoVfcYRQrINsxNBRsINsp93z30msmD_l5QtJ80BEVs243cJVf_G8ZRkCnuPqHfUll2P3doUUgnLKfRExk-pPjdj8o1BOJcoyeEDTfKJOtPjrv3IPrmwYefXtGxGmcXuq-x3tQiENUPn3lLTEdROPk8ZxVe-cXLURUOZOUkmkBp9kh1P2-cQEftjQWrUO-Ar6RaKVZgFRD04PtrsLWpUEtEBaQUk2vd4qHZeLwFXMVmto9WLk0Fc0LeFAIrANPyYxr_c_jcSUaaP5pm87GlSa3JmTLpKRM542HDZDW5GkTYirzoAcp1H5FdKtFhVm35Is_eGZKMlURsqNGhpg1w9HVi91-jeBbFwji9FIJ5Qqr8p0JjIk0s5bEUYQiX52uqG6ubANMuVO2Dq7A6vHsjldQjldawUHSt08jmIQWhNdOrcqXMZCI_6c-kxt6ob8maG8I0IGWTkKtxL4wVOb8VGM-i1WliykQXMBRGyBbQiupXimLohsZu6h2_i5iquHiZVNKNpJnG_ddCqxJJPv49TeaMCf35DJt594i-wNBabu-XT4j7ZINipssNRXZbgjVLYv1umSO7a3T2KZ-bsx-LhZwLcZ71le1hLCWRs3N6ZPdO8-T6jTywnpBJG_EIQNUK4lAmvX7vzZUM3UJmcO7Qcqlz2mgrEnPOOKIa2PgrLGe5HyDM2vgIDjiQrq58Y1f9jWJ-vJcq-PGa1EnSAjcrEMXc0HPvcy0wCsy9WJmCmBoBz4AAFsd27XXhlanZ2EW6rX2LM4Ns03-su71FS2W_mC0]--></g></svg>